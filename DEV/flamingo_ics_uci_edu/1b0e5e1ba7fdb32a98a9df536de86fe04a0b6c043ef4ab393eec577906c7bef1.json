{"url": "http://flamingo.ics.uci.edu/releases/1.0/src/filtertree/perftest.cc", "content": "/* \n$Id$\n\nCopyright (C) 2007 by The Regents of the University of California\n\nRedistribution of this file is permitted under\nthe terms of the *GNU* Public License (*GPL*) \t\n\nDate: 04/08/2007\nAuthor: Yiming Lu <yimingl@ics.uci.edu>\n*/\n\n#include <string>\n#include <iostream>\n#include <fstream>\n#include <sys/types.h>\n#include <time.h>\n#include <map>\n#include \"filtertree.h\"\n#include \"../util/input.h\"\n\nusing namespace std;\n\nconst string DICTFILE = \"data/trec.sel.ls.0.words.txt\";\nconst string PATTERNFILE = \"data/trec.sel.ls.0.words.query.200.bin\";\nconst string ANSWERFILE = \"data/trec.sel.ls.0.words.answer.200.2.bin\";\n\nint main()\n{\n    //dictionary\n    vector<string> words;\n    readString(words, DICTFILE);\n    //build Index\n    AppSearch *filter = new FilterTree(2, &words, standardFunction);\n    filter->build();\n    //query\n    vector<unsigned> queryIDs;\n    readUnsignedBin(queryIDs, PATTERNFILE);\n    vector<unsigned> results;\n    for(unsigned i = 0; i < queryIDs.size(); i++) {\n        results.clear();\n        filter->search( words[queryIDs[i]], 2, results);\n    }\n    //save the index\n    ((FilterTree*)filter)->saveIndex(\"index_file\");\n    //report the performance result\t\n    ((FilterTree*)filter)->reportAnalyses();\n    delete filter;\n    return 0;\t\t\t\n}\n\n\n\n", "encoding": "ascii"}