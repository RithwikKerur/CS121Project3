{"url": "http://flamingo.ics.uci.edu/releases/1.0/src/partenum/unittest.cc", "content": "/*\n    $Id: unittest.cc 1110 2007-04-17 00:12:04Z rvernica $\n\n    Copyright (C) 2007 by The Regents of the University of California\n\n    The implementation of the PartEnum algorithm invented by Microsoft\n    researchers is limited to non commercial use, which would be\n    covered under the royalty free covenant that Microsoft made\n    public.\n\n    Date: 01/31/2007\n    Author: Rares Vernica <rvernica@ics.uci.edu>\n*/\n\n#include <cassert>\n#include <iostream>\n#include <vector>\n\n#include \"partenum.h\"\n#include \"util/output.h\"\n\nusing namespace std;\n\nvoid testPartEnum() \n{\n  unsigned t = 0;\n\n  vector<string> data;\n  data.push_back(\"abc\");\n  data.push_back(\"ac\");\n  data.push_back(\"xyz\");\n\n  PartEnum pSave(data, 1, 1, 3, 2);\n  pSave.build();\n  pSave.saveIndex(\"partenum\"); // save\n  PartEnum pLoad(data, \"partenum\"); // load\n  assert(pSave == pLoad); t++;\n\n  vector<unsigned> searchCor, searchRes;\n  searchCor.push_back(0);\n  searchCor.push_back(1);\n  pSave.search(\"ab\", searchRes); // search\n  assert(searchCor == searchRes); t++;\n\n  cout << \"partenum (\" << t << \")\" << endl;\n}\n\nint main()\n{\n  cout << \"test...\" << endl;\n\n  testPartEnum();\n\n  cout << \"OK\" << endl;\n}\n", "encoding": "ascii"}