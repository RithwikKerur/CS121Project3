{"url": "http://flamingo.ics.uci.edu/releases/1.0/src/util/jd.cc", "content": "/*\n    $Id: jd.cc 1109 2007-04-17 00:04:26Z rvernica $\n\n    Copyright (C) 2007 by The Regents of the University of California\n\n    Redistribution of this file is permitted under the terms of the\n    GNU Public License (GPL).\n\n    Date: 03/24/2007\n    Author: Rares Vernica <rvernica@ics.uci.edu>\n*/\n\n#include \"jd.h\"\n\n#include <algorithm>\n\n#include \"gram.h\"\n\nusing namespace std;\n\nfloat jd(const string &s1, const string &s2, const unsigned q)\n{\n  unsigned\n    n = s1.length(), \n    m = s2.length();\n\n  if (n == 0 || m == 0)\n    return 1;\n\n  set<string> s1Gram, s2Gram, sInt, sUni;\n  str2grams(s1, s1Gram, q);\n  str2grams(s2, s2Gram, q);\n\n  set_intersection(s1Gram.begin(), s1Gram.end(),\n                   s2Gram.begin(), s2Gram.end(), \n                   inserter(sInt, sInt.begin()));\n\n  set_union(s1Gram.begin(), s1Gram.end(),\n            s2Gram.begin(), s2Gram.end(), \n            inserter(sUni, sUni.begin()));\n\n  return 1 - static_cast<float>(sInt.size()) / sUni.size();\n}\n\n", "encoding": "ascii"}