{"url": "http://flamingo.ics.uci.edu/releases/4.0/src/util/src/io.cc", "content": "/*\n  $Id: io.cc 5720 2010-09-09 05:42:48Z abehm $\n\n  Copyright (C) 2010 by The Regents of the University of California\n\n  Redistribution of this file is permitted under the terms of the BSD\n  license.\n\n  Date: 06/23/2008\n  Author: Rares Vernica <rares (at) ics.uci.edu>\n*/\n\n#include \"io.h\"\n#include \"common/src/typedef.h\"\n\nusing namespace std;\n\ntemplate<>\nistream& text_io_read(istream &in, string &d) \n{\n  return getline(in, d);\n}\n\nistream& read_binary_string(istream &in, string &str) \n{\n  uint len;\n  in.read(reinterpret_cast<char*>(&len), sizeof(uint));\n  \n  char *textBuf = new char[len];\n  in.read(textBuf, len);\n  str = string(textBuf, len);\n  delete [] textBuf;\n  \n  return in;\n}\n\nostream& write_binary_string(ostream &out, const string &str) \n{\n  uint len = str.length();\n  out.write(reinterpret_cast<const char*>(&len), sizeof(uint));\n  return out.write(str.c_str(), len);\n}\n\n", "encoding": "ascii"}