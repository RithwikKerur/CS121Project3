{"url": "http://flamingo.ics.uci.edu/releases/3.0/src/topk/topkheap.v1.cc", "content": "/*\n  $Id: topkheap.v1.cc 4414 2009-04-30 04:24:27Z rares $\n\n  Copyright (C) 2007 by The Regents of the University of California\n \n  Redistribution of this file is permitted under the terms of the BSD\n  license\n\n  Date: 02/20/2008\n  Author: Rares Vernica <rares (at) ics.uci.edu>\n*/\n\n#include \"topkheap.v1.h\"\n\nnamespace Topk \n{\n  namespace Heap_v1\n  {\n    void _sortListsBySize(\n      const std::vector<Array<uint>*> &allLists,\n      const uint *const pointersIndex, \n      uint sortedIndex [])\n    {\n      std::vector<Array<uint>*>::const_iterator ite = allLists.begin();\n\n      uint *sizeHeap = new uint[allLists.size()]; \n      uint *indexHeap = new uint[allLists.size()];\n\n      uint index = 0;\n\n      uint heapSize = 0;\n\n      for (uint i = 0; i < allLists.size(); i++) {\n        uint sizeOfList = allLists[i]->size() - pointersIndex[i];\n    \n        heapInsert(sizeOfList,index++,sizeHeap,indexHeap,heapSize);\n    \n      }\n\n      index = 0;\n\n      while (heapSize > 0) {\n        sortedIndex[index++] = indexHeap[0];\n        heapDelete(sizeHeap,indexHeap,heapSize);\n      }\n\n      delete [] sizeHeap;\n      delete [] indexHeap;\n    }\n  }\n}\n", "encoding": "ascii"}