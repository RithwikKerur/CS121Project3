{"url": "http://flamingo.ics.uci.edu/releases/1.0/src/filtertree/unittest.cc", "content": "/* \n$Id$\n\nCopyright (C) 2007 by The Regents of the University of California\n\nRedistribution of this file is permitted under\nthe terms of the *GNU* Public License (*GPL*) \t\n\nDate: 04/08/2007\nAuthor: Yiming Lu <yimingl@ics.uci.edu>\n*/\n\n#include <string>\n#include <iostream>\n#include <vector>\n#include <sys/types.h>\n#include <cassert>\n#include \"filtertree.h\"\n#include \"../util/input.h\"\n\nusing namespace std;\n\nvoid testFilterTree()\n{\n    unsigned t = 0;\n    \n    vector<string> data;\n    data.push_back(\"abc\");\n    data.push_back(\"ac\");\n    data.push_back(\"xyz\");\n    \n    FilterTree fSave(2, &data);\n    fSave.build();\n    vector<unsigned> searchResSave;\n    fSave.search(\"ab\", 2, searchResSave); //search based on building index\n    fSave.saveIndex(\"index_File\");\n    \n    FilterTree fLoad(&data, \"index_File\");\n    vector<unsigned> searchResLoad;\n    fLoad.search(\"ab\", 2, searchResLoad); //search based on loading index\n    \n    assert(searchResSave == searchResLoad); t++;\n    \n    vector<unsigned> searchCor;\n    searchCor.push_back(0);\n    searchCor.push_back(1);\n    assert(searchCor == searchResSave); t++;\n    cout << \"filterTree (\" << t << \")\" << endl;\n}\n\nint main()\n{\n\ttestFilterTree();\t\n}\n\n\n\n", "encoding": "ascii"}