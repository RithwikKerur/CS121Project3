{"url": "https://frost.ics.uci.edu/Ucigame/Ucigame-20101216/Gallery/FlippedOut.html", "content": "<html>\r\n<head>\r\n    <title>Ucigame - Gallery - FlippedOut</title>\r\n<link href=\"../stylesheet.css\" rel=\"stylesheet\" type=\"text/css\">\r\n</head>\r\n<body>\r\n\r\n<center><h2>Ucigame - Gallery - FlippedOut</h2></center>\r\n\r\n<h4>\r\n<a href=\"../index.html\">Home</a> |\r\n<a href=\"../getting-started.html\">Getting Started</a> |\r\n<a href=\"../reference.html\">Reference</a> |\r\n<a href=\"../java.html\">Introduction to Java</a> |\r\n<a href=\"../gallery.html\">Gallery</a>\r\n</h4>\r\n\r\n<p>\r\n<table>\r\n<tr>\r\n<td width=\"300\" valign=\"top\">\r\n<applet\r\n   code=\"FlippedOut.class\"\r\n   codebase=\".\"\r\n   archive=\"../ucigame.jar\"\r\n   width=\"250\"\r\n   height=\"250\"\r\n   border=\"0\"\r\n>\r\nYour browser cannot show Java applets.\r\n</applet>\r\n</td>\r\n<td width=600 valign=\"top\" halign=\"center\">\r\nThis demo illustrates a number of Ucigame features, including\r\nsound and sprite rotation.\r\nThe art in <a href=\"images/char9.png\">images/char9.png</a> and\r\n<a href=\"images/blocks1.png\">images/blocks1.png</a> comes from\r\nAri Feldman's marvelous\r\n<a href=\"http://www.flyingyogi.com/fun/spritelib.html\">SpriteLib</a>\r\ncollection of sprites.\r\n<br>\r\nKeyboard controls: <br>\r\n<table>\r\n<tr><td>UP\t\t</td><td>give cat a boost</td></tr>\r\n<tr><td>R\t\t</td><td>rotate cat</td></tr>\r\n<tr><td>B\t\t</td><td>rotate block</td></tr>\r\n<tr><td>SPACE\t</td><td>restore cat and block orientation</td></tr>\r\n<tr><td>PAUSE\t</td><td>stops the violin solo</td></tr>\r\n<tr><td>HOME\t</td><td>starts the violin solo from the beginning with loop</td></tr>\r\n<tr><td>SHIFT\t</td><td>starts the violin solo from the beginning, plays once</td></tr>\r\n<tr><td>1\t\t</td><td>stops the piano solo</td></tr>\r\n<tr><td>2\t\t</td><td>starts the piano solo from the beginning with loop</td></tr>\r\n<tr><td>3\t\t</td><td>starts the piano solo from the beginning, plays once</td></tr>\r\n</table>\r\n\r\n</td>\r\n</tr>\r\n<tr>\r\n<td colspan=2>\r\n<br>\r\n<b>FlippedOut.java</b>\r\n<br>\r\n<pre>\r\nimport ucigame.*;\r\n\r\npublic class FlippedOut extends Ucigame\r\n{\r\n    Sprite cat;\r\n    Sprite block;\r\n    Sprite tiledBackground;\r\n\r\n    Sound violinSolo, pianoSolo;\r\n    Sound bump;\r\n\r\n    int catX, catY;                    // cat status variables\r\n    int catSpeed = 2;\r\n    int catRotation = 0;\r\n    boolean headedRight = true;\r\n    boolean upsideDown = false;\r\n\r\n    int blockRotation = 0;\r\n\r\n    public void setup()\r\n    {\r\n        window.size(250, 250);\r\n        window.title(\"Flipped Out\");\r\n        framerate(30);\r\n\r\n        canvas.background(50, 150, 150);\r\n\r\n        cat = makeSprite(105, 60);\r\n        cat.addFrames(getImage(\"images/char9.png\", 0),\r\n                            0, 70,        // cat has six frames\r\n                            130, 70,\r\n                            260, 70,\r\n                            390, 70,\r\n                            0, 203,\r\n                            130, 203);\r\n\r\n        catX = 0;\r\n        catY = canvas.height()/2 - cat.height()/2;\r\n        cat.position(catX, catY);\r\n        cat.framerate(10);\r\n\r\n        block = makeSprite(32, 32);\r\n        block.addFrame(getImage(\"images/blocks1.png\", 0), 240, 138);\r\n        block.position(200, 118);\r\n\r\n        tiledBackground = makeSprite(getImage(\"images/tilableBackground.png\"), 250, 50);\r\n        tiledBackground.position(0, 200);\r\n\r\n        bump = getSound(\"sounds/Windows XP Battery Low.wav\");\r\n        violinSolo = getSound(\"sounds/paganini-caprice13.wav\");\r\n        pianoSolo = getSound(\"sounds/Schumann.mp3\");\r\n        violinSolo.loop();\r\n    }\r\n\r\n    public void draw()\r\n    {\r\n        canvas.clear();\r\n        tiledBackground.draw();\r\n\r\n        // Move cat, reversing direction at edge\r\n        catX = catX + catSpeed;\r\n        if (catX + cat.width() >= canvas.width())\r\n        {\r\n            headedRight = false;\r\n            catSpeed = -catSpeed;\r\n        }\r\n        else if (catX <= 0)\r\n        {\r\n            headedRight = true;\r\n            catSpeed = -catSpeed;  // change negative to positive\r\n        }\r\n\r\n        // if cat hits the top, flip it upside down\r\n        if (catY <= 0)\r\n            upsideDown = true;\r\n\r\n        // If cat is up in the air, move it down\r\n        if (catY < canvas.height() - cat.height())\r\n            catY = catY + 1;\r\n        else\r\n            upsideDown = false;\r\n\r\n        cat.position(catX, catY);\r\n\r\n        cat.checkIfCollidesWith(block);\r\n        if (cat.collided())\r\n            bump.play();\r\n\r\n        block.rotate(blockRotation);\r\n        block.draw();\r\n\r\n        if (!headedRight)\r\n            cat.flipHorizontal();\r\n        if (upsideDown)\r\n            cat.flipVertical();\r\n        cat.rotate(catRotation);\r\n        cat.draw();\r\n    }\r\n\r\n    // UP    give cat a boost\r\n    // R     rotate cat\r\n    // B     rotate block\r\n    // SPACE restore cat and block orientation\r\n    // PAUSE stops the violin solo\r\n    // HOME  starts the violin solo from the beginning with loop\r\n    // SHIFT starts the violin solo from the beginning, plays once\r\n    // 1     stops the piano solo\r\n    // 2     starts the piano solo from the beginning with loop\r\n    // 3     starts the piano solo from the beginning, plays once\r\n    public void onKeyPress()\r\n    {\r\n        if (keyboard.key() == keyboard.UP)\r\n            catY = catY - 20;\r\n        if (keyboard.key() == keyboard.R)\r\n            catRotation = catRotation + 5;\r\n        if (keyboard.key() == keyboard.B)\r\n            blockRotation = blockRotation + 5;\r\n        if (keyboard.key() == keyboard.SPACE)\r\n        {\r\n            catRotation = 0;\r\n            blockRotation = 0;\r\n        }\r\n        if (keyboard.key() == keyboard.PAUSE)\r\n            violinSolo.stop();\r\n        if (keyboard.key() == keyboard.HOME)\r\n            violinSolo.loop();\r\n        if (keyboard.key() == keyboard.SHIFT)\r\n            violinSolo.play();\r\n        if (keyboard.key() == keyboard.K1)\r\n            pianoSolo.stop();\r\n        if (keyboard.key() == keyboard.K2)\r\n            pianoSolo.loop();\r\n        if (keyboard.key() == keyboard.K3)\r\n            pianoSolo.play();\r\n    }\r\n}\r\n</pre>\r\n</td>\r\n</tr>\r\n</table>\r\n\r\n<br>\r\n<br>\r\n\r\n</body>\r\n</html>\r\n", "encoding": "ascii"}