{"url": "https://frost.ics.uci.edu/Ucigame/Ucigame-20101216/Gallery/BounceHouse.html", "content": "<html>\r\n<head>\r\n    <title>Ucigame - Gallery - BounceHouse</title>\r\n<link href=\"../stylesheet.css\" rel=\"stylesheet\" type=\"text/css\">\r\n</head>\r\n<body>\r\n\r\n<center><h2>Ucigame - Gallery - BounceHouse</h2></center>\r\n\r\n<h4>\r\n<a href=\"../index.html\">Home</a> |\r\n<a href=\"../getting-started.html\">Getting Started</a> |\r\n<a href=\"../reference.html\">Reference</a> |\r\n<a href=\"../java.html\">Introduction to Java</a> |\r\n<a href=\"../gallery.html\">Gallery</a>\r\n</h4>\r\n\r\n<p>\r\n<table>\r\n<tr>\r\n<td width=\"300\" valign=\"top\">\r\n<applet\r\n   code=\"BounceHouse.class\"\r\n   codebase=\".\"\r\n   archive=\"../ucigame.jar\"\r\n   width=\"250\"\r\n   height=\"250\"\r\n   border=\"0\"\r\n>\r\nYour browser cannot show Java applets.\r\n</applet>\r\n</td>\r\n<td width=600 valign=\"top\" halign=\"center\">\r\nBounceHouse shows off Ucigame's \"pixel perfect\" collision\r\ndetection.  (If you don't specify pixel perfect, then\r\ncollision detection is based on the entire rectangular sprite,\r\nwhich in the case of the big X has quite a different shape.)\r\nUse the arrow keys to accelerate the spaceship in any\r\ndirection.\r\n<br> <br>\r\nPress the Space key to toggle the spaceship's behavior when\r\nit collides with an edge or the big X: it can bounce or stop.\r\n<br> <br>\r\nThe spaceship's \"eyes\" turn red briefly when it bumps against\r\nthe big X or the side of the window.  The red \"eyes\"\r\n(see <a href=\"images/et-red-eyes.png\">images/et-red-eyes.png)</a>\r\nare pinned onto the spaceship sprite, and are normally\r\nhidden (because of spaceshipBumped.hide()).  When a collision\r\nis detected, spaceshipBumped.show() is called, so they\r\nappear on top of the usual green \"eyes.\"\r\nAt timer named \"TurnOffBumpedIndicator\" is created, which\r\ncauses TurnOffBumpedIndicatorTimer() to be invoked every 200\r\nmilliseconds.  But since that method turns itself off, it\r\nis only called once, and the eyes are set back to green by\r\nhiding the pinned sprite.\r\n</td>\r\n</tr>\r\n<tr>\r\n<td colspan=2>\r\n<br>\r\n<b>BounceHouse.java</b>\r\n<br>\r\n<pre>\r\nimport ucigame.*;\r\n\r\npublic class BounceHouse extends Ucigame\r\n{\r\n    Sprite bigX;\r\n    Sprite spaceship;\r\n    Sprite spaceshipBumped;\r\n    int howManyFramesToShowInstructions = 120;\r\n    int currFrame = 0;\r\n    boolean bounce = true;\r\n\r\n    public void setup()\r\n    {\r\n        window.size(250, 250);\r\n        window.title(\"Bounce House\");\r\n        framerate(30);\r\n        window.showFPS();\r\n\r\n        canvas.background(128, 0, 0);\r\n\r\n        bigX = makeSprite(getImage(\"images/bigX.png\", 255));\r\n        spaceship = makeSprite(getImage(\"images/et.png\", 255));\r\n        spaceshipBumped = makeSprite(getImage(\"images/et-red-eyes.png\", 255));\r\n        spaceship.pin(spaceshipBumped, 12, 18);\r\n        spaceshipBumped.hide();\r\n        keyboard.typematicOff(keyboard.SPACE);\r\n\r\n        bigX.position(50, 50);\r\n        spaceship.position(15, 15);\r\n        spaceship.motion(0, 0);\r\n\r\n        if (isAvailableFont(\"Arial\"))\r\n            canvas.font(\"Arial\", ITALIC, 15, 255, 255, 0);\r\n    }\r\n\r\n    public void draw()\r\n    {\r\n        canvas.clear();\r\n\r\n        if (currFrame < howManyFramesToShowInstructions)\r\n        {\r\n            canvas.putText(\"Space to toggle bouncing/stopping\", 10, 220);\r\n            currFrame = currFrame + 1;\r\n        }\r\n\r\n        spaceship.move();\r\n        if (bounce)\r\n            spaceship.bounceIfCollidesWith(\r\n                bigX, TOPEDGE, BOTTOMEDGE, LEFTEDGE, RIGHTEDGE, PIXELPERFECT);\r\n        else\r\n            spaceship.stopIfCollidesWith(\r\n                bigX, TOPEDGE, BOTTOMEDGE, LEFTEDGE, RIGHTEDGE, PIXELPERFECT);\r\n        if (spaceship.collided())\r\n        {\r\n            spaceshipBumped.show();\r\n            startTimer(\"TurnOffBumpedIndicator\", 200);\r\n        }\r\n\r\n        bigX.draw();\r\n        spaceship.draw();\r\n    }\r\n\r\n    public void onKeyPress()\r\n    {\r\n        // Arrow keys accelerate the spaceship\r\n        if (keyboard.isDown(keyboard.UP))\r\n            spaceship.motion(0, -0.1, ADD);\r\n        if (keyboard.isDown(keyboard.DOWN))\r\n            spaceship.motion(0, 0.1, ADD);\r\n        if (keyboard.isDown(keyboard.LEFT))\r\n            spaceship.motion(-0.1, 0, ADD);\r\n        if (keyboard.isDown(keyboard.RIGHT))\r\n            spaceship.motion(0.1, 0, ADD);\r\n\r\n        // Space toggles bouncing (typematic is turned off for Space key)\r\n        if (keyboard.key() == keyboard.SPACE)\r\n            bounce = !bounce;\r\n    }\r\n\r\n    public void TurnOffBumpedIndicatorTimer()\r\n    {\r\n        spaceshipBumped.hide();\r\n        stopTimer(\"TurnOffBumpedIndicator\");\r\n    }\r\n}\r\n</pre>\r\n</td>\r\n</tr>\r\n</table>\r\n\r\n<br>\r\n<br>\r\n\r\n</body>\r\n</html>\r\n", "encoding": "ascii"}