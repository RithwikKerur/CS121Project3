{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs122b-2018-winter-project1?version=57&format=txt", "content": "[[PageOutline]]\r\n\r\n= CS122B: Project 1 =\r\n'''Due: Week 3 Monday, 1/22/2018, 11:45pm. Due on Github.'''[[BR]]\r\n\r\n= Tasks =\r\n 1. Setup Apache Tomcat (on your development machine);\r\n 1. Setup an Amazon AWS instance\r\n 1. Join Github Organization and create a repo for your team.\r\n 1. Create a MySQL database with provided movie info (on your development machine);\r\n 1. Implement the Movie List page of the Fablix Application\r\n\r\n----\r\n= Task 1: Setup Apache Tomcat =\r\nWe assume you already have Java installed on your machine. We recommend at least Java 8.\r\n\r\nDownload and install the latest Apache Tomcat from https://tomcat.apache.org/download-80.cgi#8.5.24 on your development machine. Go to \"8.5.24\" -> \"Binary Distributions\" -> \"Core\", for Mac and Linux, download the \"zip\" file, for Windows, download the \"32-bit or 64-bit Windows zip\".Unzip the downloaded file.\r\n\r\nFollow this [https://javatutorial.net/how-to-install-and-configure-tomcat-8 Install and Configure Tomcat 8 tutorial] to set up Tomcat. For the \"Change Servlet Compiler to use Java 8\" section, the \"conf/web.xml\" doesn't have the lines as the tutorial said. You can add these lines to the place suggested by the tutorial.\r\n\r\n * For Mac and Linux users, you may need to give permission to the \"sh\" files by going to the \"bin\" folder and then running: ` sudo chmod +x *.sh `\r\n * Be sure to change your Tomcat password to something else than \"admin\". Otherwise your website will be very vulnerable.\r\n\r\nYou should see the following interfaces if you setup Tomcat successfully: [https://grape.ics.uci.edu/wiki/public/attachment/wiki/cs122b-2018-winter-project1/tomcat-startup-interface.png Screenshot 1], [https://grape.ics.uci.edu/wiki/public/attachment/wiki/cs122b-2018-winter-project1/tomcat-app-manager.png Screenshot 2]\r\n\r\n== Apache Tomcat Eclipse Integration (Highly Recommended) ==\r\nApache Tomcat makes hosting your applications easy. The Eclipse IDE makes development easy. Important: You may use Eclipse version 3.1 or higher.  We recommend you to use Eclipse EE (EE stands for Enterprise Edition and has built-in support for application and web servers including Tomcat)\r\n\r\nEclipse Downloads:\r\n\r\n * [http://www.eclipse.org/downloads/packages/eclipse-ide-java-ee-developers/oxygen2 Eclipse EE Edition]\r\n * [http://www.eclipse.org/downloads/packages/eclipse-ide-java-developers/oxygen2 Eclipse Standard Edition]\r\n\r\nThe following tutorial is a quick start guide and will help you set up your development environment in eclipse. ''Use the latest Tomcat version instead of the shown version in the tutorial''.     ''Note'': If you opt for Eclipse EE edition, you can skip the installation of Eclipse Web Tools Platform when following the quick start guide.\r\n\r\n * [http://www.mulesoft.com/tomcat-eclipse Apache Tomcat Eclipse Integration Quickstart Guide]\r\n\r\nThese tutorials can also be helpful\r\n\r\n * [http://o7planning.org/en/10209/installing-and-configuring-tomcat-server-in-eclipse Install and Configure Tomcat Server in Eclipse]\r\n * [https://javatutorial.net/run-tomcat-from-eclipse Run Tomcat from Eclipse]\r\n\r\n= Task 2: Setup an AWS Instance =\r\n[[Span(id=setup-aws)]]You need to launch an Amazon [https://aws.amazon.com/console/ AWS instance] to repeat the tasks above. Make sure to use the '''free-tier 64-bit Ubuntu instances''' so that we can make our future instructions consistent. You are welcome to participate in the \u200b[https://aws.amazon.com/education/awseducate/ AWS Educate] program, which can provide $100 AWS credits per student. (I believe UCI is a member institution.)\r\n\r\nGenerally, similar to many other tasks in this quarter, we expect you to figure out how to do many tasks by reading online materials.  [https://aws.amazon.com/free/ This] link is a good place to start from.\r\n\r\n== Launch a free AWS instance ==\r\n 1. Go to [https://aws.amazon.com/console/ AWS Console] to sign up. You will need to enter a valid credit card. Don't worry; as long as you choose a free-tier instance and remove it after the end of the quarter, you will not be charged.\r\n 1. When you are done, login to the AWS console.\r\n 1. Launch a new '''Ubuntu 14.04''' free-tier '''t2.micro''' instance. Notice that you need to generate and download a key to ssh to the machine, and it may take a few minutes for the instance to be initialized.\r\n 1. After the instance is running, you will see a public IP address assigned to it. Keep this IP: you are required to give us this IP to demo project 1.\r\n 1. When viewing the list of instances, you can click on the \"connect\" button, on the top to get instructions on how to use SSH to connect to the instance. By default, only the SSH port, 22, is open. In order to get other services (e.g., HTTP, HTTPS, and Tomcat) to be available to other machines, you will need to open the corresponding ports. '''To do so, when the instance is checked, select the security group, go to the \"inbound\" tab, and add more rules'''.\r\n\r\n== Setup MySQL and !Apache/Tomcat on the AWS instance ==\r\nThis part assumes you have SSH access to the Ubuntu 14.04 AWS instance.\r\n\r\n 1. [https://www.linode.com/docs/databases/mysql/how-to-install-mysql-on-ubuntu-14-04 Install MySQL].\r\n 1. [https://help.ubuntu.com/lts/serverguide/httpd.html Install Apache Web server]. '''Open port 80'''.\r\n 1. [http://tecadmin.net/install-oracle-java-8-jdk-8-ubuntu-via-ppa/ Install Java] [[BR]]\r\n 1. [https://grape.ics.uci.edu/wiki/public/wiki/cs122b-2017-winter-project1-install-tomcat-on-aws Install Tomcat on AWS]. Setup its application app manager page and test it using the URL http://YOUR_PUBLIC_IP:8080/manager/html. '''Open port 8080'''. This part is a little tricky, so read the instructions carefully.\r\n\r\nHere are two cheat sheets of !Linux/Ubuntu commands:\r\n\r\n * http://cli.learncodethehardway.org/bash_cheat_sheet.pdf\r\n * http://www.cheat-sheets.org/saved-copy/ubunturef.pdf\r\n\r\n= Task 3: Join Github Organization and create a repo for your team. =\r\nThis course uses Github for version control. The students are expected to use Github as explained below.\r\n\r\n * Create an account on Github if you don't have one. Then provide us your username in the Google Spreadsheet [https://docs.google.com/spreadsheets/d/1B0eu9Zt5gtaHdBFMnPnYb1mYzzpBPUcEKjmeGEiRC6E/edit?usp=sharing here].\r\n * Wait for the invitation from our staff to join the [https://github.com/UCI-Chenli-teaching UCI-Chenli-teaching organization]. The invitation might take a few days to be sent out based on our schedule.\r\n * One member from each team needs to create a '''private''' repository. The repository name should be of the form 'cs122b-winter18-team-x' where 'x' is your assigned team number, e.g., \"cs122b-winter18-team-1\". Other members can then be added to the repository as collaborators (by following steps given [https://help.github.com/articles/inviting-collaborators-to-a-personal-repository/ here]).\r\n * You must wait for the invitation from us and '''create a private repository within the organization UCI-Chenli-teaching'''. Don't create a private repository on your own. 1) Go to [https://github.com/UCI-Chenli-teaching UCI-Chenli-teaching organization]. 2) click the '''New''' button to create a repository. 3) Yype in the name and choose '''private'''.\r\n\r\nCreate repo under the organization\r\n\r\n[[Image(wiki:cs122b-2018-winter-project1:create-repo-button.png)]]\r\n\r\nType the repo name properly and choose \"private\"\r\n\r\n[[Image(wiki:cs122b-2018-winter-project1:create-repo-interface.png)]]\r\n\r\n * You can then begin with your project using Github. Put the code of your project in your team's Github repository.\r\n\r\nWe have a [https://grape.ics.uci.edu/wiki/public/wiki/cs122b-2018-winter-project1-git wiki] to get you started with Github for this course. Go through one of these online tutorials to get familiar with Git and Github if you are not familiar with them.\r\n\r\n * https://try.github.io\r\n * https://product.hubspot.com/blog/git-and-github-tutorial-for-beginners\r\n\r\n\r\n= Task 4: Create a MySQL Database =\r\n * Download a MySQL database for your development machine from http://dev.mysql.com/downloads/mysql/;\r\n * Create a database called \"moviedb\" with the following tables:[[BR]]\r\n\r\n|| Table Name[[BR]] || Attributes[[BR]] || Notes ||\r\n|| movies[[BR]] || !id:varchar(10) (primary key)[[BR]] !title:varchar(100) [[BR]] !year:integer [[BR]] !director:varchar(100) [[BR]] || required [[BR]] required [[BR]] required [[BR]] required ||\r\n|| stars[[BR]] || !id:varchar(10) (primary key)[[BR]] !name:varchar(100) [[BR]] !birthYear:integer [[BR]] || required[[BR]] required [[BR]] not required[[BR]] ||\r\n|| stars_in_movies[[BR]] || !starId:varchar(10), referencing stars.id[[BR]] !movieId:varchar(10), referencing movies.id[[BR]] || all attributes required ||\r\n|| genres[[BR]] || !id:integer (primary key)[[BR]] !name:varchar(32) [[BR]] || all attributes required; \"id\" should be [[BR]]\"AUTO_INCREMENT\" ||\r\n|| genres_in_movies[[BR]] || !genreId:integer, referencing genres.id[[BR]] !movieId:varchar(10]), referencing movies.id[[BR]] || all attributes required ||\r\n|| customers[[BR]] || !id:integer (primary key)[[BR]] !firstName:varchar(50) [[BR]] !lastName:varchar(50) [[BR]] !ccId:varchar(20), referencing creditcards.id[[BR]] !address:varchar(200) [[BR]] !email:varchar(50) [[BR]] !password:varchar(20) [[BR]] || all attributes required; \"id\" should be [[BR]]\"AUTO_INCREMENT\" ||\r\n|| sales[[BR]] || !id:integer (primary key)[[BR]]       !customerId:integer, referencing customers.id[[BR]] !movieId:varchar(10), referencing movies.id[[BR]] !saleDate:date  [[BR]] || all attributes required; \"id\" should be [[BR]]\"AUTO_INCREMENT\" ||\r\n|| creditcards[[BR]] || !id:varchar(20), (primary key)[[BR]] !firstName:varchar(50) [[BR]] !lastName:varchar(50) [[BR]] !expiration:date [[BR]] || all attributes required ||\r\n|| ratings[[BR]] || !movieId:varchar(10), referencing movies.id[[BR]] !rating:float [[BR]] !numVotes:integer [[BR]] || all attributes required ||\r\n\r\nThe table-creation SQL statements should be written in a '''createtable.sql''' file.  All varchar() fields for which there is no data (i.e., the fields contents are missing or unknown) are the empty string (!''); other non-required fields which have no data are null. Required fields have the constraint that they are not null. [[BR]] [[BR]]\r\n\r\n * Use the provided [attachment:movie-data.sql] file to populate the tables.\r\n\r\n\r\n= Task 5: Implement the Movie List page of the Fablix Application =\r\n[[Image(wiki:cs122b-2018-winter-project1:122b-project1-diagram.jpg)]]\r\n\r\nYou only need to implement the Movie List page of the Fablix Application. You'll implement all other parts in project 2. You do NOT need to implement the sorting and prev/next features.\r\n\r\nIn project 1, the \"Movie list\" page shows the top 20 rated movies, sorted by the rating. You don't need to show all the movies. Each movie needs to contain the following information:\r\n\r\n * title\r\n * year;\r\n * director;\r\n * list of genres;\r\n * list of stars\r\n * rating\r\n\r\n\r\n= Examples and Resources =\r\n\r\n== JDBC ==\r\nYour Java Servlet need to talk to MySQL using JDBC. Download a MySQL JDBC driver file from \u200bhttps://dev.mysql.com/downloads/connector/j\r\n\r\n[[Span(id=jdbc-samples)]]Here are some sample JDBC programs. The [attachment:cs122b-setup-scripts.txt Setup Scripts] will give you the instructions on how to create the required database/tables and how to execute the sample code.\r\n\r\n * [attachment:cs122b-setup-scripts.txt Setup Scripts]\r\n * [attachment:JDBC1.java JDBC1.java - obtaining metadata and table contents]\r\n * [attachment:JDBC2.java JDBC2.java - deleting a record]\r\n\r\n== Tomcat Servlet Example ==\r\n[[Span(id=TomcatTestExample)]]\r\n\r\nYou are recommend to implement project 1 using the Java servlet techniques covered in the class. This !TomcatTest example will help you.\r\n\r\nTo test that Tomcat is working  and communicating with MySQL properly, we've prepared a servlet that performs basically the same tasks as the JDBC program. It queries the test database and returns some structural and content information. To run this program:\r\n\r\n 1. Make sure the MySQL database server containing the moviedb is running.\r\n 1. Download [attachment:wiki:cs122b-2018-winter-project1:TomcatTest.war TomcatTest.war]\r\n\r\nA WAR file is a \"Web Application Archive.\" It contains a compressed directory of the files needed for a ready-to-run java servlet that Tomcat will launch when you go to the Web page designated in the WAR. A WAR file must a have certain directory structure and contain appropriate files (with the appropriate contents) for Tomcat to launch the applet. If your TOMCAT installation was correct, there should be a \"webapps\" folder under \"Tomcat 8.5.24\" directory of your Tomcat root  installation. It is usually '''                   C:\\Program Files\\Apache Software Foundation\\Tomcat8.5.9\\webapps'''                    on Windows and '''                   /var/lib/Tomcat8.5.9/webapps/'''                    on Ubuntu. You should place this .WAR here inside the webapps folder.  \r\n\r\n 3. We'll now \"deploy\" this application.  Start the Tomcat server. Go to http://localhost:8080; this is your local web page. The tomcat welcome page should appear.\r\n 3. Click on Tomcat Manager; enter your admin user login and password (given when you installed Tomcat); click OK. If your login and password are correct, the Tomcat Web Application Manger page will appear.\r\n 3. Under \"Deploy directory or WAR file located on server\" you should see a deploy button. You need not specify a path. If you simply click the deploy button, Tomcat will automatically refresh its list of applications. !TomcatTest should now appear in the \"Applications\" list.  Go to http://localhost:8080/TomcatTest to check if you can access a simple HTML page.\r\n 3. Go to http://localhost:8080/TomcatTest/servlet/TomcatTest.  Tomcat will run the servlet !TomcatTest and print its output onto the web page. If the output is database information, all is well. If instead you see a message that an SQLException occurred, check that the MySQL server is running, that the test database with the correct user name, user password, and table structure has been created.\r\n 3. Go to the tomcat installation folder and open the \"webapps\" folder. This folder contains all the applications you plugged in so far into Tomcat.  Open \"!TomcatTest\" folder. Every file under this folder except for WEB-INF is a file directly accessible from a url such as '''!http://localhost:8080/TomcatTest/MY_FILE_NAME'''.  This folder usually contains all the static HTML content you might need for your web application. In our case we have \"index.html\". Now open the WEB-INF folder. This folder is not directly exposed on the internet. It actually  contains your Java executable classes that provide dynamic content of  your web application.\r\n\r\nThe subfolder \"classes\" contains your Java classes, while the \"lib\"  folder is used to store the libraries you might use in your Java  classes. In the \"lib\" folder, you will find the MySQL JDBC driver.  Another very  important file in this folder is \"web.xml\". This file contains description of all your Java servlets that you would use in your application. We have only one servlet in this application. If you open  \"web.xml\" you will see description of servlet \"!TomcatTest                    \". Without  \"web.xml\" Tomcat would not know how to configure a the classes you have  in the \"classes\" folder. In our case, we declare that we have a servlet \"!TomcatTestServlet                   \" whose Java class is !TomcatTest                   . We  also specify that we map this servlet to path \"servlet/!TomcatTest                   \",  thus can be accessed at!http://localhost:8080/TomcatTest/servlet/TomcatTest                   .\r\n\r\nNow let's look at the \"sources\" folder. If you make any changes to \"!TomcatTest                   .java\", and recompile the program, we'd like those changes to be reflected the next time you reload your web application. To recompile the program, your -classpath flag must contain paths to both the MySQL driver and the servlet API jar file. Assuming you are inside the  \"sources\" folder, the following command will recompile the servlet\r\n\r\n  '''                    (Windows)  javac -classpath \"../lib/servlet-api.jar;../lib/mysql-connector-java-5.14.0-bin.jar\" !TomcatTest                   .java'''\r\n\r\nBe sure to place a copy of the !TomcatTest.class file inside the WEB-INF\\classes folder (i.e., you want to overwrite the old .class file with the one that you just created).  You can go to the \"Tomcat Manager\" page and click on \"reload\" next to \"!TomcatTest\". When you run the servlet now, you should see the desired changes in the functionality.  More information on the servlet API is available at hhttp://docs.oracle.com/javaee/6/tutorial/doc/bnafd.html.\r\n\r\n\r\n== Other Online Resources ==\r\nHere are some relevant tutorials. You can start the project after learning the basics. Don't spend too much time on learning the advanced content. You won't use them until Project 2.\r\n\r\n * HTML and CSS tutorial: http://htmldog.com/guides/html/beginner/\r\n * An interactive HTML tutorial (Seems the tutorial is broken as of 1/7/2018, it may get fixed): https://www.codecademy.com/ar/tracks/htmlcss\r\n * A good Java Servlet Tutorial: http://tutorials.jenkov.com/java-servlets/index.html\r\n * Another good Java Servlet Tutorial: http://o7planning.org/en/10169/java-servlet-tutorial\r\n\r\n\r\n= Grading Checklist =\r\nPlease refer to the [https://docs.google.com/spreadsheets/d/1PcwItuueewQhftvHRllkgDgkHYNfmxR_a8dJyD8qDCE/edit?usp=sharing grading checklist] before submitting your project. This checklist includes the items we are looking for to grade your projects. Notice that we reserve the right to make reasonable changes of this checklist. Thus, you should implement all the required features, and only use this checklist to make sure you don't miss anything.\r\n\r\n= Project Submission =\r\nWe'll take your Github code as submissions. You need to include all the code in your Github repository, including Java, SQL, HTML, CSS, etc... You don't have to submit anything on EEE.\r\n\r\nOn the night of the end of the grace period, we will run a script that gets the latest commit ID in your repository. We'll use the time of the latest commit to determine if you use the Grace Period or not. So if you don't plan to use the Grace Period, don't push anything to Github during the 24-hour Grace Period. After the 24-hour grace period, you can continue using your repository normally for the next project.\r\n\r\n * Remember that we will only be checking the code in the '''master branch''' of your repository.\r\n * Do not try to cheat, e.g., by modifying the timestamp of a commit to an earlier date. We'll use the time that you push your commits to Github. So be sure to push your changes to Github before the deadline!  Such cheating cases will be subject to very bad consequences.\r\n * To avoid any surprises, we will be publishing the final commit number that we have recorded for every team. It's your responsibility to check the commit number published by us. If you think we have made a mistake on the commit ID, you need to tell us ASAP.\r\n\r\n= Demonstration =\r\n'''You are required to demonstrate  this project'''. Create a running system from your ZIP file\u2013quickly. Show the correctness, completeness, functionality and performance of your database during your demonstration by using the employee interface developed here. Your task is to convince us '''(in 15 minutes)''' that your work is correctly and completely carried out and the course project is ready to move to phase 2. Your demo will include the following:\r\n\r\na) Logon to your AWS instance and checkout your code to the commit ID that we recorded. Then start your application based on it. You should already installed everything (MySQL, Tomcat, etc...) on the AWS and make sure your application can be started quickly.\r\n\r\nb) Demonstrate that your '''''creatable.sql''''' file creates a valid database. Since execution of the '''''data.sql''''' can take too long, you should have already setup a database and populate it. This database will be the one accessed by your demonstrated JDBC program. Thus, '''''creatable.sql''''' will be executed for a  database under a different name and get populated by executing '''''data.sql''''', while you are demonstrating other parts of the project.\r\n\r\nc) Demonstrate the correctness, completeness, and performance of all the required features.\r\n\r\nd) Last but not least, entering YOUR_PUBLIC_[IP:8080 IP:8080] on your AWS instance should show us the Tomcat application manager, which confirms that you are running Tomcat on the AWS instance.\r\n\r\nPlease note that '''you will have no more than 15 min to demonstrate'''.  It is completely up to you to plan your demo so that all the required features are displayed and the grader  can be convinced of the quality of your work in the given time frame.''' If a group's demonstration appears to be unstructured, the demo could be aborted and rescheduled for another time''' with a substantial '''grade penalty'''.\r\n\r\nDemonstration schedule will be posted later.", "encoding": "utf-8"}