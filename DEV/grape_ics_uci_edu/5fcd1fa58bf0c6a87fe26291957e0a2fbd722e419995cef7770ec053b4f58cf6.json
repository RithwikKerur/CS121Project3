{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs122b-2019-winter-project1-logging?version=23&format=txt", "content": "= Logging in MySQL and Tomcat =\r\n\r\nTo develop this multi-tier application, it is very important for you to understand what's happening in each tier. Whenever you have the question \"why doesn't my application work?\", the first thing you should do is to use the logging of MySQL and Tomcat to understand what each tier has received, and whether there is any error. This page provides instructions on how to enable and analyze logging of MySQL and Tomcat, on both the development machine and the production/AWS machine.\r\n\r\n----\r\n= 1. Apache Tomcat Logging (Dev machine + Eclipse) \r\n* After Eclipse starts, go to the '''Servers''' view and double-click the Tomcat server you're running.\r\n[[Image(wiki:cs122b-2019-winter-project1-logging:server-view.png)]]\r\n\r\n* You will find a window like the image below. Then, click on the blue link: '''Open launch configuration'''.\r\n[[Image(wiki:cs122b-2019-winter-project1-logging:server-overview.png)]]\r\n\r\n* You will find a dialog window like the image below.\r\n[[Image(wiki:cs122b-2019-winter-project1-logging:launch-configuration.png)]]\r\n\r\n* Click on '''Arguments''' section. Log files are stored in the folder {{{logs}}} of the path {{{-Dcatalina.base}}}.\r\n\r\n* Change the directory to that folder and monitor the files to see how they change as your browser sends requests to Tomcat.  In a Linux-like environment (e.g., Ubuntu or MacOS), you can run the following command : {{{tail -f *}}}.\r\n\r\n----\r\n= 2. Apache Tomcat Logging (AWS) =\r\n\r\n\r\n----\r\n= 3. MySQL Logging on AWS =\r\n* For MySQL (version > 5.6), to enable logging, uncomment the this line in {{{ /etc/mysql/mysql.conf.d/mysqld.cnf}}}:\r\n\r\n{{{\r\n#general_log_file        = /var/log/mysql/mysql.log\r\n#general_log             = 1 \r\n}}}\r\n\r\n* After making any of the above changes in MySQL configuration, You must have to '''restart MySQL services''' to apply changes: {{{sudo service mysql restart}}}.\r\n\r\n* Change directory to {{{/var/log/mysql/}}}. You can monitor log files by executing: {{{sudo tail -f /var/log/mysql/mysql.log}}}\r\n----\r\n= 4. MySQL Logging on Dev =\r\n* Change the corresponding MySQL configuration file as we do for AWS on your development machine\r\n\r\n* Restart MySQL server on your development machine to apply the changes.\r\n", "encoding": "ascii"}