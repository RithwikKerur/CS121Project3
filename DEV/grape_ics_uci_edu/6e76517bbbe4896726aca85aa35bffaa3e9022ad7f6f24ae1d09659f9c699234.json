{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs222-2018-fall-command-line-interface?version=2", "content": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n  \n  \n\n\n  <head>\n    <title>\n      cs222-2018-fall-command-line-interface \u2013 Public\n    </title>\n      <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n      <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <!--[if IE]><script type=\"text/javascript\">\n      if (/^#__msie303:/.test(window.location.hash))\n        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));\n    </script><![endif]-->\n        <link rel=\"search\" href=\"/wiki/public/search\" />\n        <link rel=\"help\" href=\"/wiki/public/wiki/TracGuide\" />\n        <link rel=\"alternate\" href=\"/wiki/public/wiki/cs222-2018-fall-command-line-interface?version=2&amp;format=txt\" type=\"text/x-trac-wiki\" title=\"Plain Text\" />\n        <link rel=\"up\" href=\"/wiki/public/wiki/cs222-2018-fall-command-line-interface\" title=\"View latest version\" />\n        <link rel=\"next\" href=\"/wiki/public/wiki/cs222-2018-fall-command-line-interface?version=3\" title=\"Version 3\" />\n        <link rel=\"start\" href=\"/wiki/public/wiki\" />\n        <link rel=\"stylesheet\" href=\"/wiki/public/chrome/common/css/trac.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/wiki/public/chrome/common/css/wiki.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/wiki/public/chrome/tracwysiwyg/wysiwyg.css\" type=\"text/css\" />\n        <link rel=\"tracwysiwyg.stylesheet\" href=\"/wiki/public/chrome/common/css/trac.css\" /><link rel=\"tracwysiwyg.stylesheet\" href=\"/wiki/public/chrome/tracwysiwyg/editor.css\" />\n        <link rel=\"tracwysiwyg.base\" href=\"/wiki/public\" />\n        <link rel=\"prev\" href=\"/wiki/public/wiki/cs222-2018-fall-command-line-interface?version=1\" title=\"Version 1\" />\n        <link rel=\"shortcut icon\" href=\"/wiki/public/chrome/site/favicon.ico\" type=\"image/x-icon\" />\n        <link rel=\"icon\" href=\"/wiki/public/chrome/site/favicon.ico\" type=\"image/x-icon\" />\n    <style id=\"trac-noscript\" type=\"text/css\">.trac-noscript { display: none !important }</style>\n    <script type=\"text/javascript\">\n      var _tracwysiwyg={};\n    </script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/jquery.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/babel.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/trac.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/search.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/folding.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/tracwysiwyg/wysiwyg.js\"></script>\n    <script type=\"text/javascript\">\n      jQuery(\"#trac-noscript\").remove();\n      jQuery(document).ready(function($) {\n        $(\".trac-autofocus\").focus();\n        $(\".trac-target-new\").attr(\"target\", \"_blank\");\n        setTimeout(function() { $(\".trac-scroll\").scrollToTop() }, 1);\n        $(\".trac-disable-on-submit\").disableOnSubmit();\n      });\n    </script>\n    <meta name=\"ROBOTS\" content=\"NOINDEX, NOFOLLOW\" />\n    <script type=\"text/javascript\">\n      jQuery(document).ready(function($) {\n        $(\"#content\").find(\"h1,h2,h3,h4,h5,h6\").addAnchor(_(\"Link to this section\"));\n        $(\"#content\").find(\".wikianchor\").each(function() {\n          $(this).addAnchor(babel.format(_(\"Link to #%(id)s\"), {id: $(this).attr('id')}));\n        });\n        $(\".foldable\").enableFolding(true, true);\n      });\n    </script>\n  </head>\n  <body>\n    <div id=\"banner\">\n      <div id=\"header\">\n        <a id=\"logo\" href=\"http://www.ics.uci.edu/\"><img src=\"/wiki/public/chrome/site/ics.jpg\" alt=\"ICS Logo\" height=\"67\" width=\"128\" /></a>\n      </div>\n      <form id=\"search\" action=\"/wiki/public/search\" method=\"get\">\n      </form>\n      <div id=\"metanav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/wiki/public/login\">Login</a></li><li><a href=\"/wiki/public/prefs\">Preferences</a></li><li class=\"last\"><a href=\"/wiki/public/about\">About Trac</a></li>\n    </ul>\n  </div>\n    </div>\n    <div id=\"mainnav\" class=\"nav\">\n  </div>\n    <div id=\"main\">\n      <div id=\"pagepath\" class=\"noprint\">\n  <a class=\"pathentry first\" title=\"View WikiStart\" href=\"/wiki/public/wiki\">wiki:</a><a class=\"pathentry\" href=\"/wiki/public/wiki/cs222-2018-fall-command-line-interface\" title=\"View cs222-2018-fall-command-line-interface\">cs222-2018-fall-command-line-interface</a>\n</div>\n      <div id=\"ctxtnav\" class=\"nav\">\n        <h2>Context Navigation</h2>\n        <ul>\n          <li class=\"first\"><span>&larr; <a class=\"prev\" href=\"/wiki/public/wiki/cs222-2018-fall-command-line-interface?version=1\" title=\"Version 1\">Previous Version</a></span></li><li><a href=\"/wiki/public/wiki/cs222-2018-fall-command-line-interface\" title=\"View latest version\">View Latest Version</a></li><li class=\"last\"><span><a class=\"next\" href=\"/wiki/public/wiki/cs222-2018-fall-command-line-interface?version=3\" title=\"Version 3\">Next Version</a> &rarr;</span></li>\n        </ul>\n        <hr />\n      </div>\n    <div id=\"content\" class=\"wiki\">\n        <br />\n        <table id=\"info\" summary=\"Revision info\">\n          <tr><th scope=\"row\">Version 2 (modified by cluo8, <a class=\"timeline\" href=\"/wiki/public/timeline?from=2018-12-05T09%3A44%3A42-08%3A00&amp;precision=second\" title=\"See timeline at Dec 5, 2018 9:44:42 AM\">10 months ago</a>)\n             (<a href=\"/wiki/public/wiki/cs222-2018-fall-command-line-interface?action=diff&amp;version=2\">diff</a>)</th></tr>\n          <tr><td class=\"message\">\n            <p>\n--\n</p>\n\n          </td></tr>\n        </table>\n      <div class=\"wikipage searchable\">\n        \n          <div id=\"wikipage\" class=\"trac-content\"><div style=\"background-color:rgb(237,222,222)\" class=\"wikipage\"><p>\n</p><div class=\"wiki-toc\">\n<ol>\n  <li>\n    <a href=\"#CommandLineInterfaceInterpreterforProject4\">Command Line Interface Interpreter for Project4</a>\n    <ol>\n      <li>\n        <a href=\"#Introduction\">Introduction</a>\n      </li>\n      <li>\n        <a href=\"#SupportedCommands\">Supported Commands</a>\n      </li>\n      <li>\n        <a href=\"#CommandExamples\">Command Examples</a>\n      </li>\n      <li>\n        <a href=\"#GettingandUsingCommandLineInterface\">Getting and Using Command Line Interface</a>\n      </li>\n      <li>\n        <a href=\"#Acknowledgement\">Acknowledgement</a>\n      </li>\n    </ol>\n  </li>\n</ol>\n</div><p>\n</p>\n<h1 id=\"CommandLineInterfaceInterpreterforProject4\">Command Line Interface Interpreter for Project4</h1>\n<p>\n<br />\n</p>\n<h2 id=\"Introduction\">Introduction</h2>\n<p>\nCommand Line Interface (CLI) takes a SQL-like command and executes that command. \nCLI is laid on top of the Relation Manager (RM) and Query Engine (QE) layers in Project 4 so that each command is executed via the public methods of the RM and/or QE layers.\n</p>\n<h2 id=\"SupportedCommands\">Supported Commands</h2>\n<p>\nThe interpreter supports the following commands. \n</p>\n<pre class=\"wiki\">create catalog\ncreate table &lt;tableName&gt; (col1 = &lt;type&gt;, col2 = &lt;type&gt;, ...)\n    &lt;type&gt; = int | real | &lt;varchar&gt;\n    &lt;varchar&gt; = \"varchar(\" &lt;length&gt; \")\"\n\ncreate index &lt;columnName&gt; on &lt;tableName&gt;\n\ndrop catalog\ndrop table &lt;tableName&gt;\ndrop index &lt;indexName&gt; on &lt;tableName&gt;\ndrop attribute &lt;attributeName&gt; from &lt;tableName&gt;\n\ninsert into &lt;tableName&gt; tuple(col1 = &lt;value1&gt;, col2 = &lt;value2&gt;, ...)\n\nSELECT &lt;query&gt;\n&lt;query&gt; = \n    PROJECT &lt;query&gt; GET \"[\" &lt;attrs&gt; \"]\"\n    FILTER &lt;query&gt; WHERE &lt;attr&gt; &lt;op&gt; &lt;value&gt;\n    BNLJOIN &lt;query&gt;, &lt;query&gt; WHERE &lt;attr&gt; &lt;op&gt; &lt;attr&gt; PAGES(&lt;numPages&gt;)\n    INLJOIN &lt;query&gt;, &lt;query&gt; WHERE &lt;attr&gt; &lt;op&gt; &lt;attr&gt;)\n    GHJOIN &lt;query&gt;, &lt;query&gt; WHERE &lt;attr&gt; &lt;op&gt; &lt;attr&gt; PARTITIONS(&lt;numPartitions&gt;)\n    AGG &lt;query&gt; [ GROUPBY(&lt;attr&gt;) ] GET &lt;agg-op&gt;(&lt;attr&gt;)\n    IDXSCAN &lt;query&gt; &lt;attr&gt; &lt;op&gt; &lt;value&gt;\n    TBLSCAN &lt;query&gt;\n    &lt;tableName&gt;\n\n&lt;agg-op&gt; = MIN | MAX | SUM | AVG | COUNT\n&lt;op&gt; = &lt; | &gt; | = | != | &gt;= | &lt;= | NOOP\n&lt;attrs&gt; = &lt;attr&gt; { \",\" &lt;attr&gt; }\n&lt;numPartitions&gt; = is a number bigger than 0\n&lt;numPages&gt; = is a number bigger than 0\n\nprint &lt;tableName&gt;\nprint attributes &lt;tableName&gt;\nprint index &lt;attributeName&gt; on &lt;tableName&gt;\n\nload &lt;tableName&gt; &lt;fileName&gt;: loads the file which is in data/ folder.\nhelp &lt;commandName&gt;\nhelp\nquit | exit\n</pre><p>\n<strong>Note:</strong> All commands are case-insensitive. However, all user defined strings such as table names, attribute names etc. are case-sensitive.\n</p>\n<h2 id=\"CommandExamples\">Command Examples</h2>\n<p>\nWhen you first execute CLI, you need to create the system catalog using the following command. Once the catalog is created, you don't need to execute this command again.\n</p>\n<pre class=\"wiki\">create catalog\n</pre><p>\nYou can create a table and insert a record using the following commands:\n</p>\n<pre class=\"wiki\">create table Employee EmpName = varchar(30), Age = int, Height = real, Salary = int\ninsert into Employee tuple(EmpName = sky, Age = 22, Height = 6.1, Salary = 13291)\n</pre><p>\nAlso, CLI supports a load command that allows users to load records in a file to an existing table.\nThe following screenshot shows how to load records from a file, employee_5 to a table, tbl_employee, and print all records in the table.\nFurthermore, it also shows how to use SELECT command with FILTER iterator.\n</p>\n<pre class=\"wiki\">&gt;&gt;&gt; create table tbl_employee EmpName = varchar(30), Age = int, Height = real, Salary = int\n&gt;&gt;&gt; load tbl_employee employee_5\n&gt;&gt;&gt; print tbl_employee\nEmpName           |  Age  |  Height    |  Salary  |  \n===================================================\nAnettea Belote    |  67   |  6.400000  |  75000   |  \nZina Legleiter    |  45   |  6.300000  |  150000  |  \nRena Broadus      |  68   |  5.900000  |  250000  |  \nLorriane Shimmin  |  49   |  6.600000  |  400000  |  \nElvira Binns      |  36   |  5.600000  |  200000  |  \n&gt;&gt;&gt; SELECT FILTER tbl_employee WHERE Age = 45\ntbl_employee.EmpName  |  tbl_employee.Age  |  tbl_employee.Height  |  tbl_employee.Salary  |  \n============================================================================================\nZina Legleiter        |  45                |  6.300000             |  150000               |  \n</pre><p>\n<strong>Note</strong> that there are a set of dataset files under codebase/data/ directory, which are used for example programs, \"cli_example_01.cc\" under codebase/cli directory (and can be used for your own examples.)\nThe example program contains 21 cases each of which executes a set of CLI commands.\nThose example cases provide more comprehensive usage of all CLI commands.\n</p>\n<h2 id=\"GettingandUsingCommandLineInterface\">Getting and Using Command Line Interface</h2>\n<p>\nThe <a class=\"forbidden wiki\" title=\"no permission to view this wiki page\">codebase</a> has the following source tree.\n</p>\n<pre class=\"wiki\">codebase/\n\u251c\u2500\u2500 cli\n\u2502   \u251c\u2500\u2500 cli.cc\n\u2502   \u251c\u2500\u2500 cli.h\n\u2502   \u251c\u2500\u2500 cli_example_XX.cc\n\u2502   \u251c\u2500\u2500 makefile\n\u2502   \u2514\u2500\u2500 start.cc\n\u251c\u2500\u2500 data\n\u2502   \u251c\u2500\u2500 ages_90\n\u2502   \u251c\u2500\u2500 employee_5\n\u2502   \u251c\u2500\u2500 employee_50\n\u2502   \u2514\u2500\u2500 salary_5\n\u251c\u2500\u2500 ix\n\u2502   \u251c\u2500\u2500 ix.cc\n\u2502   \u251c\u2500\u2500 ix.h\n\u2502   \u251c\u2500\u2500 ixtestX.cc\n\u2502   \u251c\u2500\u2500 ixtest_extra_X.cc\n\u2502   \u251c\u2500\u2500 ixtest_util.h\n\u2502   \u2514\u2500\u2500 makefile\n\u251c\u2500\u2500 makefile.inc\n\u251c\u2500\u2500 qe\n\u2502   \u251c\u2500\u2500 makefile\n\u2502   \u251c\u2500\u2500 qe.cc\n\u2502   \u251c\u2500\u2500 qetestX.cc\n\u2502   \u251c\u2500\u2500 qetest_util.h\n\u2502   \u2514\u2500\u2500 qe.h\n\u251c\u2500\u2500 rbf\n\u2502   \u251c\u2500\u2500 makefile\n\u2502   \u251c\u2500\u2500 pfm.cc\n\u2502   \u251c\u2500\u2500 pfm.h\n\u2502   \u251c\u2500\u2500 rbfm.cc\n\u2502   \u251c\u2500\u2500 rbfm.h\n\u2502   \u2514\u2500\u2500 rbftestX.cc\n\u251c\u2500\u2500 readme.txt\n\u251c\u2500\u2500 rm\n\u2502   \u251c\u2500\u2500 makefile\n\u2502   \u251c\u2500\u2500 rm.cc\n\u2502   \u251c\u2500\u2500 rm.h\n\u2502   \u251c\u2500\u2500 rmtest_XX.cc\n\u2502   \u251c\u2500\u2500 rmtest_create_tables.cc\n\u2502   \u251c\u2500\u2500 rmtest_delete_tables.cc\n\u2502   \u251c\u2500\u2500 rmtest_extra_X.cc\n\u2502   \u2514\u2500\u2500 test_util.h\n\u2514\u2500\u2500 shared.h\n</pre><p>\n<strong>Note</strong> that the folder, codebase/data/ has csv files that contain a set of records, which can be used for your own checking purpose. \n<br />\nAlso, the data folder is a folder that CLI program searches for files specified in \"load\" commands. <br />\n</p>\n<p>\nGoto cli folder and type the following commands\n</p>\n<pre class=\"wiki\">make clean; make; ./start\n</pre><p>\nif you see the following outputs (the folder hierarchy will be different), you are good to go to the next step.\n</p>\n<pre class=\"wiki\">************************\nSecSQL CLI started\nEnjoy!\n&gt;&gt;&gt; \n</pre><p>\nNow, put all files that you implemented(and will implement in Project4) to the corresponding folders in the above source tree. \nThen, if you type again the same command in the cli folder, you can start playing by typing <strong>\"help\"</strong>.\n</p>\n<h2 id=\"Acknowledgement\">Acknowledgement</h2>\n<p>\nThe CLI layer was originally written by the following three students from the previous CS222 course project.   \n</p>\n<ul><li>Sky Faber\n</li><li>Cesar Ghali\n</li><li>Ekin Oguz\n</li></ul><p>\nWe really appreciate their efforts. We also acknowledge the efforts of Sattam Alsubaiee, Young-Seok Kim, Hotham Altwaijry, Jianfeng Jia, and Taewoo Kim who updated the the CLI layer in the previous quarters. \n</p>\n</div></div>\n          \n          \n        \n        \n      </div>\n      \n\n    </div>\n    <div id=\"altlinks\">\n      <h3>Download in other formats:</h3>\n      <ul>\n        <li class=\"last first\">\n          <a rel=\"nofollow\" href=\"/wiki/public/wiki/cs222-2018-fall-command-line-interface?version=2&amp;format=txt\">Plain Text</a>\n        </li>\n      </ul>\n    </div>\n    </div>\n    <div id=\"footer\" lang=\"en\" xml:lang=\"en\"><hr />\n      <a id=\"tracpowered\" href=\"http://trac.edgewall.org/\"><img src=\"/wiki/public/chrome/common/trac_logo_mini.png\" height=\"30\" width=\"107\" alt=\"Trac Powered\" /></a>\n      <p class=\"left\">Powered by <a href=\"/wiki/public/about\"><strong>Trac 1.0.13</strong></a><br />\n        By <a href=\"http://www.edgewall.org/\">Edgewall Software</a>.</p>\n      <p class=\"right\">Visit the Trac open source project at<br /><a href=\"http://trac.edgewall.org/\">http://trac.edgewall.org/</a></p>\n    </div>\n  </body>\n</html>", "encoding": "utf-8"}