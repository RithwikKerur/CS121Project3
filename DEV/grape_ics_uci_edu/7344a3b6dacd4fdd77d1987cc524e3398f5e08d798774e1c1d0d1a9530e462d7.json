{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs222p-2018-fall-setup-gdb-on-macos?version=3", "content": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n  \n  \n\n\n  <head>\n    <title>\n      cs222p-2018-fall-setup-gdb-on-macos \u2013 Public\n    </title>\n      <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n      <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <!--[if IE]><script type=\"text/javascript\">\n      if (/^#__msie303:/.test(window.location.hash))\n        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));\n    </script><![endif]-->\n        <link rel=\"search\" href=\"/wiki/public/search\" />\n        <link rel=\"help\" href=\"/wiki/public/wiki/TracGuide\" />\n        <link rel=\"alternate\" href=\"/wiki/public/wiki/cs222p-2018-fall-setup-gdb-on-macos?version=3&amp;format=txt\" type=\"text/x-trac-wiki\" title=\"Plain Text\" />\n        <link rel=\"up\" href=\"/wiki/public/wiki/cs222p-2018-fall-setup-gdb-on-macos\" title=\"View latest version\" />\n        <link rel=\"start\" href=\"/wiki/public/wiki\" />\n        <link rel=\"stylesheet\" href=\"/wiki/public/chrome/common/css/trac.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/wiki/public/chrome/common/css/wiki.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/wiki/public/chrome/tracwysiwyg/wysiwyg.css\" type=\"text/css\" />\n        <link rel=\"tracwysiwyg.stylesheet\" href=\"/wiki/public/chrome/common/css/trac.css\" /><link rel=\"tracwysiwyg.stylesheet\" href=\"/wiki/public/chrome/tracwysiwyg/editor.css\" />\n        <link rel=\"tracwysiwyg.base\" href=\"/wiki/public\" />\n        <link rel=\"prev\" href=\"/wiki/public/wiki/cs222p-2018-fall-setup-gdb-on-macos?version=2\" title=\"Version 2\" />\n        <link rel=\"shortcut icon\" href=\"/wiki/public/chrome/site/favicon.ico\" type=\"image/x-icon\" />\n        <link rel=\"icon\" href=\"/wiki/public/chrome/site/favicon.ico\" type=\"image/x-icon\" />\n    <style id=\"trac-noscript\" type=\"text/css\">.trac-noscript { display: none !important }</style>\n    <script type=\"text/javascript\">\n      var _tracwysiwyg={};\n    </script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/jquery.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/babel.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/trac.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/search.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/folding.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/tracwysiwyg/wysiwyg.js\"></script>\n    <script type=\"text/javascript\">\n      jQuery(\"#trac-noscript\").remove();\n      jQuery(document).ready(function($) {\n        $(\".trac-autofocus\").focus();\n        $(\".trac-target-new\").attr(\"target\", \"_blank\");\n        setTimeout(function() { $(\".trac-scroll\").scrollToTop() }, 1);\n        $(\".trac-disable-on-submit\").disableOnSubmit();\n      });\n    </script>\n    <meta name=\"ROBOTS\" content=\"NOINDEX, NOFOLLOW\" />\n    <script type=\"text/javascript\">\n      jQuery(document).ready(function($) {\n        $(\"#content\").find(\"h1,h2,h3,h4,h5,h6\").addAnchor(_(\"Link to this section\"));\n        $(\"#content\").find(\".wikianchor\").each(function() {\n          $(this).addAnchor(babel.format(_(\"Link to #%(id)s\"), {id: $(this).attr('id')}));\n        });\n        $(\".foldable\").enableFolding(true, true);\n      });\n    </script>\n  </head>\n  <body>\n    <div id=\"banner\">\n      <div id=\"header\">\n        <a id=\"logo\" href=\"http://www.ics.uci.edu/\"><img src=\"/wiki/public/chrome/site/ics.jpg\" alt=\"ICS Logo\" height=\"67\" width=\"128\" /></a>\n      </div>\n      <form id=\"search\" action=\"/wiki/public/search\" method=\"get\">\n      </form>\n      <div id=\"metanav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/wiki/public/login\">Login</a></li><li><a href=\"/wiki/public/prefs\">Preferences</a></li><li class=\"last\"><a href=\"/wiki/public/about\">About Trac</a></li>\n    </ul>\n  </div>\n    </div>\n    <div id=\"mainnav\" class=\"nav\">\n  </div>\n    <div id=\"main\">\n      <div id=\"pagepath\" class=\"noprint\">\n  <a class=\"pathentry first\" title=\"View WikiStart\" href=\"/wiki/public/wiki\">wiki:</a><a class=\"pathentry\" href=\"/wiki/public/wiki/cs222p-2018-fall-setup-gdb-on-macos\" title=\"View cs222p-2018-fall-setup-gdb-on-macos\">cs222p-2018-fall-setup-gdb-on-macos</a>\n</div>\n      <div id=\"ctxtnav\" class=\"nav\">\n        <h2>Context Navigation</h2>\n        <ul>\n          <li class=\"first\"><span>&larr; <a class=\"prev\" href=\"/wiki/public/wiki/cs222p-2018-fall-setup-gdb-on-macos?version=2\" title=\"Version 2\">Previous Version</a></span></li><li><a href=\"/wiki/public/wiki/cs222p-2018-fall-setup-gdb-on-macos\" title=\"View latest version\">View Latest Version</a></li><li class=\"last\"><span class=\"missing\">Next Version &rarr;</span></li>\n        </ul>\n        <hr />\n      </div>\n    <div id=\"content\" class=\"wiki\">\n        <br />\n        <table id=\"info\" summary=\"Revision info\">\n          <tr><th scope=\"row\">Version 3 (modified by qiushi, <a class=\"timeline\" href=\"/wiki/public/timeline?from=2018-10-03T21%3A42%3A39-07%3A00&amp;precision=second\" title=\"See timeline at Oct 3, 2018 9:42:39 PM\">12 months ago</a>)\n             (<a href=\"/wiki/public/wiki/cs222p-2018-fall-setup-gdb-on-macos?action=diff&amp;version=3\">diff</a>)</th></tr>\n          <tr><td class=\"message\">\n            <p>\n--\n</p>\n\n          </td></tr>\n        </table>\n      <div class=\"wikipage searchable\">\n        \n          <div id=\"wikipage\" class=\"trac-content\"><div style=\"background-color:#f2f3f4\" class=\"wikipage\"><h2 id=\"SetupGDBonMacOS\">Setup GDB on MacOS</h2>\n<p>\nThis guide details the set up of the GDB debugger on MacOS High Sierra 10.13.6. It works as of Sep 26th, 2018. Please be alerted it is not straightforward to do this. If you spend too much time but still cannot make GDB work properly on your MacOS, an intermediate solution is to install a LinuxVM to do the development.\n</p>\n<ol><li>Install homebrew (a package manager for mac). <tt>/usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"</tt>\n</li><li>Install GDB 8.0.1. Be alerted that the latest GDB version(8.11) cannot work properly with MacOS because of some bugs. Instead, we have to explicitly install an older version of GDB.\n<ul><li><tt>brew install https://raw.githubusercontent.com/Homebrew/homebrew-core/9ec9fb27a33698fc7636afce5c1c16787e9ce3f3/Formula/gdb.rb</tt><br />\n</li><li><tt>brew pin gdb</tt>\n</li></ul></li><li>Type <tt>gdb --version</tt>, make sure you find the version is 8.0.1.\n</li><li>Type <tt>echo \"set startup-with-shell off\" &gt;&gt; ~/.gdbinit</tt>\n</li><li>Certify the installed gdb\n<ul><li>Open Keychain Access (an app under Utilities folder)\n</li><li>In menu, open Keychain Access &gt; Certificate Assistant &gt; Create a certificate\n</li><li>Give it a name (e.g. gdb-cert). Identity type: Self Signed Root. Certificate type: Code Signing. Check: let me override defaults.\n</li><li>Continue until \"specify a location for...\"\n</li><li>Set Keychain location to System\n</li><li>Create certificate and close Certificate Assistant.\n</li><li>Find certificate (e.g., gdb-cert) in System keychain.\n</li><li>Double click the certificate\n</li><li>Expand Trust, set Code signing to always trust\n</li><li>Restart taskgated in terminal: killall taskgated\n</li><li>Codesign gdb using your certificate: <tt>codesign -fs gdb-cert /usr/local/bin/gdb</tt>\n</li></ul></li><li>Now let's check whether GDB works. Open eclipse, right click your project <tt>cs222p</tt>, and click Debug As -&gt; Debug Configurations. Add your main program (one of the test cases), and configure the path of the GDB properly (typically its under /usr/local/bin/gdb, and command file is /Users/username/.gdbinit). Finally click Debug to see if works.\n</li></ol><p>\n<a style=\"padding:0; border:none\" href=\"/wiki/public/attachment/wiki/cs222p-2018-fall-setup-gdb-on-macos/gdb.png\"><img width=\"800px\" src=\"/wiki/public/raw-attachment/wiki/cs222p-2018-fall-setup-gdb-on-macos/gdb.png\" /></a>\n</p>\n<ol start=\"7\"><li>If you see your program stops at the first line of the main function, and you can use Step Into (F5), Step Over (F6) etc. properly, then your GDB is now working properly! Congratulations!\n</li><li>Otherwise, let's try this step to disable the SIP (system integrity projection) of MacOS. Note: disabling SIP could result in security leaks of your system, and you should decide whether to continue based on your own risk!\n<ul><li>Shut down your mac and restart in recovery mode (hold down command+R until apple logo appears)\n</li><li>Open terminal window\n</li><li>Modify System Integrity Protection to allow debugging: <tt>csrutil enable --without debug</tt>\n</li><li>Reboot your Mac\n</li></ul></li><li>Go back to step 6 to try again. It should work now, but it still doesn't work, you can checkout some other materials. <a class=\"ext-link\" href=\"https://stackoverflow.com/questions/49001329/gdb-doesnt-work-on-macos-high-sierra-10-13-3/49104154#49104154\"><span class=\"icon\">\u200b</span>Stackoverflow</a> <a class=\"ext-link\" href=\"https://gist.github.com/danisfermi/17d6c0078a2fd4c6ee818c954d2de13c\"><span class=\"icon\">\u200b</span>Setup GDB on MacOS</a>. If it still doesn't work, maybe it's better to switch to a linux virtual machine.\n</li></ol></div></div>\n          \n          \n        \n        \n      </div>\n      \n    <div id=\"attachments\">\n        <h3 class=\"foldable\">Attachments <span class=\"trac-count\">(1)</span></h3>\n        <div>\n          <ul>\n              <li>\n    <a href=\"/wiki/public/attachment/wiki/cs222p-2018-fall-setup-gdb-on-macos/gdb.png\" title=\"View attachment\">gdb.png</a><a href=\"/wiki/public/raw-attachment/wiki/cs222p-2018-fall-setup-gdb-on-macos/gdb.png\" class=\"trac-rawlink\" title=\"Download\">\u200b</a>\n       (<span title=\"405070 bytes\">395.6 KB</span>) -\n      added by <em>qiushi</em> <a class=\"timeline\" href=\"/wiki/public/timeline?from=2018-09-30T09%3A47%3A50-07%3A00&amp;precision=second\" title=\"See timeline at Sep 30, 2018 9:47:50 AM\">13 months ago</a>.\n              </li>\n          </ul>\n          <p>\n            Download all attachments as: <a rel=\"nofollow\" href=\"/wiki/public/zip-attachment/wiki/cs222p-2018-fall-setup-gdb-on-macos/\">.zip</a>\n          </p>\n        </div>\n    </div>\n\n    </div>\n    <div id=\"altlinks\">\n      <h3>Download in other formats:</h3>\n      <ul>\n        <li class=\"last first\">\n          <a rel=\"nofollow\" href=\"/wiki/public/wiki/cs222p-2018-fall-setup-gdb-on-macos?version=3&amp;format=txt\">Plain Text</a>\n        </li>\n      </ul>\n    </div>\n    </div>\n    <div id=\"footer\" lang=\"en\" xml:lang=\"en\"><hr />\n      <a id=\"tracpowered\" href=\"http://trac.edgewall.org/\"><img src=\"/wiki/public/chrome/common/trac_logo_mini.png\" height=\"30\" width=\"107\" alt=\"Trac Powered\" /></a>\n      <p class=\"left\">Powered by <a href=\"/wiki/public/about\"><strong>Trac 1.0.13</strong></a><br />\n        By <a href=\"http://www.edgewall.org/\">Edgewall Software</a>.</p>\n      <p class=\"right\">Visit the Trac open source project at<br /><a href=\"http://trac.edgewall.org/\">http://trac.edgewall.org/</a></p>\n    </div>\n  </body>\n</html>", "encoding": "utf-8"}