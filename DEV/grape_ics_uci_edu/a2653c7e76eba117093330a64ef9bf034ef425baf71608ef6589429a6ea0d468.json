{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs122b-2019-winter-project5?action=diff&version=1", "content": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n\n    <html xmlns=\"http://www.w3.org/1999/xhtml\">\n  \n  \n\n\n  <head>\n    <title>\n      cs122b-2019-winter-project5 (diff) \u2013 Public\n    </title>\n      <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n      <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <!--[if IE]><script type=\"text/javascript\">\n      if (/^#__msie303:/.test(window.location.hash))\n        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));\n    </script><![endif]-->\n        <link rel=\"search\" href=\"/wiki/public/search\" />\n        <link rel=\"help\" href=\"/wiki/public/wiki/TracGuide\" />\n        <link rel=\"up\" href=\"/wiki/public/wiki/cs122b-2019-winter-project5?action=history\" title=\"Page history\" />\n        <link rel=\"next\" href=\"/wiki/public/wiki/cs122b-2019-winter-project5?action=diff&amp;version=2\" title=\"Version 2\" />\n        <link rel=\"start\" href=\"/wiki/public/wiki\" />\n        <link rel=\"stylesheet\" href=\"/wiki/public/chrome/common/css/trac.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/wiki/public/chrome/common/css/wiki.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/wiki/public/chrome/common/css/diff.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/wiki/public/chrome/tracwysiwyg/wysiwyg.css\" type=\"text/css\" />\n        <link rel=\"tracwysiwyg.stylesheet\" href=\"/wiki/public/chrome/common/css/trac.css\" /><link rel=\"tracwysiwyg.stylesheet\" href=\"/wiki/public/chrome/tracwysiwyg/editor.css\" />\n        <link rel=\"tracwysiwyg.base\" href=\"/wiki/public\" />\n        <link rel=\"shortcut icon\" href=\"/wiki/public/chrome/site/favicon.ico\" type=\"image/x-icon\" />\n        <link rel=\"icon\" href=\"/wiki/public/chrome/site/favicon.ico\" type=\"image/x-icon\" />\n    <style id=\"trac-noscript\" type=\"text/css\">.trac-noscript { display: none !important }</style>\n    <script type=\"text/javascript\">\n      var _tracwysiwyg={};\n    </script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/jquery.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/babel.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/trac.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/search.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/diff.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/tracwysiwyg/wysiwyg.js\"></script>\n    <script type=\"text/javascript\">\n      jQuery(\"#trac-noscript\").remove();\n      jQuery(document).ready(function($) {\n        $(\".trac-autofocus\").focus();\n        $(\".trac-target-new\").attr(\"target\", \"_blank\");\n        setTimeout(function() { $(\".trac-scroll\").scrollToTop() }, 1);\n        $(\".trac-disable-on-submit\").disableOnSubmit();\n      });\n    </script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/wiki/public/chrome/common/css/diff.css\" />\n    <meta name=\"ROBOTS\" content=\"NOINDEX, NOFOLLOW\" />\n  </head>\n  <body>\n    <div id=\"banner\">\n      <div id=\"header\">\n        <a id=\"logo\" href=\"http://www.ics.uci.edu/\"><img src=\"/wiki/public/chrome/site/ics.jpg\" alt=\"ICS Logo\" height=\"67\" width=\"128\" /></a>\n      </div>\n      <form id=\"search\" action=\"/wiki/public/search\" method=\"get\">\n      </form>\n      <div id=\"metanav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/wiki/public/login\">Login</a></li><li><a href=\"/wiki/public/prefs\">Preferences</a></li><li class=\"last\"><a href=\"/wiki/public/about\">About Trac</a></li>\n    </ul>\n  </div>\n    </div>\n    <div id=\"mainnav\" class=\"nav\">\n  </div>\n    <div id=\"main\">\n      <div id=\"ctxtnav\" class=\"nav\">\n        <h2>Context Navigation</h2>\n        <ul>\n          <li class=\"first\"><span class=\"missing\">&larr; Previous Change</span></li><li><a href=\"/wiki/public/wiki/cs122b-2019-winter-project5?action=history\" title=\"Page history\">Wiki History</a></li><li class=\"last\"><span><a class=\"next\" href=\"/wiki/public/wiki/cs122b-2019-winter-project5?action=diff&amp;version=2\" title=\"Version 2\">Next Change</a> &rarr;</span></li>\n        </ul>\n        <hr />\n      </div>\n    <div id=\"content\" class=\"wiki\">\n      <h1>\n        Changes between\n          <a href=\"/wiki/public/wiki/cs122b-2019-winter-project5?version=0\">Initial Version</a> and\n          <a href=\"/wiki/public/wiki/cs122b-2019-winter-project5?version=1\">Version 1</a> of\n          <a href=\"/wiki/public/wiki/cs122b-2019-winter-project5\">cs122b-2019-winter-project5</a>\n      </h1>\n      <form method=\"post\" id=\"prefs\" action=\"/wiki/public/wiki/cs122b-2019-winter-project5?version=1\"><div><input type=\"hidden\" name=\"__FORM_TOKEN\" value=\"ff7b03ee7e6a204a442cd825\" /></div>\n        <div>\n          <input type=\"hidden\" name=\"action\" value=\"diff\" />\n          <input type=\"hidden\" name=\"version\" value=\"1\" />\n          <input type=\"hidden\" name=\"old_version\" value=\"0\" />\n          \n  <label for=\"style\">View differences</label>\n  <select id=\"style\" name=\"style\">\n    <option selected=\"selected\" value=\"inline\">inline</option>\n    <option value=\"sidebyside\">side by side</option>\n  </select>\n  <div class=\"field\">\n    <label><input type=\"radio\" name=\"contextall\" value=\"0\" checked=\"checked\" />\n             Show</label>\n      <label><input type=\"text\" name=\"contextlines\" id=\"contextlines\" size=\"2\" maxlength=\"3\" value=\"2\" />\n             lines around each change</label><br />\n    <label><input type=\"radio\" name=\"contextall\" value=\"1\" />\n           Show the changes in full context</label>\n  </div>\n  <fieldset id=\"ignore\">\n    <legend>Ignore:</legend>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignoreblanklines\" name=\"ignoreblanklines\" />\n      <label for=\"ignoreblanklines\">Blank lines</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorecase\" name=\"ignorecase\" />\n      <label for=\"ignorecase\">Case changes</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorewhitespace\" name=\"ignorewhitespace\" />\n      <label for=\"ignorewhitespace\">White space changes</label>\n    </div>\n  </fieldset>\n  <div class=\"buttons\">\n    <input type=\"submit\" name=\"update\" value=\"Update\" />\n  </div>\n\n        </div>\n      </form>\n      <dl id=\"overview\">\n        <dt class=\"property time\">Timestamp:</dt>\n        <dd class=\"time\">\n            Feb 28, 2019 3:12:34 PM (<a class=\"timeline\" href=\"/wiki/public/timeline?from=2019-02-28T15%3A12%3A34-08%3A00&amp;precision=second\" title=\"See timeline at Feb 28, 2019 3:12:34 PM\">8 months</a> ago)\n        </dd>\n        <dt class=\"property author\">Author:</dt>\n        <dd class=\"author\">\n          avinask\n        </dd>\n        <dt class=\"property message\">Comment:</dt>\n        <dd class=\"message\">\n          \n          <p>\n--\n</p>\n\n        </dd>\n      </dl>\n      <div class=\"diff\">\n        <div class=\"legend\" id=\"diff-legend\">\n          <h3>Legend:</h3>\n          <dl>\n            <dt class=\"unmod\"></dt><dd>Unmodified</dd>\n            <dt class=\"add\"></dt><dd>Added</dd>\n            <dt class=\"rem\"></dt><dd>Removed</dd>\n            <dt class=\"mod\"></dt><dd>Modified</dd>\n          </dl>\n        </div>\n        <div class=\"diff\">\n  <ul class=\"entries\">\n      <li class=\"entry\">\n        <h2 id=\"file0\">\n          <a href=\"/wiki/public/wiki/cs122b-2019-winter-project5?version=1\">cs122b-2019-winter-project5</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Version currently edited\">\n                    <a href=\"#L1\">\n                      v1</a>\n                  </th>\n                  <th title=\"Version 1\">\n                    <a href=\"/wiki/public/wiki/cs122b-2019-winter-project5?version=1#L1\">\n                      v1</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"add\">\n                  <tr class=\"first\">\n                          <th>\u00a0</th><th>1</th><td class=\"r\"><ins>[[PageOutline]]</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>2</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>3</th><td class=\"r\"><ins>= CS122B Project 5: Scaling Fabflix and Performance Tuning =</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>4</th><td class=\"r\"><ins>'''Deadline: Sunday, 6/10/2018, 11:45pm. Due on Github '''[[BR]]</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>5</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>6</th><td class=\"r\"><ins>&nbsp; This project has the following tasks:</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>7</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>8</th><td class=\"r\"><ins>&nbsp;1. JDBC connection pooling and Prepared statements</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>9</th><td class=\"r\"><ins>&nbsp;1. Scaling Fabflix with a cluster of MySQL/Tomcat and a frontend load balancer;</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>10</th><td class=\"r\"><ins>&nbsp;1. Measuring the performance of Fabflix search feature</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>11</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>12</th><td class=\"r\"><ins>----</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>13</th><td class=\"r\"><ins>[[Span(id=Pooling)]]</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>14</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>15</th><td class=\"r\"><ins>== Task 1: Connection Pooling and Prepared Statements ==</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>16</th><td class=\"r\"><ins>In this task, we will enable Fabflix with Connection Pooling and Prepared Statements.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>17</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>18</th><td class=\"r\"><ins>''''Step 1:''' Enable JDBC connection pooling for Fabflix for all servlets. We will use our running application of \"!TomcatTest\" to show how to change it to use connection pooling.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>19</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>20</th><td class=\"r\"><ins>&nbsp;1. '''Copy the JDBC Driver's jar into $CATALINA_HOME/lib''' (the lib folder just inside tomcat directory. If the lib folder is not there, create it). Deploy the following [https://github.com/UCI-Chenli-teaching/project5-TomcatPooling-example TomcatPooling example]. The file '''\\META-INF\\context.xml''' includes important information about the database, user name, password, and pooling configuration. If you want to change this file, you need to undeploy the war file, make those changes, make a new war file, and deploy the new war file. Otherwise, the Tomcat server may still use the previous context.xml. Check [http://tomcat.apache.org/tomcat-8.5-doc/jndi-datasource-examples-howto.html] for more information about how to configure connection pooling.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>21</th><td class=\"r\"><ins>&nbsp;1. Go to the link http://localhost:8080/TomcatPooling/servlet/tomcat-pooling to test your application.&nbsp; You must see a list of rows displayed on the webpage.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>22</th><td class=\"r\"><ins>&nbsp;1. Look into the following files for the main changes in this war file&nbsp; &nbsp;compared to the previous war file without connection pooling:</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>23</th><td class=\"r\"><ins>&nbsp; &nbsp;* '''\\META-INF\\context.xml'''.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>24</th><td class=\"r\"><ins>&nbsp; &nbsp;* '''\\src\\!TomcatPoolingServlet.java'''</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>25</th><td class=\"r\"><ins>&nbsp; &nbsp;* '''\\WEB-INF\\web.xml''' (see the '''resource-ref''' tag).</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>26</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>27</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>28</th><td class=\"r\"><ins>'''Step 2:''' Make sure to use Prepared Statements in all JDBC statements '''involved in search'''. You should have already done this in past projects. If you didn't, please do it now at least for Search functionalities since Task 3 needs it. You can use this [http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html tutorial] on prepared statements. Note that prepared statements are useful only when you have a few placeholders (represented by ?) in them and that is the way we expect them to be in your code. Only then the statement is compiled just once and can be used repeatedly with different parameters which results in better performance.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>29</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>30</th><td class=\"r\"><ins>&nbsp;* Prepared statements are usually associated with one connection, which becomes tricky if you are using a connection pool. There is a setting 'cachePrepStmts' which can be set to true to cache the prepared statements.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>31</th><td class=\"r\"><ins>&nbsp;* You can make this setting true by adding the flag to the jdbc connection URL in the \\META-INF\\context.xml like this&nbsp; -</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>32</th><td class=\"r\"><ins>{{{</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>33</th><td class=\"r\"><ins>url=\"jdbc:mysql://&lt;IP&gt;:&lt;PORT&gt;/moviedb?autoReconnect=true&amp;amp;useSSL=false&amp;amp;cachePrepStmts=true</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>34</th><td class=\"r\"><ins>}}}</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>35</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>36</th><td class=\"r\"><ins>__'''When you are done,'''__ write a brief explanation of how/where (file path and line numbers as seen on Github, and snapshots of usage in code) you use the JDBC connection pooling and prepared statements in your code. You should submit this report to Github.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>37</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>38</th><td class=\"r\"><ins>----</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>39</th><td class=\"r\"><ins>== Task 2: Scaling Fabflix ==</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>40</th><td class=\"r\"><ins>[[Span(id=Replication)]]</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>41</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>42</th><td class=\"r\"><ins>'''Step 1''': Setup two AWS instances as two backend servers by following this&nbsp; [https://grape.ics.uci.edu/wiki/public/wiki/cs122b-2018-spring-project5-mysql-master-slave MySQL replication tutorial]. We call them the \"master instance\" and the \"slave instance\" (in the context of MySQL replication).</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>43</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>44</th><td class=\"r\"><ins>'''Step 2 (master/slave)''': Create a dummy user for two example Tomcat applications:</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>45</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>46</th><td class=\"r\"><ins>{{{</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>47</th><td class=\"r\"><ins>shell&gt; mysql -u root -p</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>48</th><td class=\"r\"><ins>mysql&gt; CREATE USER 'mytestuser'@'localhost' IDENTIFIED BY 'mypassword';</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>49</th><td class=\"r\"><ins>mysql&gt; GRANT ALL ON *.* TO 'mytestuser'@'localhost';</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>50</th><td class=\"r\"><ins>}}}</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>51</th><td class=\"r\"><ins>'''Step 3 (master/slave)''': Setup Tomcat on each master/slave instance. (You should have done it many times.)</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>52</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>53</th><td class=\"r\"><ins>'''Step 4 (master/slave)''': On each master/slave instance, deploy [https://grape.ics.uci.edu/wiki/public/attachment/wiki/cs122b-2018-spring-project5/TomcatTest.war TomcatTest.war]. Make the URL http://PUBLIC_IP:8080/TomcatTest/servlet/TomcatTest work. You may need to modify the username/password and IP address (use the internal AWS instance address). Also make sure to modify the AWS security group setting for these two instances to allow remote access to their 8080 port.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>54</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>55</th><td class=\"r\"><ins>'''Step 5 (master/slave)''': On each master/slave instance, deploy [https://grape.ics.uci.edu/wiki/public/attachment/wiki/cs122b-2018-spring-project5/Session.war Session.war]. Make the URL http://PUBLIC_IP:8080/Session/servlet/ShowSession?myname=Michael work.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>56</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>57</th><td class=\"r\"><ins>'''Step 6 (instance 1)''': On the instance that runs the original Fablix instance (called \"instance 1\"), setup Apache and its proxy by doing the following:</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>58</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>59</th><td class=\"r\"><ins>&nbsp;1. Install Apache2 and related modules:</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>60</th><td class=\"r\"><ins>{{{</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>61</th><td class=\"r\"><ins>instance1-shell&gt; sudo apt-get install apache2</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>62</th><td class=\"r\"><ins>instance1-shell&gt; sudo a2enmod proxy proxy_balancer proxy_http rewrite headers lbmethod_byrequests</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>63</th><td class=\"r\"><ins>instance1-shell&gt; sudo service apache2 restart</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>64</th><td class=\"r\"><ins>}}}</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>65</th><td class=\"r\"><ins>&nbsp;1. Configure the Apache2 web server to use its `proxy_balancer` module for sharing (i.e., redirecting) requests to the backend instances. To do it, edit the following configuration file:</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>66</th><td class=\"r\"><ins>{{{</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>67</th><td class=\"r\"><ins>instance1-shell&gt; sudo vim /etc/apache2/sites-enabled/000-default.conf</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>68</th><td class=\"r\"><ins>}}}</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>69</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>70</th><td class=\"r\"><ins>Create a load balancer proxy, whose members are the backend instances.&nbsp; In particular, define a proxy on top of the file, before the `&lt;VirtualHost *:80&gt;` tag.[[BR]]</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>71</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>72</th><td class=\"r\"><ins>{{{</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>73</th><td class=\"r\"><ins>&lt;Proxy \"balancer://TomcatTest_balancer\"&gt;</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>74</th><td class=\"r\"><ins>&nbsp; &nbsp; BalancerMember \"http://172.2.2.2:8080/TomcatTest/\"</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>75</th><td class=\"r\"><ins>&nbsp; &nbsp; BalancerMember \"http://172.3.3.3:8080/TomcatTest/\"</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>76</th><td class=\"r\"><ins>&lt;/Proxy&gt;</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>77</th><td class=\"r\"><ins>}}}</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>78</th><td class=\"r\"><ins>Here we assume '172.2.2.2' and '172.3.3.3' are the private IP address of the master and slave instances, respectively.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>79</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>80</th><td class=\"r\"><ins>&nbsp;1. Add two new rules in the body of the !VirtualHost tag.[[BR]]</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>81</th><td class=\"r\"><ins>{{{</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>82</th><td class=\"r\"><ins>ProxyPass /TomcatTest balancer://TomcatTest_balancer</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>83</th><td class=\"r\"><ins>ProxyPassReverse /TomcatTest balancer://TomcatTest_balancer</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>84</th><td class=\"r\"><ins>}}}</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>85</th><td class=\"r\"><ins>&nbsp;1. Restart Apache:</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>86</th><td class=\"r\"><ins>{{{</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>87</th><td class=\"r\"><ins>instance1-shell&gt; sudo service apache2 restart</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>88</th><td class=\"r\"><ins>}}}</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>89</th><td class=\"r\"><ins>&nbsp;1. Modify the security group of the two backend instances to allow instance 1 to access their 8080 port.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>90</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>91</th><td class=\"r\"><ins>These settings will redirect HTTP requests to \"instance1_IP/TomcatTest\" to one of the two backend instances. To test it, use a browser to point to http://instance1_IP/TomcatTest/servlet/TomcatTest. Be sure to open port 80 of instance 1 to your IP address. Check the Tomcat log of the two backend instances.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>92</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>93</th><td class=\"r\"><ins>{{{</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>94</th><td class=\"r\"><ins>instance2-shell&gt; tail -f /var/log/tomcat8/*.log /var/log/tomcat8/*.txt /var/log/tomcat8/*.out</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>95</th><td class=\"r\"><ins>}}}</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>96</th><td class=\"r\"><ins>One of them should receive that request.&nbsp; Keep refreshing the page to send multiple requests, and check if the two backends are receiving the requests evenly.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>97</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>98</th><td class=\"r\"><ins>'''Step 7 (instance 1)''': Configure the proxy on instance 1 to handle sessions properly. Since the current setting will send requests randomly to the backend, it will not pass cookies properly, causing sessions to fail.&nbsp; We want to make the session persist over several requests of the same client, i.e., to have a&nbsp; ''sticky session.'' To do it, read the [http://httpd.apache.org/docs/2.2/mod/mod_proxy_balancer.html instructions], especially those under \"Examples of a balancer configuration.\" Here's a sample setting for the ` /etc/apache2/sites-enabled/000-default.conf` file for the \"Session.war\" application:</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>99</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>100</th><td class=\"r\"><ins>{{{</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>101</th><td class=\"r\"><ins>Header add Set-Cookie \"ROUTEID=.%{BALANCER_WORKER_ROUTE}e; path=/\" env=BALANCER_ROUTE_CHANGED</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>102</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>103</th><td class=\"r\"><ins>&lt;Proxy \"balancer://Session_balancer\"&gt;</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>104</th><td class=\"r\"><ins>&nbsp; &nbsp; BalancerMember \"http://172.2.2.2:8080/Session\" route=1</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>105</th><td class=\"r\"><ins>&nbsp; &nbsp; BalancerMember \"http://172.3.3.3:8080/Session\" route=2</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>106</th><td class=\"r\"><ins>ProxySet stickysession=ROUTEID</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>107</th><td class=\"r\"><ins>&lt;/Proxy&gt; </ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>108</th><td class=\"r\"><ins>}}}</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>109</th><td class=\"r\"><ins>Also do the following:</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>110</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>111</th><td class=\"r\"><ins>&nbsp;1. Add two new rules in the body of the !VirtualHost tag.[[BR]]</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>112</th><td class=\"r\"><ins>{{{</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>113</th><td class=\"r\"><ins>ProxyPass /Session balancer://Session_balancer</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>114</th><td class=\"r\"><ins>ProxyPassReverse /Session balancer://Session_balancer</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>115</th><td class=\"r\"><ins>}}}</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>116</th><td class=\"r\"><ins>&nbsp;1. Restart Apache:</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>117</th><td class=\"r\"><ins>{{{</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>118</th><td class=\"r\"><ins>instance1-shell&gt; sudo service apache2 restart</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>119</th><td class=\"r\"><ins>}}}</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>120</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>121</th><td class=\"r\"><ins>Test if it works by pointing to the URL http://instance1_IP/Session/servlet/ShowSession?myname=Michael of instance 1. It should access one of the backend instances only.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>122</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>123</th><td class=\"r\"><ins>Here's a sample Apache configuration file [attachment:000-default.conf].</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>124</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>125</th><td class=\"r\"><ins>'''Step 8 (main task)''': Deploy your Fabflix system to the two backend instances. Do MySQL master/slave replication. Configure the original instance properly to enable load balancing, connection pooling, sticky sessions. Also make sure the write request must be sent to the master mysql instance, while read request should be sent to either master or slave mysql instance. Enabling the scaled version with HTTPS is optional. '''Note that you are required to add a section to the connection pooling report and explain how to use connection pooling in the case of having two backend servers. Put snapshots of your code and file and line numbers as seen on Github.'''</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>126</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>127</th><td class=\"r\"><ins>The following is the architecture diagram:</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>128</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>129</th><td class=\"r\"><ins>&nbsp; [[Image(wiki:cs122b-2018-spring-project5:CS122B-Project5-Cluster-Architecture.png, 500px)]]</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>130</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>131</th><td class=\"r\"><ins>Notice that in this architecture, each Tomcat can talk to both mysql instances. Sometimes we may want to setup a cluster of MySQL, and let each Tomcat talk to the cluster through another load balancer.&nbsp; If interested, you can read this [http://mysqlhighavailability.com/setting-up-mysql-router/ page] on how to set it up.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>132</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>133</th><td class=\"r\"><ins>'''Step 9 (Google Cloud):''' After finishing the main task, you then need to install and configure the load balancer on one Google Cloud instance. As before, this load balancer needs to redirect requests to one of the Tomcat servers. However, the load balancer needs to use the public IPs of the AWS instances, and make sure you have port 8080 open to the Google Cloud instance.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>134</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>135</th><td class=\"r\"><ins>You can get $300 free credits for Google Cloud from [https://cloud.google.com/free/ free-trial]. After that, start a computing engine (using Ubuntu 16.04) by following this [https://console.cloud.google.com/getting-started?project=applied-plexus-163600 tutorial], and repeat the exact same steps as you did for installing the load balancer on AWS.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>136</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>137</th><td class=\"r\"><ins>----</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>138</th><td class=\"r\"><ins>== Task 3: Measuring the performance of Fabflix search feature ==</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>139</th><td class=\"r\"><ins>In this part, we will measure the performance of the keyword search feature that you have implemented in the past projects. The measurement results described in subtasks 3.1 and 3.2 must be reported for both the single-instance (i.e., the instance that you prepared in earlier projects and Task1) and the scaled version of Fabflix.''' Note: '''The URL to the single-instance version should be http:///INSTANCE1_PUBLIC_IP:8080/fabflix, while it should be http://INSTANCE1_PUBLIC_IP:80/fabflix for the scaled version that you prepared in Task 2.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>140</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>141</th><td class=\"r\"><ins>=== Task 3.1: Preparing the codebase for time measurement ===</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>142</th><td class=\"r\"><ins>Here, we are going to prepare for measuring the following two statistical variables: (1) the average time it takes for the __search servlet__ to run completely for a query (called TS), and (2) the average time spent on the parts that use JDBC, per query (called TJ). Obviously, TS &gt; TJ always.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>143</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>144</th><td class=\"r\"><ins>Step 1. Use the following sample to insert the necessary time statements for measuring TS and TJ. [https://javajee.com/writing-to-a-file-from-a-servlet-in-a-java-ee-web-application This] is a useful link about how to write to a file in servlet. You are required to measure and __log__ the value of \"search servlet total execution time\" and \"JDBC execution time\" for every request served by the server (i.e., assuming these values are printed in one line per query, if a query workload of 1000 queries is fired to the system, we must have 1000 lines in the log file, each line containing one sample value for calculating TS and TJ).</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>145</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>146</th><td class=\"r\"><ins>Particularly for TS samples, it is highly recommended to place these log statements in a filter that wraps the search servlet.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>147</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>148</th><td class=\"r\"><ins>{{{</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>149</th><td class=\"r\"><ins>// Time an event in a program to nanosecond precision</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>150</th><td class=\"r\"><ins>long startTime = System.nanoTime();</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>151</th><td class=\"r\"><ins>/////////////////////////////////</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>152</th><td class=\"r\"><ins>/// ** part to be measured ** ///</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>153</th><td class=\"r\"><ins>/////////////////////////////////</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>154</th><td class=\"r\"><ins>long endTime = System.nanoTime();</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>155</th><td class=\"r\"><ins>long elapsedTime = endTime - startTime; // elapsed time in nano seconds. Note: print the values in nano seconds </ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>156</th><td class=\"r\"><ins>}}}</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>157</th><td class=\"r\"><ins>Step 2. Write a script (in any language that you prefer) to process the resulting log file of a query workload and calculate TS and TJ (i.e., by parsing the log statements and taking the average of all the samples). This script will be needed in preparing the html report asked for in Step 3 below.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>158</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>159</th><td class=\"r\"><ins>'''Submission-related note:''' In Step 3 below, you will run queries. Upload the log file created to Github and mention its location in your report. The usage of this script, which is expected to be found at the root of your .war file, must be explained in your README file.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>160</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>161</th><td class=\"r\"><ins>[[Span(id=Jmeter)]]</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>162</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>163</th><td class=\"r\"><ins>=== Task 3.2: Preparing the test plan in Apache JMeter ===</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>164</th><td class=\"r\"><ins>In this part, you will use [http://jmeter.apache.org/ Apache JMeter] to measure the performance of the search feature of the Fabflix website. In particular, you must measure the '''average query time''' of the search feature using a set of queries based on the movie tiles in this [attachment:wiki:cs122b-2018-spring-project5:query_load.txt file]. Assume the page size is 50, and we only want the first page of results.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>165</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>166</th><td class=\"r\"><ins>The following figure illustrates the round-trip time of a query from a client to the server then back to client. The ''query time''&nbsp; of a query (i.e., \"Tq\") is&nbsp; the total time starting from when the search request is sent from the client (Ts) until the time when the response has completely received by the client (Te). It includes two major parts: (1) ''response time'' (Tr) is the time it takes until the client hears the first bit of the response, and (2) \"payload time\" (Tp) is the time it takes for the response data to be downloaded by the client completely.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>167</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>168</th><td class=\"r\"><ins>[[Image(wiki:cs122b-2018-spring-project5:query_time.png)]]</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>169</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>170</th><td class=\"r\"><ins>Step 1: Read this [http://jmeter.apache.org/usermanual/get-started.html reference] to get an overview of Jmeter. Read this [http://jmeter.apache.org/usermanual/build-test-plan.html page] to get familiar with JMeter basics.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>171</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>172</th><td class=\"r\"><ins>Step 2: Download and install JMeter from this [http://jmeter.apache.org/download_jmeter.cgi link].</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>173</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>174</th><td class=\"r\"><ins>Step 3: Use [http://jmeter.apache.org/usermanual/build-web-test-plan.html this link] to make a test plan for the search feature of your website. You will run the Jmeter test from your local development against the remote AWS instance.&nbsp; The plan must iteratively generate a proper HTTP or HTTPS search request for every movie title in the provided [attachment:wiki:cs122b-2018-spring-project5:query_load.txt query file]. Here is a useful [http://ivetetecedor.com/how-to-use-a-csv-file-with-jmeter/ page] about how to use a CSV file for Jmeter. [https://www.digitalocean.com/community/tutorials/how-to-use-apache-jmeter-to-perform-load-testing-on-a-web-server This] is another link which can help you perform load testing using JMeter. [https://stackoverflow.com/questions/18510846/jmeter-latency-vs-load-timesample-time This Stackoverflow answer] has answered many questions on Piazza. </ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>175</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>176</th><td class=\"r\"><ins>=== Task 3.3: Collecting the performance results ===</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>177</th><td class=\"r\"><ins>Run the tests for all the following settings to collect performance results. For each case, remember to make the necessary changes to the JMeter test plan and/or the codebase.&nbsp; Use the results to fill out this [attachment:wiki:cs122b-2018-spring-project5:jmeter_report.html HTML file] as your measurement report. For each case, report the requested values in the corresponding columns, and write a short analysis for that case in the last column. This [attachment:wiki:cs122b-2018-spring-project5:graph_results_case1.png image] is an example of what you should report in the second column called \"Graph Results Screenshot\".</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>178</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>179</th><td class=\"r\"><ins>'''Notes''':</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>180</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>181</th><td class=\"r\"><ins>&nbsp;1. In all cases, if not mentioned otherwise, your Fabflix codebase is assumed to use both the Prepared Statements and Connection Pooling optimization techniques.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>182</th><td class=\"r\"><ins>&nbsp;1. If more than one JMeter thread is to be used, each thread should start a new session in Tomcat (i.e., threads should not share a session-id).</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>183</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>184</th><td class=\"r\"><ins>Single-instance cases (i.e., that is accessible via [http://YOUR_PUBLIC_IP:8080/project4 http://INSTANCE1_PUBLIC_IP:8080/fabflix]):</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>185</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>186</th><td class=\"r\"><ins>&nbsp;1. Use HTTP, without using prepared statements, 10 threads in JMeter.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>187</th><td class=\"r\"><ins>&nbsp;1. Use HTTP, without using connection pooling, 10 threads in JMeter.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>188</th><td class=\"r\"><ins>&nbsp;1. Use HTTP, 1 thread in JMeter.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>189</th><td class=\"r\"><ins>&nbsp;1. Use HTTP, 10 threads in JMeter.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>190</th><td class=\"r\"><ins>&nbsp;1. Use HTTPS, 10 threads in JMeter.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>191</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>192</th><td class=\"r\"><ins>Scaled-version cases (i.e., that is accessible via [http://YOUR_PUBLIC_IP:8080/project4 http://INSTANCE1_PUBLIC_IP:80/fabflix]):</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>193</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>194</th><td class=\"r\"><ins>&nbsp;1. Use HTTP, without using prepared statements, 10 threads in JMeter.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>195</th><td class=\"r\"><ins>&nbsp;1. Use HTTP, without using connection pooling, 10 threads in JMeter.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>196</th><td class=\"r\"><ins>&nbsp;1. Use HTTP, 1 thread in JMeter.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>197</th><td class=\"r\"><ins>&nbsp;1. Use HTTP, 10 threads in JMeter.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>198</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>199</th><td class=\"r\"><ins>----</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>200</th><td class=\"r\"><ins>[[Span(id=DeploymentOnAWS)]]</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>201</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>202</th><td class=\"r\"><ins>== Deployment On AWS ==</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>203</th><td class=\"r\"><ins>Use Github for your project 5 code and reports and deploy (web code) on AWS.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>204</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>205</th><td class=\"r\"><ins>----</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>206</th><td class=\"r\"><ins>[[Span(id=Grading)]]</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>207</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>208</th><td class=\"r\"><ins>== Submissions, Demonstration and Grading Criteria ==</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>209</th><td class=\"r\"><ins>There will be no demo for this project. We will be grading based on your submissions. Therefore, please be clear and precise in your reports. Please put your report on the landing page of your Github repository. Summarized below are the submissions we need:</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>210</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>211</th><td class=\"r\"><ins>&nbsp;1. '''(Task 1)''' Section in report describing how/where you use the JDBC connection pooling and prepared statements in your code. Use snapshots of your code and mention the file and line numbers as seen in Github.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>212</th><td class=\"r\"><ins>&nbsp;1. '''(Task 2)''' In report, write down the address of your AWS instance and Google Cloud instance (You may plan to shutdown your AWS/Google instance due to insufficient number of hours left and consequently the IP may change. Everyone should also update their IPs on [https://docs.google.com/spreadsheets/d/1e3sr9DYy3OXAxaD5s0dYzAJ1HbjuuR7aJvyP2JT3Ix4/edit#gid=1790637649 this sheet]. We will inform through Piazza when we are going to check the services. Make sure that at least 30 minutes before we start checking, you have started your services, checked that they work correctly and put your IPs in the Google sheet.). Open ports 80 and 8080 of your Google and AWS instances to 128.195.0.0/16. Explain how you used connection pooling with two backend SQL servers and how read/write requests were routed. Use snapshots of your code and mention the file and line numbers as seen in Github.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>213</th><td class=\"r\"><ins>&nbsp;1. '''(Task 3)''' Upload the log file created by running queries, the parsing script and the HTML file. Mention the location of these in your report. Be sure to fill out all sections of HTML file (including the analysis part)</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>214</th><td class=\"r\"><ins>&nbsp;1. Upload your WAR file and the README.</ins></td>\n                  </tr><tr>\n                          <th>\u00a0</th><th>215</th><td class=\"r\"><ins></ins></td>\n                  </tr><tr class=\"last\">\n                          <th>\u00a0</th><th>216</th><td class=\"r\"><ins>Follow this[https://docs.google.com/document/d/137v5gPqyN5raX5HXrZB24KeTNWtH9NJ-jMpdreBTwPk/edit?usp=sharing] format for your report.</ins></td>\n                  </tr>\n            </tbody>\n        </table>\n      </li>\n  </ul>\n</div>\n      </div>\n  </div>\n    </div>\n    <div id=\"footer\" lang=\"en\" xml:lang=\"en\"><hr />\n      <a id=\"tracpowered\" href=\"http://trac.edgewall.org/\"><img src=\"/wiki/public/chrome/common/trac_logo_mini.png\" height=\"30\" width=\"107\" alt=\"Trac Powered\" /></a>\n      <p class=\"left\">Powered by <a href=\"/wiki/public/about\"><strong>Trac 1.0.13</strong></a><br />\n        By <a href=\"http://www.edgewall.org/\">Edgewall Software</a>.</p>\n      <p class=\"right\">Visit the Trac open source project at<br /><a href=\"http://trac.edgewall.org/\">http://trac.edgewall.org/</a></p>\n    </div>\n  </body>\n</html>\n", "encoding": "utf-8"}