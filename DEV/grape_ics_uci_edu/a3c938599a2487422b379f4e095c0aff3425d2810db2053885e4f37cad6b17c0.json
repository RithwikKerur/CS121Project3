{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws?version=3", "content": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\n  \n  \n\n\n  <head>\n    <title>\n      cs122b-2019-winter-project1-install-tomcat-on-aws \u2013 Public\n    </title>\n      <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n      <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <!--[if IE]><script type=\"text/javascript\">\n      if (/^#__msie303:/.test(window.location.hash))\n        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));\n    </script><![endif]-->\n        <link rel=\"search\" href=\"/wiki/public/search\" />\n        <link rel=\"help\" href=\"/wiki/public/wiki/TracGuide\" />\n        <link rel=\"alternate\" href=\"/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws?version=3&amp;format=txt\" type=\"text/x-trac-wiki\" title=\"Plain Text\" />\n        <link rel=\"up\" href=\"/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws\" title=\"View latest version\" />\n        <link rel=\"start\" href=\"/wiki/public/wiki\" />\n        <link rel=\"stylesheet\" href=\"/wiki/public/chrome/common/css/trac.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/wiki/public/chrome/common/css/wiki.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/wiki/public/chrome/tracwysiwyg/wysiwyg.css\" type=\"text/css\" />\n        <link rel=\"tracwysiwyg.stylesheet\" href=\"/wiki/public/chrome/common/css/trac.css\" /><link rel=\"tracwysiwyg.stylesheet\" href=\"/wiki/public/chrome/tracwysiwyg/editor.css\" />\n        <link rel=\"tracwysiwyg.base\" href=\"/wiki/public\" />\n        <link rel=\"prev\" href=\"/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws?version=2\" title=\"Version 2\" />\n        <link rel=\"shortcut icon\" href=\"/wiki/public/chrome/site/favicon.ico\" type=\"image/x-icon\" />\n        <link rel=\"icon\" href=\"/wiki/public/chrome/site/favicon.ico\" type=\"image/x-icon\" />\n    <style id=\"trac-noscript\" type=\"text/css\">.trac-noscript { display: none !important }</style>\n    <script type=\"text/javascript\">\n      var _tracwysiwyg={};\n    </script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/jquery.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/babel.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/trac.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/search.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/folding.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/tracwysiwyg/wysiwyg.js\"></script>\n    <script type=\"text/javascript\">\n      jQuery(\"#trac-noscript\").remove();\n      jQuery(document).ready(function($) {\n        $(\".trac-autofocus\").focus();\n        $(\".trac-target-new\").attr(\"target\", \"_blank\");\n        setTimeout(function() { $(\".trac-scroll\").scrollToTop() }, 1);\n        $(\".trac-disable-on-submit\").disableOnSubmit();\n      });\n    </script>\n    <meta name=\"ROBOTS\" content=\"NOINDEX, NOFOLLOW\" />\n    <script type=\"text/javascript\">\n      jQuery(document).ready(function($) {\n        $(\"#content\").find(\"h1,h2,h3,h4,h5,h6\").addAnchor(_(\"Link to this section\"));\n        $(\"#content\").find(\".wikianchor\").each(function() {\n          $(this).addAnchor(babel.format(_(\"Link to #%(id)s\"), {id: $(this).attr('id')}));\n        });\n        $(\".foldable\").enableFolding(true, true);\n      });\n    </script>\n  </head>\n  <body>\n    <div id=\"banner\">\n      <div id=\"header\">\n        <a id=\"logo\" href=\"http://www.ics.uci.edu/\"><img src=\"/wiki/public/chrome/site/ics.jpg\" alt=\"ICS Logo\" height=\"67\" width=\"128\" /></a>\n      </div>\n      <form id=\"search\" action=\"/wiki/public/search\" method=\"get\">\n      </form>\n      <div id=\"metanav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/wiki/public/login\">Login</a></li><li><a href=\"/wiki/public/prefs\">Preferences</a></li><li class=\"last\"><a href=\"/wiki/public/about\">About Trac</a></li>\n    </ul>\n  </div>\n    </div>\n    <div id=\"mainnav\" class=\"nav\">\n  </div>\n    <div id=\"main\">\n      <div id=\"pagepath\" class=\"noprint\">\n  <a class=\"pathentry first\" title=\"View WikiStart\" href=\"/wiki/public/wiki\">wiki:</a><a class=\"pathentry\" href=\"/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws\" title=\"View cs122b-2019-winter-project1-install-tomcat-on-aws\">cs122b-2019-winter-project1-install-tomcat-on-aws</a>\n</div>\n      <div id=\"ctxtnav\" class=\"nav\">\n        <h2>Context Navigation</h2>\n        <ul>\n          <li class=\"first\"><span>&larr; <a class=\"prev\" href=\"/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws?version=2\" title=\"Version 2\">Previous Version</a></span></li><li><a href=\"/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws\" title=\"View latest version\">View Latest Version</a></li><li class=\"last\"><span class=\"missing\">Next Version &rarr;</span></li>\n        </ul>\n        <hr />\n      </div>\n    <div id=\"content\" class=\"wiki\">\n        <br />\n        <table id=\"info\" summary=\"Revision info\">\n          <tr><th scope=\"row\">Version 3 (modified by chenli, <a class=\"timeline\" href=\"/wiki/public/timeline?from=2019-01-10T14%3A29%3A43-08%3A00&amp;precision=second\" title=\"See timeline at Jan 10, 2019 2:29:43 PM\">9 months ago</a>)\n             (<a href=\"/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws?action=diff&amp;version=3\">diff</a>)</th></tr>\n          <tr><td class=\"message\">\n            <p>\n--\n</p>\n\n          </td></tr>\n        </table>\n      <div class=\"wikipage searchable\">\n        \n          <div id=\"wikipage\" class=\"trac-content\"><p>\nThis tutorial introduces how to install tomcat 8.5 on AWS Ubuntu instance 16.04.\n</p>\n<h2 id=\"StartyourAWSinstanceandconnecttoitusingSSH.\">Start your AWS instance, and connect to it using SSH.</h2>\n<p>\nFor this step, please refer to the previous tutorial on how to use AWS.\n</p>\n<h2 id=\"DownloadTomcat\">Download Tomcat</h2>\n<p>\nYou can find latest version of tomcat 8.5.x from\u00a0<a class=\"ext-link\" href=\"http://tomcat.apache.org/download-80.cgi\"><span class=\"icon\">\u200b</span>http://tomcat.apache.org/download-80.cgi</a>.  You can copy the download URL and use the wget command on AWS to download it.\n</p>\n<p>\nThen use wget on your AWS machine to download it:\n</p>\n<pre class=\"wiki\">wget latest_tomcat_download_url (it should look like this:  http://archive.apache.org/dist/tomcat/tomcat-8/v8.5.37/bin/apache-tomcat-8.5.37.tar.gz\n</pre><p>\nAfter you download the tar.gz, decompress it to a desired destination (for example, I use /home/ubuntu/tomcat)\n</p>\n<pre class=\"wiki\">mkdir /home/ubuntu/tomcat\n</pre><pre class=\"wiki\">tar xvf apache-tomcat-8.5.37.tar.gz -C /home/ubuntu/tomcat/ --strip-components=1\n</pre><p>\nNow go to\u00a0/home/ubuntu/tomcat/, and use ls, you show see the following contents:\n</p>\n<p>\n<a style=\"padding:0; border:none\" href=\"/wiki/public/attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/tomcat-dir.jpeg\"><img src=\"/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/tomcat-dir.jpeg\" /></a>\n</p>\n<h2 id=\"ConfigureTomcatMemory\">Configure Tomcat Memory</h2>\n<p>\nBy default, the maximum heap available for Tomcat may not be enough for large projects. Thus, we need to change the memory configuration by the following steps.\n</p>\n<p>\nGo to\u00a0/home/ubuntu/tomcat/bin/, and create a text file name setenv.sh, which contains the following lines:\n</p>\n<pre class=\"wiki\">#!/bin/sh\nenv JAVA_OPTS=\"-Xmx512m -Xms128m\"\n</pre><p>\nXmx means the maximum heap memory available for Tomcat, and Xms means the initial memory available after each garbage collection. You may vary them based on your machine capacity.\n</p>\n<h2 id=\"ChangeAccessSettingofhost-managerandmanager\">Change Access Setting of host-manager and manager</h2>\n<p>\nhost-manager and manager are two useful default applications provided by Tomcat to manage the Tomcat server. However, by default they can be accessed by only the machine hosting tomcat, i.e., localhost.\n</p>\n<p>\nTo change this, you need to change /<strong>home/ubuntu/tomcat/webapps/host-manager/META-INF/context.xml</strong> and <strong>/home/ubuntu/tomcat/webapps/manager/META-INF/context.xml</strong> by deleting the following lines:\n</p>\n<pre class=\"wiki\">&lt;Valve className=\"org.apache.catalina.valves.RemoteAddrValve\"\u00a0\n\n      allow=\"127\\.\\d+\\.\\d+\\.\\d+|::1|0:0:0:0:0:0:0:1\" /&gt;\n</pre><h2 id=\"CreateaTomcatUser\">Create a Tomcat User</h2>\n<p>\nNow, create a tomcat user so that you can manage the tomcat server remotely.\n</p>\n<p>\nEdit /home/ubuntu/tomcat/conf/tomcat-users.xml, and add the following line:\n</p>\n<pre class=\"wiki\">&lt;user username=\"tomcat\" password=\"123456\" roles=\"manager-gui,admin-gui\"/&gt;\n</pre><p>\n<a style=\"padding:0; border:none\" href=\"/wiki/public/attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/tomcat-users.jpeg\"><img src=\"/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/tomcat-users.jpeg\" /></a>\n</p>\n<p>\nBy doing so, you've created a user named \"tomcat\", and its password is \"123456\". You've also granted two roles \"manager-gui\" and \"admin-gui\" to it.\n</p>\n<h2 id=\"StartTomcat\">Start Tomcat</h2>\n<p>\nNow you are ready to start tomcat by executing the following command:\n</p>\n<pre class=\"wiki\">/home/ubuntu/tomcat/bin/startup.sh\n</pre><p>\nIf you see this, then it means your tomcat has started properly.\n</p>\n<h2 id=\"OpenportforAWS\">Open port for AWS</h2>\n<p>\nIf you do the above steps on your local machine, then you should be able to access\u00a0<a class=\"ext-link\" href=\"http://localhost:8080\"><span class=\"icon\">\u200b</span>http://localhost:8080</a>\u00a0from your browser to access tomcat.\n</p>\n<p>\nHowever, on AWS, the port 8080 is not opened to public by default. Thus, you need to open it as follows.\n</p>\n<p>\nGo to your AWS console, and click the item under \"<strong>Security Groups</strong>\" for your instance.\n</p>\n<p>\n<a style=\"padding:0; border:none\" href=\"/wiki/public/attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/security_group.jpeg\"><img src=\"/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/security_group.jpeg\" /></a>\n</p>\n<p>\nClick \"Edit\" to add more inbound rules:\n</p>\n<p>\n<a style=\"padding:0; border:none\" href=\"/wiki/public/attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/add-rule.jpeg\"><img src=\"/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/add-rule.jpeg\" /></a>\n</p>\n<h2 id=\"AccessTomcat\">Access Tomcat</h2>\n<p>\nNow you should be able to access your tomcat server using\u00a0<a class=\"ext-link\" href=\"http://[YOUR-AWS-PUBLIC-IP]:8080\"><span class=\"icon\">\u200b</span>http://[YOUR-AWS-PUBLIC-IP]:8080</a>, and you should be able to see the following page:\n</p>\n<p>\n<a style=\"padding:0; border:none\" href=\"/wiki/public/attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/tomcat.jpeg\"><img src=\"/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/tomcat.jpeg\" /></a>\n</p>\n<p>\nIf you want to access manager or host-manager, just click the button on the right, and type the username/password you've set in the tomcat-users.xml file.\n</p>\n<p>\n<a style=\"padding:0; border:none\" href=\"/wiki/public/attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/manager-pwd.jpeg\"><img src=\"/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/manager-pwd.jpeg\" /></a>\n</p>\n<p>\n<a style=\"padding:0; border:none\" href=\"/wiki/public/attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/manager.jpeg\"><img src=\"/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/manager.jpeg\" /></a>\n</p>\n<blockquote class=\"citation\">\n</blockquote>\n</div>\n          \n          \n        \n        \n      </div>\n      \n    <div id=\"attachments\">\n        <h3 class=\"foldable\">Attachments <span class=\"trac-count\">(8)</span></h3>\n        <div>\n          <ul>\n              <li>\n    <a href=\"/wiki/public/attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/add-rule.jpeg\" title=\"View attachment\">add-rule.jpeg</a><a href=\"/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/add-rule.jpeg\" class=\"trac-rawlink\" title=\"Download\">\u200b</a>\n       (<span title=\"22623 bytes\">22.1 KB</span>) -\n      added by <em>michaelwbh</em> <a class=\"timeline\" href=\"/wiki/public/timeline?from=2019-01-08T23%3A45%3A14-08%3A00&amp;precision=second\" title=\"See timeline at Jan 8, 2019 11:45:14 PM\">9 months ago</a>.\n              </li>\n              <li>\n    <a href=\"/wiki/public/attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/manager.jpeg\" title=\"View attachment\">manager.jpeg</a><a href=\"/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/manager.jpeg\" class=\"trac-rawlink\" title=\"Download\">\u200b</a>\n       (<span title=\"61061 bytes\">59.6 KB</span>) -\n      added by <em>michaelwbh</em> <a class=\"timeline\" href=\"/wiki/public/timeline?from=2019-01-08T23%3A45%3A26-08%3A00&amp;precision=second\" title=\"See timeline at Jan 8, 2019 11:45:26 PM\">9 months ago</a>.\n              </li>\n              <li>\n    <a href=\"/wiki/public/attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/security_group.jpeg\" title=\"View attachment\">security_group.jpeg</a><a href=\"/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/security_group.jpeg\" class=\"trac-rawlink\" title=\"Download\">\u200b</a>\n       (<span title=\"22295 bytes\">21.8 KB</span>) -\n      added by <em>michaelwbh</em> <a class=\"timeline\" href=\"/wiki/public/timeline?from=2019-01-08T23%3A45%3A36-08%3A00&amp;precision=second\" title=\"See timeline at Jan 8, 2019 11:45:36 PM\">9 months ago</a>.\n              </li>\n              <li>\n    <a href=\"/wiki/public/attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/tomcat-dir.jpeg\" title=\"View attachment\">tomcat-dir.jpeg</a><a href=\"/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/tomcat-dir.jpeg\" class=\"trac-rawlink\" title=\"Download\">\u200b</a>\n       (<span title=\"13742 bytes\">13.4 KB</span>) -\n      added by <em>michaelwbh</em> <a class=\"timeline\" href=\"/wiki/public/timeline?from=2019-01-08T23%3A45%3A43-08%3A00&amp;precision=second\" title=\"See timeline at Jan 8, 2019 11:45:43 PM\">9 months ago</a>.\n              </li>\n              <li>\n    <a href=\"/wiki/public/attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/start.jpeg\" title=\"View attachment\">start.jpeg</a><a href=\"/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/start.jpeg\" class=\"trac-rawlink\" title=\"Download\">\u200b</a>\n       (<span title=\"31985 bytes\">31.2 KB</span>) -\n      added by <em>michaelwbh</em> <a class=\"timeline\" href=\"/wiki/public/timeline?from=2019-01-08T23%3A45%3A50-08%3A00&amp;precision=second\" title=\"See timeline at Jan 8, 2019 11:45:50 PM\">9 months ago</a>.\n              </li>\n              <li>\n    <a href=\"/wiki/public/attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/tomcat-users.jpeg\" title=\"View attachment\">tomcat-users.jpeg</a><a href=\"/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/tomcat-users.jpeg\" class=\"trac-rawlink\" title=\"Download\">\u200b</a>\n       (<span title=\"62470 bytes\">61.0 KB</span>) -\n      added by <em>michaelwbh</em> <a class=\"timeline\" href=\"/wiki/public/timeline?from=2019-01-08T23%3A45%3A58-08%3A00&amp;precision=second\" title=\"See timeline at Jan 8, 2019 11:45:58 PM\">9 months ago</a>.\n              </li>\n              <li>\n    <a href=\"/wiki/public/attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/manager-pwd.jpeg\" title=\"View attachment\">manager-pwd.jpeg</a><a href=\"/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/manager-pwd.jpeg\" class=\"trac-rawlink\" title=\"Download\">\u200b</a>\n       (<span title=\"372783 bytes\">364.0 KB</span>) -\n      added by <em>michaelwbh</em> <a class=\"timeline\" href=\"/wiki/public/timeline?from=2019-01-09T23%3A24%3A04-08%3A00&amp;precision=second\" title=\"See timeline at Jan 9, 2019 11:24:04 PM\">9 months ago</a>.\n              </li>\n              <li>\n    <a href=\"/wiki/public/attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/tomcat.jpeg\" title=\"View attachment\">tomcat.jpeg</a><a href=\"/wiki/public/raw-attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/tomcat.jpeg\" class=\"trac-rawlink\" title=\"Download\">\u200b</a>\n       (<span title=\"389511 bytes\">380.4 KB</span>) -\n      added by <em>michaelwbh</em> <a class=\"timeline\" href=\"/wiki/public/timeline?from=2019-01-09T23%3A24%3A27-08%3A00&amp;precision=second\" title=\"See timeline at Jan 9, 2019 11:24:27 PM\">9 months ago</a>.\n              </li>\n          </ul>\n          <p>\n            Download all attachments as: <a rel=\"nofollow\" href=\"/wiki/public/zip-attachment/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws/\">.zip</a>\n          </p>\n        </div>\n    </div>\n\n    </div>\n    <div id=\"altlinks\">\n      <h3>Download in other formats:</h3>\n      <ul>\n        <li class=\"last first\">\n          <a rel=\"nofollow\" href=\"/wiki/public/wiki/cs122b-2019-winter-project1-install-tomcat-on-aws?version=3&amp;format=txt\">Plain Text</a>\n        </li>\n      </ul>\n    </div>\n    </div>\n    <div id=\"footer\" lang=\"en\" xml:lang=\"en\"><hr />\n      <a id=\"tracpowered\" href=\"http://trac.edgewall.org/\"><img src=\"/wiki/public/chrome/common/trac_logo_mini.png\" height=\"30\" width=\"107\" alt=\"Trac Powered\" /></a>\n      <p class=\"left\">Powered by <a href=\"/wiki/public/about\"><strong>Trac 1.0.13</strong></a><br />\n        By <a href=\"http://www.edgewall.org/\">Edgewall Software</a>.</p>\n      <p class=\"right\">Visit the Trac open source project at<br /><a href=\"http://trac.edgewall.org/\">http://trac.edgewall.org/</a></p>\n    </div>\n  </body>\n</html>", "encoding": "utf-8"}