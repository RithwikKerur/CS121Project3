{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?action=diff&version=2", "content": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n\n    <html xmlns=\"http://www.w3.org/1999/xhtml\">\n  \n  \n\n\n  <head>\n    <title>\n      cs122b-2017-winter-project5-mysql-master-slave (diff) \u2013 Public\n    </title>\n      <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n      <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <!--[if IE]><script type=\"text/javascript\">\n      if (/^#__msie303:/.test(window.location.hash))\n        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));\n    </script><![endif]-->\n        <link rel=\"search\" href=\"/wiki/public/search\" />\n        <link rel=\"help\" href=\"/wiki/public/wiki/TracGuide\" />\n        <link rel=\"up\" href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?action=history\" title=\"Page history\" />\n        <link rel=\"next\" href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?action=diff&amp;version=3\" title=\"Version 3\" />\n        <link rel=\"start\" href=\"/wiki/public/wiki\" />\n        <link rel=\"stylesheet\" href=\"/wiki/public/chrome/common/css/trac.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/wiki/public/chrome/common/css/wiki.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/wiki/public/chrome/common/css/diff.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/wiki/public/chrome/tracwysiwyg/wysiwyg.css\" type=\"text/css\" />\n        <link rel=\"tracwysiwyg.stylesheet\" href=\"/wiki/public/chrome/common/css/trac.css\" /><link rel=\"tracwysiwyg.stylesheet\" href=\"/wiki/public/chrome/tracwysiwyg/editor.css\" />\n        <link rel=\"tracwysiwyg.base\" href=\"/wiki/public\" />\n        <link rel=\"prev\" href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?action=diff&amp;version=1\" title=\"Version 1\" />\n        <link rel=\"shortcut icon\" href=\"/wiki/public/chrome/site/favicon.ico\" type=\"image/x-icon\" />\n        <link rel=\"icon\" href=\"/wiki/public/chrome/site/favicon.ico\" type=\"image/x-icon\" />\n    <style id=\"trac-noscript\" type=\"text/css\">.trac-noscript { display: none !important }</style>\n    <script type=\"text/javascript\">\n      var _tracwysiwyg={};\n    </script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/jquery.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/babel.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/trac.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/search.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/diff.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/tracwysiwyg/wysiwyg.js\"></script>\n    <script type=\"text/javascript\">\n      jQuery(\"#trac-noscript\").remove();\n      jQuery(document).ready(function($) {\n        $(\".trac-autofocus\").focus();\n        $(\".trac-target-new\").attr(\"target\", \"_blank\");\n        setTimeout(function() { $(\".trac-scroll\").scrollToTop() }, 1);\n        $(\".trac-disable-on-submit\").disableOnSubmit();\n      });\n    </script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/wiki/public/chrome/common/css/diff.css\" />\n    <meta name=\"ROBOTS\" content=\"NOINDEX, NOFOLLOW\" />\n  </head>\n  <body>\n    <div id=\"banner\">\n      <div id=\"header\">\n        <a id=\"logo\" href=\"http://www.ics.uci.edu/\"><img src=\"/wiki/public/chrome/site/ics.jpg\" alt=\"ICS Logo\" height=\"67\" width=\"128\" /></a>\n      </div>\n      <form id=\"search\" action=\"/wiki/public/search\" method=\"get\">\n      </form>\n      <div id=\"metanav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/wiki/public/login\">Login</a></li><li><a href=\"/wiki/public/prefs\">Preferences</a></li><li class=\"last\"><a href=\"/wiki/public/about\">About Trac</a></li>\n    </ul>\n  </div>\n    </div>\n    <div id=\"mainnav\" class=\"nav\">\n  </div>\n    <div id=\"main\">\n      <div id=\"ctxtnav\" class=\"nav\">\n        <h2>Context Navigation</h2>\n        <ul>\n          <li class=\"first\"><span>&larr; <a class=\"prev\" href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?action=diff&amp;version=1\" title=\"Version 1\">Previous Change</a></span></li><li><a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?action=history\" title=\"Page history\">Wiki History</a></li><li class=\"last\"><span><a class=\"next\" href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?action=diff&amp;version=3\" title=\"Version 3\">Next Change</a> &rarr;</span></li>\n        </ul>\n        <hr />\n      </div>\n    <div id=\"content\" class=\"wiki\">\n      <h1>\n        Changes between\n          <a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=1\">Version 1</a> and\n          <a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=2\">Version 2</a> of\n          <a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave\">cs122b-2017-winter-project5-mysql-master-slave</a>\n      </h1>\n      <form method=\"post\" id=\"prefs\" action=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=2\"><div><input type=\"hidden\" name=\"__FORM_TOKEN\" value=\"fd710adfe2144e2c74e0a89e\" /></div>\n        <div>\n          <input type=\"hidden\" name=\"action\" value=\"diff\" />\n          <input type=\"hidden\" name=\"version\" value=\"2\" />\n          <input type=\"hidden\" name=\"old_version\" value=\"1\" />\n          \n  <label for=\"style\">View differences</label>\n  <select id=\"style\" name=\"style\">\n    <option selected=\"selected\" value=\"inline\">inline</option>\n    <option value=\"sidebyside\">side by side</option>\n  </select>\n  <div class=\"field\">\n    <label><input type=\"radio\" name=\"contextall\" value=\"0\" checked=\"checked\" />\n             Show</label>\n      <label><input type=\"text\" name=\"contextlines\" id=\"contextlines\" size=\"2\" maxlength=\"3\" value=\"2\" />\n             lines around each change</label><br />\n    <label><input type=\"radio\" name=\"contextall\" value=\"1\" />\n           Show the changes in full context</label>\n  </div>\n  <fieldset id=\"ignore\">\n    <legend>Ignore:</legend>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignoreblanklines\" name=\"ignoreblanklines\" />\n      <label for=\"ignoreblanklines\">Blank lines</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorecase\" name=\"ignorecase\" />\n      <label for=\"ignorecase\">Case changes</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorewhitespace\" name=\"ignorewhitespace\" />\n      <label for=\"ignorewhitespace\">White space changes</label>\n    </div>\n  </fieldset>\n  <div class=\"buttons\">\n    <input type=\"submit\" name=\"update\" value=\"Update\" />\n  </div>\n\n        </div>\n      </form>\n      <dl id=\"overview\">\n        <dt class=\"property time\">Timestamp:</dt>\n        <dd class=\"time\">\n            Mar 2, 2017 11:47:52 PM (<a class=\"timeline\" href=\"/wiki/public/timeline?from=2017-03-02T23%3A47%3A52-08%3A00&amp;precision=second\" title=\"See timeline at Mar 2, 2017 11:47:52 PM\">3 years</a> ago)\n        </dd>\n        <dt class=\"property author\">Author:</dt>\n        <dd class=\"author\">\n          cluo8\n        </dd>\n        <dt class=\"property message\">Comment:</dt>\n        <dd class=\"message\">\n          \n          <p>\n--\n</p>\n\n        </dd>\n      </dl>\n      <div class=\"diff\">\n        <div class=\"legend\" id=\"diff-legend\">\n          <h3>Legend:</h3>\n          <dl>\n            <dt class=\"unmod\"></dt><dd>Unmodified</dd>\n            <dt class=\"add\"></dt><dd>Added</dd>\n            <dt class=\"rem\"></dt><dd>Removed</dd>\n            <dt class=\"mod\"></dt><dd>Modified</dd>\n          </dl>\n        </div>\n        <div class=\"diff\">\n  <ul class=\"entries\">\n      <li class=\"entry\">\n        <h2 id=\"file0\">\n          <a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=2\">cs122b-2017-winter-project5-mysql-master-slave</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Version 1\">\n                    <a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=1#L1\">\n                      v1</a>\n                  </th>\n                  <th title=\"Version 2\">\n                    <a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=2#L1\">\n                      v2</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"rem\">\n                  <tr class=\"last first\">\n                          <th>1</th><th>\u00a0</th><td class=\"l\"><del></del></td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>2</th><th>1</th><td class=\"l\"><span>=== MySQL Master-Slave Replication ===</span></td>\n                  </tr>\n            </tbody><tbody class=\"rem\">\n                  <tr class=\"last first\">\n                          <th>3</th><th>\u00a0</th><td class=\"l\"><del></del></td>\n                  </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>4</th><th>2</th><td class=\"l\"><span>This tutorial shows how to setup a MySQL cluster on AWS that includes a master and a slave.&nbsp; Reads can be sent to any of the two instances, and writes have to be sent to the master instance.</span></td>\n                  </tr><tr>\n                          <th>5</th><th>3</th><td class=\"l\"><span></span></td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>6</th><th>\u00a0</th><td class=\"l\"><span><del></del>1. Setup two new AWS instances:</span></td>\n                      </tr><tr>\n                        <th>7</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; <del>i. Create two new AWS instances identical to your previous instance used to run Fabflix. We call these \"instance 2\" (as the master) and \"instance 3\"' (as the slave). We assume their public IPs&nbsp; are 2.2.2.2 and 3.3.3.3, and their internal AWS IPs are 172.2.2.2 and 172.3.3.3, respectively. </del></span></td>\n                      </tr><tr>\n                        <th>8</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; <del>i. Add new rules in their security group(s) to open their `MYSQL/Aurora` type to each other using their AWS internal IP. </del></span></td>\n                      </tr><tr>\n                        <th>9</th><th>\u00a0</th><td class=\"l\"><span><del></del>1. Watch [https://www.youtube.com/watch?v=JXDuVypcHNA this video] to have a good understanding of this feature.&nbsp; The following steps are mainly based on those instructions in the video.</span></td>\n                      </tr><tr>\n                        <th>10</th><th>\u00a0</th><td class=\"l\"><span>1. Set up the master instance.&nbsp; </span></td>\n                      </tr><tr>\n                        <th>11</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp;i. SSH to the master instance. Run the following command to install MySQL server.<del>&nbsp;</del></span></td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>4</th><td class=\"r\"><span><ins>&nbsp;</ins>1. Setup two new AWS instances:</span></td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>5</th><td class=\"r\"><span>&nbsp; <ins>&nbsp;i. Create two new AWS instances identical to your previous instance used to run Fabflix. We call these \"instance 2\" (as the master) and \"instance 3\"' (as the slave). We assume their public IPs&nbsp; are 2.2.2.2 and 3.3.3.3, and their internal AWS IPs are 172.2.2.2 and 172.3.3.3, respectively.</ins></span></td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>6</th><td class=\"r\"><span>&nbsp; <ins>&nbsp;i. Add new rules in their security group(s) to open their `MYSQL/Aurora` type to each other using their AWS internal IP.</ins></span></td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>7</th><td class=\"r\"><span><ins>&nbsp;</ins>1. Watch [https://www.youtube.com/watch?v=JXDuVypcHNA this video] to have a good understanding of this feature.&nbsp; The following steps are mainly based on those instructions in the video.</span></td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>8</th><td class=\"r\"><span>&nbsp;1. Set up the master instance.</span></td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>9</th><td class=\"r\"><span>&nbsp; &nbsp;i. SSH to the master instance. Run the following command to install MySQL server.<ins></ins></span></td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>12</th><th>10</th><td class=\"l\"><span>{{{</span></td>\n                  </tr><tr>\n                          <th>13</th><th>11</th><td class=\"l\"><span>master-shell&gt; sudo apt-get update</span></td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=1#L15\">\u2026</a></th>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=2#L13\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>15</th><th>13</th><td class=\"l\"><span>}}}</span></td>\n                  </tr><tr>\n                          <th>16</th><th>14</th><td class=\"l\"><span>&nbsp; &nbsp;i. Edit the `/etc/mysql/my.cnf` file and set the `bind-address` to '''0.0.0.0'''. Also, uncomment the lines of `server-id` and `log_bin` properties.</span></td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>17</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp;i. Restart the MySQL service.<del>&nbsp;</del></span></td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>15</th><td class=\"r\"><span>&nbsp; &nbsp;i. Restart the MySQL service.<ins></ins></span></td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>18</th><th>16</th><td class=\"l\"><span>{{{</span></td>\n                  </tr><tr>\n                          <th>19</th><th>17</th><td class=\"l\"><span>master-shell&gt; sudo service mysql restart</span></td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=1#L29\">\u2026</a></th>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=2#L27\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>29</th><th>27</th><td class=\"l\"><span>master-mysql&gt; show master status;</span></td>\n                  </tr><tr>\n                          <th>30</th><th>28</th><td class=\"l\"><span>}}}</span></td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>31</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp;<del></del>Keep the values of the `File` and `Position` columns, as they are needed in the next step. For example, these values are `mysql-bin.000001` and `337`.</span></td>\n                      </tr><tr>\n                        <th>32</th><th>\u00a0</th><td class=\"l\"><span><del></del>1. Set up the slave instance:</span></td>\n                      </tr><tr>\n                        <th>33</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp;i. SSH to the slave instance. Run the following commands to install MySQL server.<del>&nbsp;</del></span></td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>29</th><td class=\"r\"><span>&nbsp; &nbsp;<ins>&nbsp; </ins>Keep the values of the `File` and `Position` columns, as they are needed in the next step. For example, these values are `mysql-bin.000001` and `337`.</span></td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>30</th><td class=\"r\"><span><ins>&nbsp;</ins>1. Set up the slave instance:</span></td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>31</th><td class=\"r\"><span>&nbsp; &nbsp;i. SSH to the slave instance. Run the following commands to install MySQL server.<ins></ins></span></td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>34</th><th>32</th><td class=\"l\"><span>{{{</span></td>\n                  </tr><tr>\n                          <th>35</th><th>33</th><td class=\"l\"><span>slave-shell&gt; sudo apt-get update</span></td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=1#L52\">\u2026</a></th>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=2#L50\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>52</th><th>50</th><td class=\"l\"><span>slave-mysql&gt; show slave status\\G;</span></td>\n                  </tr><tr>\n                          <th>53</th><th>51</th><td class=\"l\"><span>}}}</span></td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>54</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; &nbsp;<del></del>It should show \"Slave_IO_State: Waiting for master to send event\".</span></td>\n                      </tr><tr>\n                        <th>55</th><th>\u00a0</th><td class=\"l\"><span><del></del>1. Test if the synchronization works:</span></td>\n                      </tr><tr>\n                        <th>56</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; <del></del>i. On the master instance, create a database with a table with a tuple:</span></td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>52</th><td class=\"r\"><span>&nbsp; &nbsp;<ins>&nbsp; </ins>It should show \"Slave_IO_State: Waiting for master to send event\".</span></td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>53</th><td class=\"r\"><span><ins>&nbsp;</ins>1. Test if the synchronization works:</span></td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>54</th><td class=\"r\"><span>&nbsp; <ins>&nbsp;</ins>i. On the master instance, create a database with a table with a tuple:</span></td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>57</th><th>55</th><td class=\"l\"><span>{{{</span></td>\n                  </tr><tr>\n                          <th>58</th><th>56</th><td class=\"l\"><span>master-shell&gt; mysql -u root -p</span></td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=1#L62\">\u2026</a></th>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=2#L60\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>62</th><th>60</th><td class=\"l\"><span>master-mysql&gt; insert into pets values (\"fluffy\");</span></td>\n                  </tr><tr>\n                          <th>63</th><th>61</th><td class=\"l\"><span>}}}</span></td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>64</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; <del></del>i. On the slave instance, check if the data has been propagated from the master:</span></td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>62</th><td class=\"r\"><span>&nbsp; <ins>&nbsp;</ins>i. On the slave instance, check if the data has been propagated from the master:</span></td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>65</th><th>63</th><td class=\"l\"><span>{{{</span></td>\n                  </tr><tr>\n                          <th>66</th><th>64</th><td class=\"l\"><span>slave-shell&gt; mysql -u root -p</span></td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=1#L70\">\u2026</a></th>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=2#L68\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>70</th><th>68</th><td class=\"l\"><span>slave-mysql&gt; select * from pets;</span></td>\n                  </tr><tr>\n                          <th>71</th><th>69</th><td class=\"l\"><span>}}}</span></td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>72</th><th>\u00a0</th><td class=\"l\"><span>&nbsp;<del></del>We should be able to see the database, table, and record on this instance propagated from the master.&nbsp; If so, congratulations!</span></td>\n                      </tr><tr>\n                        <th>73</th><th>\u00a0</th><td class=\"l\"><span><del></del>1. Move data from the original instance used in project 2 (let's call it \"Instance 1\" ) to the master instance:</span></td>\n                      </tr><tr>\n                        <th>74</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; <del>i. On instance 1, dump the data of the \"moviedb\" database to a file: </del></span></td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>70</th><td class=\"r\"><span>&nbsp;<ins>&nbsp; &nbsp; </ins>We should be able to see the database, table, and record on this instance propagated from the master.&nbsp; If so, congratulations!</span></td>\n                      </tr><tr>\n                        <th>\u00a0</th><th>71</th><td class=\"r\"><span><ins>&nbsp;</ins>1. Move data from the original instance used in project 2 (let's call it \"Instance 1\" ) to the master instance:</span></td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>72</th><td class=\"r\"><span>&nbsp; <ins>&nbsp;i. On instance 1, dump the data of the \"moviedb\" database to a file:</ins></span></td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>75</th><th>73</th><td class=\"l\"><span>{{{</span></td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>76</th><th>\u00a0</th><td class=\"l\"><span>instance1-shell&gt; mysql<del>dump</del> -u root -p --databases moviedb &gt; ~/movie-dump.sql</span></td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>74</th><td class=\"r\"><span>instance1-shell&gt; mysql<ins></ins> -u root -p --databases moviedb &gt; ~/movie-dump.sql</span></td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>77</th><th>75</th><td class=\"l\"><span>}}}</span></td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>78</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; <del></del>i. In the security group of the master instance, allow SSH access from the frontend instance to the master instance.</span></td>\n                      </tr><tr>\n                        <th>79</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; <del></del>i. On instance 1, copy the MySQL dump file to the master instance (you need to have the pem key available on instance 1:</span></td>\n                      </tr>\n                      <tr>\n                        <th>\u00a0</th><th>76</th><td class=\"r\"><span>&nbsp; <ins>&nbsp;</ins>i. In the security group of the master instance, allow SSH access from the frontend instance to the master instance.</span></td>\n                      </tr><tr class=\"last\">\n                        <th>\u00a0</th><th>77</th><td class=\"r\"><span>&nbsp; <ins>&nbsp;</ins>i. On instance 1, copy the MySQL dump file to the master instance (you need to have the pem key available on instance 1:</span></td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>80</th><th>78</th><td class=\"l\"><span>{{{</span></td>\n                  </tr><tr>\n                          <th>81</th><th>79</th><td class=\"l\"><span>instance1-shell&gt; scp -i \"mykey.pem\" ~/movie-dump.sql ubuntu@[Master_Instance_private_IP]:~/</span></td>\n                  </tr><tr>\n                          <th>82</th><th>80</th><td class=\"l\"><span>}}}</span></td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>83</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; <del></del>i. On the master instance, create a database \"moviedb\". Then load the data from the dump file into its own MySQL, and check its status.</span></td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>81</th><td class=\"r\"><span>&nbsp; <ins>&nbsp;</ins>i. On the master instance, create a database \"moviedb\". Then load the data from the dump file into its own MySQL, and check its status.</span></td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>84</th><th>82</th><td class=\"l\"><span>{{{</span></td>\n                  </tr><tr>\n                          <th>85</th><th>83</th><td class=\"l\"><span>master-shell&gt; mysql -u root -p moviedb &lt; ~/movie-dump.sql</span></td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=1#L87\">\u2026</a></th>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=2#L85\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>87</th><th>85</th><td class=\"l\"><span>master-mysql&gt; use moviedb; show tables;</span></td>\n                  </tr><tr>\n                          <th>88</th><th>86</th><td class=\"l\"><span>}}}</span></td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>89</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; <del></del>i. On the slave instance, check if the data is automatically propagated:</span></td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>87</th><td class=\"r\"><span>&nbsp; <ins>&nbsp;</ins>i. On the slave instance, check if the data is automatically propagated:</span></td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>90</th><th>88</th><td class=\"l\"><span>{{{</span></td>\n                  </tr><tr>\n                          <th>91</th><th>89</th><td class=\"l\"><span>slave-shell&gt; mysql -u root -p</span></td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=1#L93\">\u2026</a></th>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2017-winter-project5-mysql-master-slave?version=2#L91\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>93</th><th>91</th><td class=\"l\"><span>}}}</span></td>\n                  </tr><tr>\n                          <th>94</th><th>92</th><td class=\"l\"><span></span></td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>95</th><th>\u00a0</th><td class=\"l\"><span>Note: The propagation is only from the master to the slave, not the other way around.&nbsp; To test it, you can insert some records to a table in the slave database, and check if it's propagated to the master instance.&nbsp; It should NOT!<del>&nbsp;</del></span></td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>93</th><td class=\"r\"><span>Note: The propagation is only from the master to the slave, not the other way around.&nbsp; To test it, you can insert some records to a table in the slave database, and check if it's propagated to the master instance.&nbsp; It should NOT!<ins></ins></span></td>\n                      </tr>\n            </tbody>\n        </table>\n      </li>\n  </ul>\n</div>\n      </div>\n  </div>\n    </div>\n    <div id=\"footer\" lang=\"en\" xml:lang=\"en\"><hr />\n      <a id=\"tracpowered\" href=\"http://trac.edgewall.org/\"><img src=\"/wiki/public/chrome/common/trac_logo_mini.png\" height=\"30\" width=\"107\" alt=\"Trac Powered\" /></a>\n      <p class=\"left\">Powered by <a href=\"/wiki/public/about\"><strong>Trac 1.0.13</strong></a><br />\n        By <a href=\"http://www.edgewall.org/\">Edgewall Software</a>.</p>\n      <p class=\"right\">Visit the Trac open source project at<br /><a href=\"http://trac.edgewall.org/\">http://trac.edgewall.org/</a></p>\n    </div>\n  </body>\n</html>\n", "encoding": "utf-8"}