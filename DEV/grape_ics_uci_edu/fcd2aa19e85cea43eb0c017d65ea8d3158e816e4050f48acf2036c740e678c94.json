{"url": "https://grape.ics.uci.edu/wiki/public/wiki/cs122b-2018-spring-project5?action=diff&version=2", "content": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n\n    <html xmlns=\"http://www.w3.org/1999/xhtml\">\n  \n  \n\n\n  <head>\n    <title>\n      cs122b-2018-spring-project5 (diff) \u2013 Public\n    </title>\n      <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n      <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <!--[if IE]><script type=\"text/javascript\">\n      if (/^#__msie303:/.test(window.location.hash))\n        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));\n    </script><![endif]-->\n        <link rel=\"search\" href=\"/wiki/public/search\" />\n        <link rel=\"help\" href=\"/wiki/public/wiki/TracGuide\" />\n        <link rel=\"up\" href=\"/wiki/public/wiki/cs122b-2018-spring-project5?action=history\" title=\"Page history\" />\n        <link rel=\"next\" href=\"/wiki/public/wiki/cs122b-2018-spring-project5?action=diff&amp;version=3\" title=\"Version 3\" />\n        <link rel=\"start\" href=\"/wiki/public/wiki\" />\n        <link rel=\"stylesheet\" href=\"/wiki/public/chrome/common/css/trac.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/wiki/public/chrome/common/css/wiki.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/wiki/public/chrome/common/css/diff.css\" type=\"text/css\" /><link rel=\"stylesheet\" href=\"/wiki/public/chrome/tracwysiwyg/wysiwyg.css\" type=\"text/css\" />\n        <link rel=\"tracwysiwyg.stylesheet\" href=\"/wiki/public/chrome/common/css/trac.css\" /><link rel=\"tracwysiwyg.stylesheet\" href=\"/wiki/public/chrome/tracwysiwyg/editor.css\" />\n        <link rel=\"tracwysiwyg.base\" href=\"/wiki/public\" />\n        <link rel=\"prev\" href=\"/wiki/public/wiki/cs122b-2018-spring-project5?action=diff&amp;version=1\" title=\"Version 1\" />\n        <link rel=\"shortcut icon\" href=\"/wiki/public/chrome/site/favicon.ico\" type=\"image/x-icon\" />\n        <link rel=\"icon\" href=\"/wiki/public/chrome/site/favicon.ico\" type=\"image/x-icon\" />\n    <style id=\"trac-noscript\" type=\"text/css\">.trac-noscript { display: none !important }</style>\n    <script type=\"text/javascript\">\n      var _tracwysiwyg={};\n    </script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/jquery.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/babel.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/trac.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/search.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/common/js/diff.js\"></script>\n      <script type=\"text/javascript\" charset=\"utf-8\" src=\"/wiki/public/chrome/tracwysiwyg/wysiwyg.js\"></script>\n    <script type=\"text/javascript\">\n      jQuery(\"#trac-noscript\").remove();\n      jQuery(document).ready(function($) {\n        $(\".trac-autofocus\").focus();\n        $(\".trac-target-new\").attr(\"target\", \"_blank\");\n        setTimeout(function() { $(\".trac-scroll\").scrollToTop() }, 1);\n        $(\".trac-disable-on-submit\").disableOnSubmit();\n      });\n    </script>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"/wiki/public/chrome/common/css/diff.css\" />\n    <meta name=\"ROBOTS\" content=\"NOINDEX, NOFOLLOW\" />\n  </head>\n  <body>\n    <div id=\"banner\">\n      <div id=\"header\">\n        <a id=\"logo\" href=\"http://www.ics.uci.edu/\"><img src=\"/wiki/public/chrome/site/ics.jpg\" alt=\"ICS Logo\" height=\"67\" width=\"128\" /></a>\n      </div>\n      <form id=\"search\" action=\"/wiki/public/search\" method=\"get\">\n      </form>\n      <div id=\"metanav\" class=\"nav\">\n    <ul>\n      <li class=\"first\"><a href=\"/wiki/public/login\">Login</a></li><li><a href=\"/wiki/public/prefs\">Preferences</a></li><li class=\"last\"><a href=\"/wiki/public/about\">About Trac</a></li>\n    </ul>\n  </div>\n    </div>\n    <div id=\"mainnav\" class=\"nav\">\n  </div>\n    <div id=\"main\">\n      <div id=\"ctxtnav\" class=\"nav\">\n        <h2>Context Navigation</h2>\n        <ul>\n          <li class=\"first\"><span>&larr; <a class=\"prev\" href=\"/wiki/public/wiki/cs122b-2018-spring-project5?action=diff&amp;version=1\" title=\"Version 1\">Previous Change</a></span></li><li><a href=\"/wiki/public/wiki/cs122b-2018-spring-project5?action=history\" title=\"Page history\">Wiki History</a></li><li class=\"last\"><span><a class=\"next\" href=\"/wiki/public/wiki/cs122b-2018-spring-project5?action=diff&amp;version=3\" title=\"Version 3\">Next Change</a> &rarr;</span></li>\n        </ul>\n        <hr />\n      </div>\n    <div id=\"content\" class=\"wiki\">\n      <h1>\n        Changes between\n          <a href=\"/wiki/public/wiki/cs122b-2018-spring-project5?version=1\">Version 1</a> and\n          <a href=\"/wiki/public/wiki/cs122b-2018-spring-project5?version=2\">Version 2</a> of\n          <a href=\"/wiki/public/wiki/cs122b-2018-spring-project5\">cs122b-2018-spring-project5</a>\n      </h1>\n      <form method=\"post\" id=\"prefs\" action=\"/wiki/public/wiki/cs122b-2018-spring-project5?version=2\"><div><input type=\"hidden\" name=\"__FORM_TOKEN\" value=\"275b2a13df1e41a6656c27f4\" /></div>\n        <div>\n          <input type=\"hidden\" name=\"action\" value=\"diff\" />\n          <input type=\"hidden\" name=\"version\" value=\"2\" />\n          <input type=\"hidden\" name=\"old_version\" value=\"1\" />\n          \n  <label for=\"style\">View differences</label>\n  <select id=\"style\" name=\"style\">\n    <option selected=\"selected\" value=\"inline\">inline</option>\n    <option value=\"sidebyside\">side by side</option>\n  </select>\n  <div class=\"field\">\n    <label><input type=\"radio\" name=\"contextall\" value=\"0\" checked=\"checked\" />\n             Show</label>\n      <label><input type=\"text\" name=\"contextlines\" id=\"contextlines\" size=\"2\" maxlength=\"3\" value=\"2\" />\n             lines around each change</label><br />\n    <label><input type=\"radio\" name=\"contextall\" value=\"1\" />\n           Show the changes in full context</label>\n  </div>\n  <fieldset id=\"ignore\">\n    <legend>Ignore:</legend>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignoreblanklines\" name=\"ignoreblanklines\" />\n      <label for=\"ignoreblanklines\">Blank lines</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorecase\" name=\"ignorecase\" />\n      <label for=\"ignorecase\">Case changes</label>\n    </div>\n    <div class=\"field\">\n      <input type=\"checkbox\" id=\"ignorewhitespace\" name=\"ignorewhitespace\" />\n      <label for=\"ignorewhitespace\">White space changes</label>\n    </div>\n  </fieldset>\n  <div class=\"buttons\">\n    <input type=\"submit\" name=\"update\" value=\"Update\" />\n  </div>\n\n        </div>\n      </form>\n      <dl id=\"overview\">\n        <dt class=\"property time\">Timestamp:</dt>\n        <dd class=\"time\">\n            May 30, 2018 10:55:44 PM (<a class=\"timeline\" href=\"/wiki/public/timeline?from=2018-05-30T22%3A55%3A44-07%3A00&amp;precision=second\" title=\"See timeline at May 30, 2018 10:55:44 PM\">17 months</a> ago)\n        </dd>\n        <dt class=\"property author\">Author:</dt>\n        <dd class=\"author\">\n          avinask\n        </dd>\n        <dt class=\"property message\">Comment:</dt>\n        <dd class=\"message\">\n          \n          <p>\n--\n</p>\n\n        </dd>\n      </dl>\n      <div class=\"diff\">\n        <div class=\"legend\" id=\"diff-legend\">\n          <h3>Legend:</h3>\n          <dl>\n            <dt class=\"unmod\"></dt><dd>Unmodified</dd>\n            <dt class=\"add\"></dt><dd>Added</dd>\n            <dt class=\"rem\"></dt><dd>Removed</dd>\n            <dt class=\"mod\"></dt><dd>Modified</dd>\n          </dl>\n        </div>\n        <div class=\"diff\">\n  <ul class=\"entries\">\n      <li class=\"entry\">\n        <h2 id=\"file0\">\n          <a href=\"/wiki/public/wiki/cs122b-2018-spring-project5?version=2\">cs122b-2018-spring-project5</a>\n        </h2>\n        <table class=\"trac-diff inline\" summary=\"Differences\" cellspacing=\"0\">\n              <colgroup><col class=\"lineno\" /><col class=\"lineno\" /><col class=\"content\" /></colgroup>\n              <thead>\n                <tr>\n                  <th title=\"Version 1\">\n                    <a href=\"/wiki/public/wiki/cs122b-2018-spring-project5?version=1#L18\">\n                      v1</a>\n                  </th>\n                  <th title=\"Version 2\">\n                    <a href=\"/wiki/public/wiki/cs122b-2018-spring-project5?version=2#L18\">\n                      v2</a>\n                  </th>\n                  <td>\u00a0</td>\n                </tr>\n              </thead>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>18</th><th>18</th><td class=\"l\"><span>''''Step 1:''' Enable JDBC connection pooling for Fabflix for all servlets. We will use our running application of \"!TomcatTest\" to show how to change it to use connection pooling.</span></td>\n                  </tr><tr>\n                          <th>19</th><th>19</th><td class=\"l\"><span></span></td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>20</th><th>\u00a0</th><td class=\"l\"><span>&nbsp;1. '''Copy the JDBC Driver's jar into $CATALINA_HOME/lib''' (the lib folder just inside tomcat directory. If the lib folder is not there, create it). Download and deploy the following [attachment:wiki:cs122b-2018-<del>winter</del>-project5:TomcatPooling.war TomcatPooling.war] file. The file '''!TomcatPooling\\META-INF\\context.xml''' includes important information about the database, user name, password, and pooling configuration. If you want to change this file, you need to undeploy the war file, make those changes, make a new war file, and deploy the new war file. Otherwise, the Tomcat server may still use the previous context.xml. Check [http://tomcat.apache.org/tomcat-8.5-doc/jndi-datasource-examples-howto.html] for more information about how to configure connection pooling.</span></td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>20</th><td class=\"r\"><span>&nbsp;1. '''Copy the JDBC Driver's jar into $CATALINA_HOME/lib''' (the lib folder just inside tomcat directory. If the lib folder is not there, create it). Download and deploy the following [attachment:wiki:cs122b-2018-<ins>spring</ins>-project5:TomcatPooling.war TomcatPooling.war] file. The file '''!TomcatPooling\\META-INF\\context.xml''' includes important information about the database, user name, password, and pooling configuration. If you want to change this file, you need to undeploy the war file, make those changes, make a new war file, and deploy the new war file. Otherwise, the Tomcat server may still use the previous context.xml. Check [http://tomcat.apache.org/tomcat-8.5-doc/jndi-datasource-examples-howto.html] for more information about how to configure connection pooling.</span></td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>21</th><th>21</th><td class=\"l\"><span>&nbsp;1. Go to the link http://localhost:8080/TomcatPooling/servlet/TomcatTest to test your application.&nbsp; You must see a list of rows displayed on the webpage.</span></td>\n                  </tr><tr>\n                          <th>22</th><th>22</th><td class=\"l\"><span>&nbsp;1. Look into the following files for the main changes in this war file&nbsp; &nbsp;compared to the previous war file without connection pooling:</span></td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2018-spring-project5?version=1#L128\">\u2026</a></th>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2018-spring-project5?version=2#L128\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>128</th><th>128</th><td class=\"l\"><span>The following is the architecture diagram:</span></td>\n                  </tr><tr>\n                          <th>129</th><th>129</th><td class=\"l\"><span></span></td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>130</th><th>\u00a0</th><td class=\"l\"><span>&nbsp; [[Image(wiki:cs122b-2018-<del>winter</del>-project5:CS122B-Project5-Cluster-Architecture.png, 500px)]]</span></td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>130</th><td class=\"r\"><span>&nbsp; [[Image(wiki:cs122b-2018-<ins>spring</ins>-project5:CS122B-Project5-Cluster-Architecture.png, 500px)]]</span></td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>131</th><th>131</th><td class=\"l\"><span></span></td>\n                  </tr><tr>\n                          <th>132</th><th>132</th><td class=\"l\"><span>Notice that in this architecture, each Tomcat can talk to both mysql instances. Sometimes we may want to setup a cluster of MySQL, and let each Tomcat talk to the cluster through another load balancer.&nbsp; If interested, you can read this [http://mysqlhighavailability.com/setting-up-mysql-router/ page] on how to set it up.</span></td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2018-spring-project5?version=1#L163\">\u2026</a></th>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2018-spring-project5?version=2#L163\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>163</th><th>163</th><td class=\"l\"><span></span></td>\n                  </tr><tr>\n                          <th>164</th><th>164</th><td class=\"l\"><span>=== Task 3.2: Preparing the test plan in Apache JMeter ===</span></td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>165</th><th>\u00a0</th><td class=\"l\"><span>In this part, you will use [http://jmeter.apache.org/ Apache JMeter] to measure the performance of the search feature of the Fabflix website. In particular, you must measure the '''average query time''' of the search feature using a set of queries based on the movie tiles in this [attachment:wiki:cs122b-2018-<del>winter</del>-project5:query_load.txt file]. Assume the page size is 50, and we only want the first page of results.</span></td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>165</th><td class=\"r\"><span>In this part, you will use [http://jmeter.apache.org/ Apache JMeter] to measure the performance of the search feature of the Fabflix website. In particular, you must measure the '''average query time''' of the search feature using a set of queries based on the movie tiles in this [attachment:wiki:cs122b-2018-<ins>spring</ins>-project5:query_load.txt file]. Assume the page size is 50, and we only want the first page of results.</span></td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>166</th><th>166</th><td class=\"l\"><span></span></td>\n                  </tr><tr>\n                          <th>167</th><th>167</th><td class=\"l\"><span>The following figure illustrates the round-trip time of a query from a client to the server then back to client. The ''query time''&nbsp; of a query (i.e., \"Tq\") is&nbsp; the total time starting from when the search request is sent from the client (Ts) until the time when the response has completely received by the client (Te). It includes two major parts: (1) ''response time'' (Tr) is the time it takes until the client hears the first bit of the response, and (2) \"payload time\" (Tp) is the time it takes for the response data to be downloaded by the client completely.</span></td>\n                  </tr><tr>\n                          <th>168</th><th>168</th><td class=\"l\"><span></span></td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>169</th><th>\u00a0</th><td class=\"l\"><span>[[Image(wiki:cs122b-2018-<del>winter</del>-project5:query_time.png)]]</span></td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>169</th><td class=\"r\"><span>[[Image(wiki:cs122b-2018-<ins>spring</ins>-project5:query_time.png)]]</span></td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>170</th><th>170</th><td class=\"l\"><span></span></td>\n                  </tr><tr>\n                          <th>171</th><th>171</th><td class=\"l\"><span>Step 1: Read this [http://jmeter.apache.org/usermanual/get-started.html reference] to get an overview of Jmeter. Read this [http://jmeter.apache.org/usermanual/build-test-plan.html page] to get familiar with JMeter basics.</span></td>\n                  </tr>\n            </tbody>\n              <tbody class=\"skipped\">\n                <tr>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2018-spring-project5?version=1#L173\">\u2026</a></th>\n                  <th><a href=\"/wiki/public/wiki/cs122b-2018-spring-project5?version=2#L173\">\u2026</a></th>\n                  <td>\u00a0</td>\n                </tr>\n              </tbody>\n            <tbody class=\"unmod\">\n                  <tr>\n                          <th>173</th><th>173</th><td class=\"l\"><span>Step 2: Download and install JMeter from this [http://jmeter.apache.org/download_jmeter.cgi link].</span></td>\n                  </tr><tr>\n                          <th>174</th><th>174</th><td class=\"l\"><span></span></td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>175</th><th>\u00a0</th><td class=\"l\"><span>Step 3: Use [http://jmeter.apache.org/usermanual/build-web-test-plan.html this link] to make a test plan for the search feature of your website. You will run the Jmeter test from your local development against the remote AWS instance.&nbsp; The plan must iteratively generate a proper HTTP or HTTPS search request for every movie title in the provided [attachment:wiki:cs122b-2018-<del>winter</del>-project5:query_load.txt query file]. Here is a useful [http://ivetetecedor.com/how-to-use-a-csv-file-with-jmeter/ page] about how to use a CSV file for Jmeter. [https://www.digitalocean.com/community/tutorials/how-to-use-apache-jmeter-to-perform-load-testing-on-a-web-server This] is another link which can help you perform load testing using JMeter. [https://stackoverflow.com/questions/18510846/jmeter-latency-vs-load-timesample-time This Stackoverflow answer] has answered many questions on Piazza. </span></td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>175</th><td class=\"r\"><span>Step 3: Use [http://jmeter.apache.org/usermanual/build-web-test-plan.html this link] to make a test plan for the search feature of your website. You will run the Jmeter test from your local development against the remote AWS instance.&nbsp; The plan must iteratively generate a proper HTTP or HTTPS search request for every movie title in the provided [attachment:wiki:cs122b-2018-<ins>spring</ins>-project5:query_load.txt query file]. Here is a useful [http://ivetetecedor.com/how-to-use-a-csv-file-with-jmeter/ page] about how to use a CSV file for Jmeter. [https://www.digitalocean.com/community/tutorials/how-to-use-apache-jmeter-to-perform-load-testing-on-a-web-server This] is another link which can help you perform load testing using JMeter. [https://stackoverflow.com/questions/18510846/jmeter-latency-vs-load-timesample-time This Stackoverflow answer] has answered many questions on Piazza. </span></td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>176</th><th>176</th><td class=\"l\"><span></span></td>\n                  </tr><tr>\n                          <th>177</th><th>177</th><td class=\"l\"><span>=== Task 3.3: Collecting the performance results ===</span></td>\n                  </tr>\n            </tbody><tbody class=\"mod\">\n                      <tr class=\"first\">\n                        <th>178</th><th>\u00a0</th><td class=\"l\"><span>Run the tests for all the following settings to collect performance results. For each case, remember to make the necessary changes to the JMeter test plan and/or the codebase.&nbsp; Use the results to fill out this [attachment:wiki:cs122b-2018-<del>winter-project5:jmeter_report.html HTML file] as your measurement report. For each case, report the requested values in the corresponding columns, and write a short analysis for that case in the last column. This [attachment:wiki:cs122b-2018-winter</del>-project5:graph_results_case1.png image] is an example of what you should report in the second column called \"Graph Results Screenshot\".</span></td>\n                      </tr>\n                      <tr class=\"last\">\n                        <th>\u00a0</th><th>178</th><td class=\"r\"><span>Run the tests for all the following settings to collect performance results. For each case, remember to make the necessary changes to the JMeter test plan and/or the codebase.&nbsp; Use the results to fill out this [attachment:wiki:cs122b-2018-<ins>spring-project5:jmeter_report.html HTML file] as your measurement report. For each case, report the requested values in the corresponding columns, and write a short analysis for that case in the last column. This [attachment:wiki:cs122b-2018-spring</ins>-project5:graph_results_case1.png image] is an example of what you should report in the second column called \"Graph Results Screenshot\".</span></td>\n                      </tr>\n            </tbody><tbody class=\"unmod\">\n                  <tr>\n                          <th>179</th><th>179</th><td class=\"l\"><span></span></td>\n                  </tr><tr>\n                          <th>180</th><th>180</th><td class=\"l\"><span>'''Notes''':</span></td>\n                  </tr>\n            </tbody>\n        </table>\n      </li>\n  </ul>\n</div>\n      </div>\n  </div>\n    </div>\n    <div id=\"footer\" lang=\"en\" xml:lang=\"en\"><hr />\n      <a id=\"tracpowered\" href=\"http://trac.edgewall.org/\"><img src=\"/wiki/public/chrome/common/trac_logo_mini.png\" height=\"30\" width=\"107\" alt=\"Trac Powered\" /></a>\n      <p class=\"left\">Powered by <a href=\"/wiki/public/about\"><strong>Trac 1.0.13</strong></a><br />\n        By <a href=\"http://www.edgewall.org/\">Edgewall Software</a>.</p>\n      <p class=\"right\">Visit the Trac open source project at<br /><a href=\"http://trac.edgewall.org/\">http://trac.edgewall.org/</a></p>\n    </div>\n  </body>\n</html>\n", "encoding": "utf-8"}