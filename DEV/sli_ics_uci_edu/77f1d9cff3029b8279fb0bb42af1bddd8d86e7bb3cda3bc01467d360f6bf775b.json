{"url": "http://sli.ics.uci.edu/PmWiki/ReleaseNotes", "content": "<!DOCTYPE html \n    PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \n    \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html>\n<head>\n  <title>SLI | PmWiki / Release Notes </title>\n  <meta http-equiv='Content-Style-Type' content='text/css' />\n  <link rel='stylesheet' href='http://sli.ics.uci.edu/pmwiki/pub/skins/custom/pmwiki.css' type='text/css' />\n  <!--HTMLHeader--><style type='text/css'><!--\n  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }\n  code.escaped { white-space: nowrap; }\n  .vspace { margin-top:1.33em; }\n  .indent { margin-left:40px; }\n  .outdent { margin-left:40px; text-indent:-40px; }\n  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }\n  a.createlink { text-decoration:none; position:relative; top:-0.5em;\n    font-weight:bold; font-size:smaller; border-bottom:none; }\n  img { border:0px; }\n  .editconflict { color:green; \n  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }\n\n  table.markup { border:2px dotted #ccf; width:90%; }\n  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }\n  table.vert td.markup1 { border-bottom:1px solid #ccf; }\n  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }\n  table.markup caption { text-align:left; }\n  div.faq p, div.faq pre { margin-left:2em; }\n  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }\n  div.faqtoc div.faq * { display:none; }\n  div.faqtoc div.faq p.question \n    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }\n  div.faqtoc div.faq p.question * { display:inline; }\n   \n    .frame \n      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }\n    .lfloat { float:left; margin-right:0.5em; }\n    .rfloat { float:right; margin-left:0.5em; }\na.varlink { text-decoration:none;}\n\n--></style>  <meta name='robots' content='noindex,nofollow' />\n\n</head>\n<body>\n<!--PageHeaderFmt-->\n  <div id='wikilogo'><a href='http://sli.ics.uci.edu'><img src='/pmwiki/pub/skins/custom/SLI_white.png'\n    alt='SLI' border='0' /></a></div>\n  <div id='wikihead'>\n  <form action='http://sli.ics.uci.edu'>\n    <!-- <span class='headnav'><a href='http://sli.ics.uci.edu/PmWiki/RecentChanges'\n      accesskey='c'>Recent Changes</a> -</span> --> \n    <input type='hidden' name='n' value='PmWiki.ReleaseNotes' />\n    <input type='hidden' name='action' value='search' />\n    <!-- <a href='http://sli.ics.uci.edu/Site/Search'>Search</a>: -->\n    <input type='text' name='q' value='' class='inputbox searchbox' />\n    <input type='submit' class='inputbutton searchbutton'\n      value='Search' />\n    <a href='http://sli.ics.uci.edu/Site/Search'>(?)</a>\n  </form></div>\n<!--/PageHeaderFmt-->\n  <table id='wikimid' width='100%' cellspacing='0' cellpadding='0'><tr>\n<!--PageLeftFmt-->\n      <td id='wikileft' valign='top'>\n        <ul><li><a class='wikilink' href='http://sli.ics.uci.edu/Classes/Classes'>Classes</a>\n</li><li><a class='wikilink' href='http://sli.ics.uci.edu/Group/Group'>Group</a>\n</li><li><a class='wikilink' href='http://sli.ics.uci.edu/Projects/Projects'>Research</a>\n</li><li><a class='urllink' href='http://www.ics.uci.edu/~ihler/pubs.html' rel='nofollow'>Publications</a>\n</li><li><a class='wikilink' href='http://sli.ics.uci.edu/Code/Code'>Code</a>\n</li></ul><div class='vspace'></div><hr />\n<div class='vspace'></div>\n</td>\n<!--/PageLeftFmt-->\n      <td id='wikibody' valign='top'>\n<!--PageActionFmt-->\n        <div id='wikicmds'><ul><li class='browse'><a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/ReleaseNotes?action=login'>login</a>\n</li></ul>\n</div>\n<!--PageTitleFmt-->\n        <div id='wikititle'>\n          <div class='pagegroup'><a href='http://sli.ics.uci.edu/PmWiki'>PmWiki</a> /</div>\n          <h1 class='pagetitle'>Release Notes</h1></div>\n<!--PageText-->\n<div id='wikitext'>\n<p>\n<a name='trailstart' id='trailstart'></a> \n</p><div style='clear:right; float:right; font-size:smaller; background-color:#eee;' >\n<p><span class='wikitrail'>&lt; <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/DesignNotes'>Design notes</a> | <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/DocumentationIndex#trailstart'>Documentation Index</a> | <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/ChangeLog'>Change log</a> &gt;</span> \n</p></div>\n<div style='clear:right;' >\n</div>\n<p>See also: <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/Upgrades'>Upgrades</a>, <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/ChangeLog'>Change log</a> and <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/Road%20map' rel='nofollow'>Road map</a>.\n</p>\n<div class='vspace'></div><h2>Version 2.2.93 (2016-12-31) <a name='v2293' id='v2293'></a></h2>\n<p>This is a documentation update version.\n</p>\n<div class='vspace'></div><h2>Version 2.2.92 (2016-11-30) <a name='v2292' id='v2292'></a></h2>\n<p>This version allows administrators to disable the \"nopass\" password by setting <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/SecurityVariables#AllowPassword'><code class='varlink'>&#36;AllowPassword</code></a> to false. The function FmtPageName() will now expand PageVariables with asterisks like <code class='escaped'>{*$FullName}</code>. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.91 (2016-09-30) <a name='v2291' id='v2291'></a></h2>\n<p>This is a documentation update version.\n</p>\n<div class='vspace'></div><h2>Version 2.2.90 (2016-08-31) <a name='v2290' id='v2290'></a></h2>\n<p>This version adds a parameter to the upload form which can improve analytics from the server logs. Two new CSS classes were added to help skin developers: <code>imgonly</code> and <code>imgcaption</code>, for standalone embedded pictures with or without a caption. A bug with the plus-links was fixed. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.89 (2016-07-30) <a name='v2289' id='v2289'></a></h2>\n<p>This version allows to set a default class name for simple tables. The <code class='escaped'>(:searchbox:)</code> directive can now have a \"placeholder\" attribute, and the input type can be changed from \"text\" to \"search\" for HTML5 websites. The edit form elements have now identifier attributes to allow easier styling. All core scripts will now inject CSS into the skin only if it hasn't already been defined. The vardoc.php script now recognizes and links to the documentation for the variables <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#pagename'><code class='varlink'>&#36;pagename</code></a>, <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#Author'><code class='varlink'>&#36;Author</code></a> and <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#Skin'><code class='varlink'>&#36;Skin</code></a>. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.88 (2016-06-29) <a name='v2288' id='v2288'></a></h2>\n<p>This version fixes invalid HTML output of some WikiTrail links. The function PHSC() can now have an optional fourth argument for a safe replacement of htmlspecialchars(). A new page variable <code class='escaped'>{$SiteAdminGroup}</code> was added and the documentation was updated. \n</p>\n<div class='vspace'></div><h2>Version 2.2.87 (2016-05-31) <a name='v2287' id='v2287'></a></h2>\n<p>This version adds the <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#HTMLTagAttr'><code class='varlink'>&#36;HTMLTagAttr</code></a> variable to be used in the &lt;html&gt; tag in skins for additional attributes like \"lang\" or \"manifest\". To enable it, use it in your skin, for example:\n</p>\n<div class='vspace'></div><pre>  &lt;html xmlns=\"<a class='urllink' href='http://www.w3.org/1999/xhtml' rel='nofollow'>http://www.w3.org/1999/xhtml</a>\" <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#HTMLTagAttr'><code class='varlink'>&#36;HTMLTagAttr</code></a>&gt;\n</pre><p class='vspace'>The variable <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/EditVariables#EnableRevUserAgent'><code class='varlink'>&#36;EnableRevUserAgent</code></a>, if set to 1, will cause the User-Agent string from browsers to be stored with each page history entry (as opposed to only storing the last user agent string). The output variable &#36;DiffUserAgent can be used in history templates like &#36;DiffStartFmt.\n</p>\n<p class='vspace'>A wrong page variable in <a class='wikilink' href='http://sli.ics.uci.edu/Site/UploadQuickReference'>Site.UploadQuickReference</a> was corrected, and the documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.86 (2016-04-28) <a name='v2286' id='v2286'></a></h2>\n<p>This version adds updates for PHP 7, for the PageStore() class and for the <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/SecurityVariables#DefaultPasswords'><code class='varlink'>&#36;DefaultPasswords</code></a> default/unset definitions (no action should be needed upon upgrades). The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.85 (2016-03-31) <a name='v2285' id='v2285'></a></h2>\n<p>This version adds Scalable Vector Graphics (*.svg, *.svgz) as allowed uploads and as embeddable picture extensions (with the html tag &lt;img/&gt;). The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.84 (2016-02-21) <a name='v2284' id='v2284'></a></h2>\n<p>This version fixes \"indent\" and \"outdent\" styles for right-to-left languages. A new variable <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LinkVariables#EnableLinkPlusTitlespaced'><code class='varlink'>&#36;EnableLinkPlusTitlespaced</code></a> allows \"plus links\" <code class='escaped'>[[Link|+]]</code> to display the \"Spaced Title\" of the page instead the \"Title\". The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.83 (2015-12-31) <a name='v2283' id='v2283'></a></h2>\n<p>This is a documentation update version.\n</p>\n<div class='vspace'></div><h2>Version 2.2.82 (2015-11-30) <a name='v2282' id='v2282'></a></h2>\n<p>This version enables stripmagic() to process arrays recursively and updates the documentation.\n</p>\n<div class='vspace'></div><h2>Version 2.2.81 (2015-10-31) <a name='v2281' id='v2281'></a></h2>\n<p>This version fixes an inconsistency with single line page text variables. International wikis enabling UTF-8 will now be able to use the CSS classes \"rtl\" and \"ltr\" to override the text direction when inserting right to left languages. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.80 (2015-09-30) <a name='v2280' id='v2280'></a></h2>\n<p>This version modifies the <code class='escaped'>(:searchbox:)</code> directive to use type=\"search\" semantic input, and updates the documentation.\n</p>\n<div class='vspace'></div><h2>Version 2.2.79 (2015-08-27) <a name='v2279' id='v2279'></a></h2>\n<p>This version adds WikiStyles for the CSS basic colors \"fuchsia\", \"olive\", \"lime\", \"teal\", \"aqua\", \"orange\" and \"gray\"/\"grey\". New input elements \"email\", \"url\", \"number\", \"date\", and \"search\" can now be used in wiki forms. \n</p>\n<p class='vspace'>Note: the \"target\" attribute of input forms which was added in the previous version broke the PmForm processor, and was removed until we find a solution. If you don't use PmForm and require this attribute (or others), the usual way to add it is to redefine the &#36;InputAttrs array in your local configuration.\n</p>\n<p class='vspace'>A new variable <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/EditVariables#EnableROSEscape'><code class='varlink'>&#36;EnableROSEscape</code></a> can be set to 1 if <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/EditVariables#ROSPatterns'><code class='varlink'>&#36;ROSPatterns</code></a> and <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/EditVariables#ROEPatterns'><code class='varlink'>&#36;ROEPatterns</code></a> should not process source text wrapped with <code class='escaped'>[=...=]</code> or <code>[@...@]</code>. By default \"replace on edit\" patterns are performed even in such text.\n</p>\n<p class='vspace'>The insMarkup() function in guiedit.js was refactored to allow custom input ids and/or custom functions to process the selected text.\n</p>\n<p class='vspace'>The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.78 (2015-07-21) <a name='v2278' id='v2278'></a></h2>\n<p>This version updates the &#36;RobotPattern list with currently active user agents. <del>Input forms can have a \"target\" attribute</del> (removed in 2.2.79). The documentation was updated.\n</p>\n<p class='vspace'>Note, this release broke the <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/PmForm' rel='nofollow'>Cookbook:PmForm</a> module. Please do upgrade to 2.2.79 or newer if your wiki uses PmForm.\n</p>\n<div class='vspace'></div><h2>Version 2.2.77 (2015-06-19) <a name='v2277' id='v2277'></a></h2>\n<p>This version extends the <code class='escaped'>(:if attachments:)</code> conditional to specify file and page names. A <code class='escaped'>{$WikiTitle}</code> page variable was added. A MatchNames() function was introduced as a generic way to match array values the same way MatchPageNames() does currently with lists of pages -- recipe authors can use it to get a subset of attachments for example. The PageStore() class was slightly optimized when recoding pages from-to UTF-8. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.76 (2015-05-31) <a name='v2276' id='v2276'></a></h2>\n<p>This version improves support for arrays in form elements: setting default values and recovering values from posted forms. A new \"label\" argument to checkbox and radio input elements allows easy insertion of clickable text labels after the form elements. Division blocks wrapping standalone images, and standalone image captions, now receive CSS classes allowing greater control via stylesheets. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.75 (2015-04-26) <a name='v2275' id='v2275'></a></h2>\n<p>This version adds a pmcrypt($pass, $salt) function which can be used as a replacement for the PHP crypt() function when encrypting passwords. From PHP 5.6 on, crypt() should not be used without a $salt parameter and would raise a notice. If pmcrypt() is called with a $salt parameter it will simply call crypt() in order to check a password. If it is called without a $salt parameter,  pmcrypt() will create a password hash with the password_hash() function or with crypt() depending on your installation. You can replace any calls to crypt() with pmcrypt(), notably in config.php when defining <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/SecurityVariables#DefaultPasswords'><code class='varlink'>&#36;DefaultPasswords</code></a> entries.\n</p>\n<p class='vspace'>Markup was added for the semantic HTML5 tags article, section, nav, header, footer, aside, address.\n</p>\n<p class='vspace'>A bug with the uploads feature was fixed when &#36;EnableReadOnly is set, and the documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.74 (2015-03-28) <a name='v2274' id='v2274'></a></h2>\n<p>This version allows the translation of the word \"OK\" in authentication forms. The documentation was updated to the latest state on pmwiki.org.\n</p>\n<div class='vspace'></div><h2>Version 2.2.73 (2015-02-28) <a name='v2273' id='v2273'></a></h2>\n<p>This release only updates the documentation to the latest state on pmwiki.org.\n</p>\n<div class='vspace'></div><h2>Version 2.2.72 (2015-01-27) <a name='v2272' id='v2272'></a></h2>\n<p>This version improves the ?action=ruleset display for markup rules potentially incompatible with PHP 5.5 when the function debug_backtrace() is not available. It restores the ability to set a custom function handling the (:markup:) demos. A variable <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/DebugVariables#AbortFunction'><code class='varlink'>&#36;AbortFunction</code></a> was added allowing administrators to override the core Abort() function. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.71 (2014-12-29) <a name='v2271' id='v2271'></a></h2>\n<p>This version removes the hard word wrap in <code class='escaped'>(:markup:)</code> wikicode examples, and instead of &lt;pre&gt; tags, it wraps it in &lt;code&gt; tags. This allows newcomers to copy and paste the code in their wikis without inserted line breaks (which often cause the markup to not work).\n</p>\n<p class='vspace'>The release also adds back-tracing for markup rules potentially incompatible with PHP 5.5. Such rules, often added by recipes, can trigger \"Deprecated: preg_replace()\" warnings. To find out which recipes may trigger the warnings, enable diagnostic tools in config.php with <code><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/DebugVariables#EnableDiag'><code class='varlink'>&#36;EnableDiag</code></a> = 1;</code> then open a page with the 'ruleset' action, eg. <code class='escaped'>[[HomePage?action=ruleset]]</code>. The PHP-5.5-incompatible rules will be flagged with filenames, line numbers and patterns. See also the pages <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/Troubleshooting' rel='nofollow'>Troubleshooting</a> and <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/CustomMarkup' rel='nofollow'>CustomMarkup</a> on pmwiki.org.\n</p>\n<p class='vspace'>The variable <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/EditVariables#DraftActionsPattern'><code class='varlink'>&#36;DraftActionsPattern</code></a> was added, the pagelist \"request\" parameter can now contain a list of allowed or disallowed parameters that can be overridden by the user, the \"input default source\" parameter can now contain multiple pages, and a minor bug was fixed in upload.php ('strict' warning). See the updated documentation for more information. \n</p>\n<div class='vspace'></div><h2>Version 2.2.70 (2014-11-08) <a name='v2270' id='v2270'></a></h2>\n<p>This release only updates the documentation to the latest state on pmwiki.org.\n</p>\n<div class='vspace'></div><h2>Version 2.2.69 (2014-10-13) <a name='v2269' id='v2269'></a></h2>\n<p>This version fixes a bug when dates are defined as relative to other dates, eg. \"2014-10-13 -3 days\". The documentation was updated; note that the instructions in Site.UploadQuickReference were updated to reflect the display of the upload form in current browsers.\n</p>\n<div class='vspace'></div><h2>Version 2.2.68 (2014-09-01) <a name='v2268' id='v2268'></a></h2>\n<p>This version adds a Skins: InterMap prefix pointing to the Skins section on PmWiki.org, a \"signature\" markup in the edit quick reference, new WikiStyles clear, min-width and max-width and the documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.67 (2014-08-02) <a name='v2267' id='v2267'></a></h2>\n<p>This version fixes an inconsistency with input forms when values are taken from PageTextVariables. The documentation was updated to the latest state on pmwiki.org.\n</p>\n<div class='vspace'></div><h2>Version 2.2.66 (2014-07-02) <a name='v2266' id='v2266'></a></h2>\n<p>This version fixes a minor longstanding bug in the default Notification format when a page is deleted. In custom patterns, the \"_\" character will no longer be considered a function name. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.65 (2014-06-07) <a name='rel2.2.65' id='rel2.2.65'></a></h2>\n<p>This version fixes Pagelist handling of <code class='escaped'>{$$PseudoVars}</code> when they contain page variables. File permissions handling was improved when the current directory is owned by \"root\". The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.64 (2014-05-08) <a name='rel2.2.64' id='rel2.2.64'></a></h2>\n<p>This version adds the \"{(mod)}\" markup expression for modulo/remainder calculations, and the \"tel:\" and \"geo:\"  URI schemes which, on compatible devices like smartphones, allow the creation of links to dial telephone numbers and open map/location applications. \n</p>\n<p class='vspace'>The &#36;SysMergePassthru switch was added, if enabled, it allows the \"Simultaneous Edits\" conflict resolution to use the passthru() function instead of popen().\n</p>\n<p class='vspace'>The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.63 (2014-04-05) <a name='rel2.2.63' id='rel2.2.63'></a></h2>\n<p>This version allows for form elements to have custom attributes containing a dash in the attribute names and enables the attributes 'required', 'placeholder' and 'autocomplete' for HTML5 forms. A minor bug with pagelist {$$RequestVariables} appearing on some installations was fixed. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.62 (2014-02-28) <a name='rel2.2.62' id='rel2.2.62'></a></h2>\n<p>This version adds the variable <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#EnableTableAutoValignTop'><code class='varlink'>&#36;EnableTableAutoValignTop</code></a> which allows to make advanced tables compatible with HTML5. For developers, a fourth argument $template was added to the Markup_e() function, and a callback template 'return' was added. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.61 (2014-01-31) <a name='rel2.2.61' id='rel2.2.61'></a></h2>\n<p>This version removes unnecessary snippets of code and adds the variable <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#TableCellAlignFmt'><code class='varlink'>&#36;TableCellAlignFmt</code></a> which allows to make simple tables compatible with HTML5. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.60 (2014-01-12) <a name='rel2.2.60' id='rel2.2.60'></a></h2>\n<p>This version reverts the changes to the pmwiki.css file made in 2.2.59. \n</p>\n<div class='vspace'></div><h2>Version 2.2.59 (2014-01-11) <a name='rel2.2.59' id='rel2.2.59'></a></h2>\n<p>This version has an improvement for Blocklist when multiple text fields are posted. A bug with some nested markup conditionals was fixed. The default skin switched font sizes from points (fixed) to percents (relative). A couple of other minor bugs were fixed and the documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.58 (2013-12-25) <a name='rel2.2.58' id='rel2.2.58'></a></h2>\n<p>This version enables customization of (:input auth_form:), and fixes a couple of minor bugs. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.57 (2013-11-03)</h2>\n<p>This version enables the use of the Attach: link format in the <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/PageDirectives#attachlist'>(:attachlist:)</a> directive. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.56 (2013-09-30)</h2>\n<p>This version aims to fix a PHP 5.5 compatibility issue with a deprecated feature of the preg_replace() function. The PageStore() class now detects and works around a bug with the iconv() function, and the documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.55 (2013-09-16)</h2>\n<p>This version adds the variable <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/EditVariables#EnableDraftAtomicDiff'><code class='varlink'>&#36;EnableDraftAtomicDiff</code></a>. If enabled, publishing from a draft version will clear the history of intermediate draft edits, and the published version will contain a single combined diff from the previous published version. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.54 (2013-08-13)</h2>\n<p>This version fixes a bug when old versions are restored from draft pages. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.53 (2013-07-08)</h2>\n<p>This version enables a message to be shown when a post is blocked because of too many unapproved links. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.52 (2013-06-08)</h2>\n<p>This version hides warnings about a deprecated feature in PHP 5.5 installations (preg_replace with /e eval flag). Three new upload extensions were added: docx, pptx and xlsx produced by recent versions of some office suites. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.51 (2013-05-08)</h2>\n<p>This version updates the addresses for the remote blocklists. A minor XSS vulnerability for open wikis, which was discovered today, was fixed. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.50 (2013-04-08)</h2>\n<p>This release only updates the documentation to the latest state on pmwiki.org.\n</p>\n<div class='vspace'></div><h2>Version 2.2.49 (2013-03-09)</h2>\n<p>This version adds an array <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/UploadVariables#UploadBlacklist'><code class='varlink'>&#36;UploadBlacklist</code></a> containing forbidden strings of an uploaded filename (case insensitive). Some Apache installations try to execute a file which has \".php\", \".pl\" or \".cgi\" anywhere in the filename, for example, \"test.php.txt\" may be executed. To disallow such files to be uploaded via the PmWiki interface, add to config.php such a line:\n</p>\n<div class='vspace'></div><pre>  <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/UploadVariables#UploadBlacklist'><code class='varlink'>&#36;UploadBlacklist</code></a> = array('.php', '.pl', '.cgi', '.py', '.shtm', '.phtm', '.pcgi', '.asp', '.jsp', '.sh');\n</pre><p class='vspace'>The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.48 (2013-02-11)</h2>\n<p>This version fixes a bug introduced yesterday with some links. \n</p>\n<div class='vspace'></div><h2>Version 2.2.47 (2013-02-10)</h2>\n<p>This version enables tooltip titles in links to anchors in the same page, and the documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.46 (2013-01-07)</h2>\n<p>This version adds <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/UploadVariables#UploadPermAdd'><code class='varlink'>&#36;UploadPermAdd</code></a> and <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/UploadVariables#UploadPermSet'><code class='varlink'>&#36;UploadPermSet</code></a> variables, and the documentation was updated.\n</p>\n<p class='vspace'>If your wiki has uploads enabled, it is recommended to set the variable <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/UploadVariables#UploadPermAdd'><code class='varlink'>&#36;UploadPermAdd</code></a> to 0. \n</p>\n<p class='vspace'>The <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/UploadVariables#UploadPermAdd'><code class='varlink'>&#36;UploadPermAdd</code></a> variable sets additional unix permissions applied to newly uploaded files, and should be 0 (recommended as of 2013). If uploaded files cannot be downloaded and displayed on the website, for example with the error 403 Forbidden, set this value to 0444 (core setting, default since 2004). \n</p><pre>    <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/UploadVariables#UploadPermAdd'><code class='varlink'>&#36;UploadPermAdd</code></a> = 0; # recommended\n</pre><p class='vspace'>The <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/UploadVariables#UploadPermSet'><code class='varlink'>&#36;UploadPermSet</code></a> variable unconditionally sets the file permissions on newly uploaded files. Only advanced administrators should use it.\n</p>\n<div class='vspace'></div><h2>Version 2.2.45 (2012-12-02)</h2>\n<p>This version fixes some PHP notices appearing on some installations. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.44 (2012-10-21)</h2>\n<p>This version improves the display of consecutive whitespaces in page histories, and fixes the definition of PageTextVariables containing a dash. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.43 (2012-09-20)</h2>\n<p>This version makes it possible to use HTML attribute names that contain dashes, and removes a warning when editing and previewing Site.EditForm. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.42 (2012-08-20)</h2>\n<p>This version provides a workaround for cases when a wiki page contains a character nonexistent in the active encoding. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.41 (2012-08-12)</h2>\n<p>This version changes the internal &#36;KeepToken separator to be compatible with more encodings. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.40 (2012-07-21)</h2>\n<p>This version provides a helper function replacing htmlspecialchars() and compatible with PHP 5.4. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.39 (2012-06-25)</h2>\n<p>This version provides a fix for links to attachments containing international characters. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.38 (2012-05-21)</h2>\n<p>This version fixes a \"parameter count\" warning which appeared on some websites.\n</p>\n<div class='vspace'></div><h2>Version 2.2.37 (2012-05-01)</h2>\n<p>This version provides a workaround for installations with broken iconv() function, while optimizing the recode function. This should fix the \"Unable to retrieve edit form\" problem in some wikis. Dots in <a name='anchor_1.2' id='anchor_1.2'></a> sections are now better supported, PageVariables are expanded in PageList template defaults, and the documentation is updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.36 (2011-12-28)</h2>\n<p>This version fixes the recode function to try to recover Windows-1252 characters in ISO-8859-1 files. A new variable &#36;EnableOldCharset enables the $page[\"=oldcharset\"] entry which will be used in the future. A couple of minor bugs were fixed and the documentation was updated.\n</p>\n<div class='vspace'></div><h2><a name='v2235' id='v2235'></a> Version 2.2.35 (2011-11-11)</h2>\n<p>This release fixes a critical PHP injection vulnerability, reported today by Egidio Romano. PmWiki versions 2.2.X, 2.1.X, 2.0.X and 2.0.beta33 and newer are vulnerable. When you upgrade, please read carefully the Release notes for all PmWiki versions since yours.\n</p>\n<p class='vspace'>If you cannot upgrade, it is recommended to disable Searches at the earliest opportunity (even if your wiki skin doesn't have a search form). Add to config.php such a line:\n</p><pre>  if ($action == 'search') $action = 'browse';\n</pre><p class='vspace'>If your old version wiki allows editing by not entirely trusted visitors, even on limited pages like a WikiSandbox, you should also disable PageLists. Add to config.php this line:\n</p><pre>  &#36;EnablePageList = 0;\n</pre><p class='vspace'>This version has an important change for international wikis: the XLPage() function no longer loads encoding scripts such as xlpage-utf-8.php. When you upgrade, you need to include those scripts from config.php, before calling XLPage():\n</p>\n<div class='vspace'></div><pre>  include_once(\"scripts/xlpage-utf-8.php\"); # if your wiki uses UTF-8\n  XLPage('bg','PmWikiBg.XLPage');\n</pre><p class='vspace'>All links can now have tooltip titles. Previously, only images and external links could have tooltip titles, now this feature is enabled for internal links. To set a tooltip title, add it in quotes after the link address:\n</p><pre class='escaped'>\n  [[Main.HomePage\"This is a tooltip title\"]]\n  [[Main.HomePage\"This is a tooltip title\"|Home]]\n  [[http://www.pmwiki.org\"Home of PmWiki\"]]\n  Attach:image.jpg\"Tooltip title of the image\"\n</pre>\n<p class='vspace'>The following new upload extensions were added: svg, xcf, ogg, flac, ogv, mp4, webm, odg, epub. A couple of minor optimizations were added (MarkupExpressions and rendering of page history) and the documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.34 (2011-10-10)</h2>\n<p>This version resets the timestamps of the default pages Site(Admin).AuthUser which are expected in case of upgrades from the versions 2.1.*. Core MarkupExpressions which manipulate strings should now work better with international characters. The documentation was updated to its latest state from pmwiki.org.\n</p>\n<div class='vspace'></div><h2>Version 2.2.33 (2011-09-23)</h2>\n<p>This version fixes a security bug introduced in 2.2.32 which left the groups Site and SiteAdmin open for reading and editing because the pages Site.GroupAttributes and SiteAdmin.GroupAttributes didn't have all necessary attributes. \n</p>\n<p class='vspace'>All wikis running 2.2.32 should upgrade. If you cannot immediately upgrade, you can set the attributes from your wiki:\n</p><ul><li>open the attributes page [[SiteAdmin.GroupAttributes?action=attr]] and set a \"read\" and an \"edit\" password, <code> @lock </code> is recommended.\n</li><li>open the attributes page [[Site.GroupAttributes?action=attr]] and set an \"edit\" password, <code> @lock </code> is recommended. Do not set a \"read\" password here.\n</li></ul><p class='vspace'>The release also fixes the refcount.php script to produce valid HTML, and updates intermap.txt entries PITS: and Wikipedia: to point to their current locations.\n</p>\n<div class='vspace'></div><h2>Version 2.2.32 (2011-09-18)</h2>\n<p>This is the first version shipping with the core documentation in the UTF-8 encoding. PmWiki will automatically convert it on the fly for wikis using an older encoding.\n</p>\n<p class='vspace'>It is recommended that all <strong>new</strong> PmWiki installations enable UTF-8. Migration of <em>existing</em> wikis from an older encoding to UTF-8 shouldn't be rushed: it is not trivial and will be documented in the future.\n</p>\n<p class='vspace'>A required HTML xmlns attribute was added to the print skin template. The history rendering is now faster when many lines are added or removed.\n</p>\n<p class='vspace'><span  style='font-style: italic; color: green;'> Note: Due to a manipulation error, a version 2.2.31 was created before it was ready for a release.</span>\n</p>\n<div class='vspace'></div><h2>Version 2.2.30 (2011-08-13)</h2>\n<p>This version fixes a $Charset definition in international iso-8859-*.php files. This will help for a future transition to UTF-8. \n</p>\n<p class='vspace'>A variable &#36;EnableRangeMatchUTF8 was added, set it to 1 to enable range matches of pagenames in UTF-8 like [A-D]. Previously the range matches were always enabled in UTF-8, but we found out that on some installations this feature breaks all pagelists, even those without range matches. In case the feature worked for you, you can re-enable it.\n</p>\n<div class='vspace'></div><h2>Version 2.2.29 (2011-07-24)</h2>\n<p>This release fixes Attach links that were broken with the Path fix in 2.2.28 earlier today.\n</p>\n<div class='vspace'></div><h2>Version 2.2.28 (2011-07-24)</h2>\n<p>This release fixes 2 potential XSS vulnerabilities and a bug with Path: links.\n</p>\n<div class='vspace'></div><h2>Version 2.2.27 (2011-06-19)</h2>\n<p>This release fixes a validation bug on pages after a redirection. A new block WikiStyle <code class='escaped'>%justify%</code> was added, allowing left and right aligned text. The page history now accepts a URL parameter <code>?nodiff=1</code> which hides the rendering of edit differences, showing only timestamps, authors, summaries and \"Restore\" links; it allows to restore a vandalized page with a huge contents or history which otherwise would break the memory or time limits of the server.\n</p>\n<div class='vspace'></div><h2>Version 2.2.26 (2011-05-21)</h2>\n<p>This release fixes a redundant removal of link hashes from WikiTrails, and updates the documentation to the most recent version from PmWiki.org.\n</p>\n<div class='vspace'></div><h2>Version 2.2.25 (2011-03-22)</h2>\n<p>This release only updates the documentation to the latest state on pmwiki.org.\n</p>\n<div class='vspace'></div><h2>Version 2.2.24 (2011-02-15)</h2>\n<p>This version reverts the way existing PageVariables are processed, like version 2.2.21 or earlier, but it adds a special variable $authpage which can be used in PageVar definitions. It is the same as the $page array, but exists only if the visitor has read permissions. For example, an administrator can set to config.php:\n</p>\n<div class='vspace'></div><pre>  <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/OtherVariables#FmtPV'><code class='varlink'>&#36;FmtPV</code></a>['&#36;LastModifiedSummary'] = '@$authpage[\"csum\"]'; # instead of '@$page[\"csum\"]'\n</pre><p class='vspace'>Then, the edit summary metadata will only be available if the user has read permissions.\n</p>\n<div class='vspace'></div><h2>Version 2.2.23 (2011-01-25)</h2>\n<p>This version sets the default value of <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/SecurityVariables#EnablePageVarAuth'><code class='varlink'>&#36;EnablePageVarAuth</code></a> to 0 until we investigate a reported problem with authentication.\n</p>\n<div class='vspace'></div><h2>Version 2.2.22 (2011-01-16)</h2>\n<p>This version adds the variable <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/I18nVariables#EnableXLPageScriptLoad'><code class='varlink'>&#36;EnableXLPageScriptLoad</code></a> which, if set to 0, will prevent authors to load scripts from XLPage and to accidentally change the encoding of the wiki. If you use it, make sure you include the required files, eg. xlpage-utf-8.php from local config files.\n</p>\n<p class='vspace'>PageVariables should now respect authentications: without read permissions, the title, description, change summary, author of a protected page are unavailable. PageVariables that are computed without reading the page are still available (eg. $Group, $Namespaced, $Version etc.). Administrators can revert the previous behavior by adding to config.php such a line:\n</p>\n<p class='vspace'><code> <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/SecurityVariables#EnablePageVarAuth'><code class='varlink'>&#36;EnablePageVarAuth</code></a> = 0; </code>\n</p>\n<div class='vspace'></div><h2>Version 2.2.21 (2010-12-14)</h2>\n<p>Due to a mis-configuration of a local svn repository, some of the changes intended for 2.2.20 didn't make it in the correct branch. This release corrects this.\n</p>\n<div class='vspace'></div><h2>Version 2.2.20 (2010-12-14)</h2>\n<p>This version fixes a potential XSS vulnerability, reported today. An AuthUser bug with excluding users from authgroups was fixed. A new InterMap prefix PmL10n: was added, it leads to the Localization section on PmWiki.org and should help the work of translators. A couple of other minor bugs were fixed and the documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.19 (2010-11-10)</h2>\n<p>This is a documentation-update release.\n</p>\n<div class='vspace'></div><h2>Version 2.2.18 (2010-09-04)</h2>\n<p>This version fixes 3 minor bugs, and updates the documentation.\n</p>\n<div class='vspace'></div><h2>Version 2.2.17 (2010-06-20)</h2>\n<p>This version adds a variable &#36;PostConfig containing functions and scripts to be loaded after stdconfig.php. Tabindex was added as a valid form field attribute. Protected downloads now respect existing browser caches. AuthUser now allows more flexible cookbook recipe integration. A couple of bugs were fixed and the documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.16 (2010-05-10)</h2>\n<p>This version fixes a bug with parsing html attributes which could allow XSS injection. Wikis allowing unprotected editing are encouraged to upgrade.\n</p>\n<p class='vspace'>A bug with the \"center\" button of the GUI edit toolbar was corrected.\n</p>\n<p class='vspace'>The \"exists\" conditional now accepts wildcards, for example:\n</p><pre>  <code class='escaped'>(:if exists Main.*:)There are pages in the Main group (:if:)</code>\n</pre><p class='vspace'>The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.15 (2010-03-27)</h2>\n<p>This version adds some minor bugfixes and optimizations notably a bug with <code>(:template none:)</code> introduced in the last version 2.2.14.\n</p>\n<div class='vspace'></div><h2>Version 2.2.14 (2010-02-27)</h2>\n<p>This release corrects inline styles for WikiTrail links. Undefined include/template <code> {$$variables} </code> are now removed from the included section, like Page(Text)Variables, and can be used in conditional expressions. If needed, this change can be reverted by adding to config.php such a line:\n</p>\n<div class='vspace'></div><pre class='escaped'>\n  $EnableUndefinedTemplateVars = 1; # keep and display unset {$$variables}\n</pre>\n<p class='vspace'>PageList templates now accept the sections <code> !first </code> and <code> !last </code> for markup to appear for every page in list <em>except</em> the first or last one.\n</p>\n<p class='vspace'>\"Title\" attributes were added to external links. You can have tooltip titles on external links, including InterMap and attachments, by adding the link title in double quotes after the URL:\n</p><pre>  [[http://www.pmwiki.org\"Home of PmWiki\"| External link]]\n</pre><p class='vspace'>For international wikis, PmWiki now automatically translates the titles of technical pages like GroupAttributes or RecentChanges -- just define these strings as usual in XLPage, for example, in French:\n</p><pre>  'AllRecentChanges' =&gt; 'Tous les changements r\u00e9cents',\n</pre><p class='vspace'>Some minor optimizations were done and the documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.13 (2010-02-21)</h2>\n<p>This release fixes a bug with <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/EditVariables#DiffKeepNum'><code class='varlink'>&#36;DiffKeepNum</code></a> introduced in 2.2.10 -- the count of revisions was incorrect and a page could drop more revisions than it should.\n</p>\n<p class='vspace'>The <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/PageHistory'>page history</a> layout was modified with a rough consensus in the community. The history now defaults to \"source\" view with word-level highlighting of the differences. Authors can see the changes in rendered output by clicking on the link \"Show changes to output\". Admins can switch back the default by adding such a line to config.php:\n</p>\n<div class='vspace'></div><pre>  &#36;DiffShow['source'] = (@$_REQUEST['source']=='y')?'y':'n';\n</pre><p class='vspace'>To disable word-level highlighting and show plain text changes:\n</p>\n<div class='vspace'></div><pre>  <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#EnableDiffInline'><code class='varlink'>&#36;EnableDiffInline</code></a> = 0;\n</pre><p class='vspace'>In the page history rendering, a few minor bugs were fixed and the code was slightly optimized.\n</p>\n<p class='vspace'>The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.12 (2010-02-17)</h2>\n<p>This release adds simple word-level highlighting of differences in the page history, when \"Show changes to markup\" is selected. To enable the feature, add to config.php such a line:\n</p><pre>  <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#EnableDiffInline'><code class='varlink'>&#36;EnableDiffInline</code></a> = 1;\n</pre><p class='vspace'>This feature is like what the InlineDiff recipe provides, but not exactly the same, and the implementation is simpler. It is enabled on PmWiki.org and can be improved -- your comments are welcome.\n</p>\n<div class='vspace'></div><h2>Version 2.2.11 (2010-02-14)</h2>\n<p>This release adds two new table directives for header cells, (:head:) and (:headnr:). They work the same way as (:cell:) and (:cellnr:) except that create &lt;th&gt; instead of &lt;td&gt; html tags.\n</p>\n<p class='vspace'>The pagerev.php script was refactored into separate functions to allow easier integration of recipes displaying the page history.\n</p>\n<p class='vspace'>A couple of minor bugs were fixed and the documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.9, 2.2.10 (2010-01-17)</h2>\n<p>Most important in this release is the official change of <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#EnableRelativePageVars'><code class='varlink'>&#36;EnableRelativePageVars</code></a> to 1. The change is about how {$Variable} in included pages is understood by PmWiki.\n</p><ul><li>When <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#EnableRelativePageVars'><code class='varlink'>&#36;EnableRelativePageVars</code></a> is set to 0, {$Name} displays the name of the currently browsed page. Even if {$Name} is in an included page, it will display the name of the browsed page.\n</li><li>When <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#EnableRelativePageVars'><code class='varlink'>&#36;EnableRelativePageVars</code></a> is set to 1, {$Name} displays the name of the physical page where it written. If {$Name} is in an included page, it will display the name of the included page.\n</li><li>{*$Name} always displays the name of the currently browsed page, regardless of <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#EnableRelativePageVars'><code class='varlink'>&#36;EnableRelativePageVars</code></a>.\n</li></ul><p class='vspace'>So, if your wiki relies on page variables from included pages, and doesn't have <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#EnableRelativePageVars'><code class='varlink'>&#36;EnableRelativePageVars</code></a> set to 1, after upgrading to 2.2.9, you can revert to the previous behavior by adding to config.php such a line:\n</p><pre>  <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#EnableRelativePageVars'><code class='varlink'>&#36;EnableRelativePageVars</code></a> = 0;\n</pre><p class='vspace'>More information about page variables can be found at:\n</p><pre>  <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/PageVariables' rel='nofollow'>http://www.pmwiki.org/wiki/PmWiki/PageVariables</a>\n</pre><p class='vspace'>This release adds a new variable <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#EnablePageTitlePriority'><code class='varlink'>&#36;EnablePageTitlePriority</code></a> which defines how to treat multiple (:title..:) directives. If set to 1, the first title directive will be used, and if a page defines a title, directives from included pages cannot override it. PmWiki default is 0, for years, the last title directive was used (it could come from an included page or GroupFooter).\n</p>\n<p class='vspace'>This release also adds a new variable <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/EditVariables#DiffKeepNum'><code class='varlink'>&#36;DiffKeepNum</code></a>, specifying the minimum number (default 20) of edits that will be kept even if some of them are older than the limit of <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/EditVariables#DiffKeepDays'><code class='varlink'>&#36;DiffKeepDays</code></a>.\n</p>\n<p class='vspace'>A number of bugs were fixed and the documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.8 (2009-12-07)</h2>\n<p>This release fixes another PHP 5.3 compatibility issue with conditional markup. The Author field now handles apostrophes correctly. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.7 (2009-11-08)</h2>\n<p>This release fixes most PHP 5.3 compatibility issues. Unfortunately some specific builds for Windows may still have problems, which are unrelated to PmWiki. Notably, on Windows, all passwords need to be 4 characters or longer.\n</p>\n<p class='vspace'>Upload names with spaces are now correctly quoted. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.6 (2009-10-04)</h2>\n<p>With this release it is now possible to display recently uploaded files to the RecentChanges pages -- if you have been using the RecentUploadsLog recipe, please uninstall it and follow the instructions at <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/RecentUploadsLog' rel='nofollow'>http://www.pmwiki.org/wiki/Cookbook/RecentUploadsLog</a>.\n</p>\n<p class='vspace'>The release also introduces <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/UploadVariables#MakeUploadNamePatterns'><code class='varlink'>&#36;MakeUploadNamePatterns</code></a> to allow custom filename normalization for attachements. It is now possible to replace &#36;PageListFilters and &#36;FPLTemplateFunctions with custom functions. Notify should now work in safe_mode. Some bugs were fixed, among which one with conditional markup with dates. The documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.5 (2009-08-25)</h2>\n<p>This release adds a new markup for Pagelist templates, <code class='escaped'>(:template none:)</code> which allows a message to be set when the search found no pages. The FPLTemplate() function was broken into configurable sub-parts to allow development hooks. A number of bugs were fixed, and the documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.4 (2009-07-16)</h2>\n<p>This release fixes a bug introduced earlier today with HTML entities in XLPages.\n</p>\n<div class='vspace'></div><h2>Version 2.2.3 (2009-07-16)</h2>\n<p>This release fixes six potential XSS vulnerabilities, reported by Michael Engelke. The vulnerabilities may affect wikis open for editing and may allow the injection of external JavaScripts in their pages. Public open wikis should upgrade.\n</p>\n<p class='vspace'>A new variable <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/UploadVariables#EnableUploadGroupAuth'><code class='varlink'>&#36;EnableUploadGroupAuth</code></a> was added; if set to 1, it allows password-protected <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/Uploads'>uploads</a> to be checked against the Group password. \n</p>\n<p class='vspace'>It is now possible to use <code> @_site_edit, @_site_read, @_site_admin</code> or <code> @_site_upload </code> global <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/Passwords'>passwords</a> in GroupAttributes pages.\n</p>\n<p class='vspace'>A number of other small bugs were fixed, and the documentation was updated.\n</p>\n<div class='vspace'></div><h2>Version 2.2.2 (2009-06-21)</h2>\n<p>The major news in this release is a fix of an AuthUser vulnerability.\n</p>\n<p class='vspace'>The vulnerability affects only wikis that (1) rely on the AuthUser core module \nfor User:Password authentication, -AND- (2) where the PHP installation runs \nwith the variable \"magic_quotes_gpc\" disabled.\n</p>\n<p class='vspace'>All PmWiki 2.1.x versions from pmwiki-2.1.beta6 on, all 2.2.betaX, 2.2.0, and \n2.2.1 are affected.\n</p>\n<p class='vspace'>The PmWiki <a class='createlinktext' rel='nofollow'\n    href='http://sli.ics.uci.edu/PmWiki/SiteAnalyzer?action=edit'>SiteAnalyzer</a><a rel='nofollow' \n    class='createlink' href='http://sli.ics.uci.edu/PmWiki/SiteAnalyzer?action=edit'>?</a> can detect if your wiki needs to upgrade:\n</p><pre>  <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/SiteAnalyzer' rel='nofollow'>http://www.pmwiki.org/wiki/PmWiki/SiteAnalyzer</a>\n</pre><p class='vspace'>If your wiki is vulnerable, you should do one of the following at the earliest \nopportunity:\n</p>\n<div class='vspace'></div><ul><li>Upgrade to a version of PmWiki at least 2.2.2 or greater.\n</li><li>Turn on magic_quotes_gpc in the php.ini file or in a .htaccess file.\n</li></ul><p class='vspace'>Alternatively, you can temporarily disable AuthUser until you upgrade.\n</p>\n<p class='vspace'>Note that even if your wiki does not have the AuthUser vulnerability at the \nmoment, you are strongly encouraged to upgrade to PmWiki version 2.2.2 or \nlater, as some future configuration of your hosting server might put you at \nrisk.\n</p>\n<p class='vspace'>This release also comes with minor updates in the local documentation; fixes \nwere applied for international wikis - notably global variables in \nxlpage-utf-8.php and a new variable <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/Notify#EnableNotifySubjectEncode'><code class='varlink'>&#36;EnableNotifySubjectEncode</code></a>, which allows \ne-mail clients to correctly display the Subject header; and a number of other \nsmall bugs were fixed.\n</p>\n<div class='vspace'></div><h2>Version 2.2.1 (2009-03-28)</h2>\n<p>This release comes with an updated local documentation; <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/WikiTrails'>wiki trails</a> now work cross-group; guiedit.php now produces valid HTML, and other small bugs were fixed.  We also added <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LinkVariables#EnableRedirectQuiet'><code class='varlink'>&#36;EnableRedirectQuiet</code></a>, which allows redirects to take place without any mention of \"redirected from page ....\".\n</p>\n<p class='vspace'><a name='v220' id='v220'></a>\n</p><h2>Version 2.2.0 (2009-01-18)</h2>\n<p>This is a summary of changes from 2.1.x to 2.2.0.\n</p>\n<div class='vspace'></div><ul><li>Several pages that were formerly in the <a class='wikilink' href='http://sli.ics.uci.edu/Site/Site'>Site</a>.* group are now in a separate <a class='wikilink' href='http://sli.ics.uci.edu/SiteAdmin/SiteAdmin'>SiteAdmin</a>.* group, which is read-restricted by default.  The affected pages include Site.AuthUser, Site.AuthList, Site.NotifyList, Site.Blocklist, and Site.ApprovedUrls .  If upgrading from an earlier version of PmWiki, PmWiki will prompt to automatically copy these pages to their new location if needed.  If a site wishes to continue using the old Site.* group for these pages, simply set\n</li></ul><div class='vspace'></div><div class='indent'><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#SiteAdminGroup'><code class='varlink'>&#36;SiteAdminGroup</code></a> = <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#SiteGroup'><code class='varlink'>&#36;SiteGroup</code></a>;\n<div class='vspace'></div></div><div class='indent'>when carrying out this upgrade inspect your config files for lines such as\n<div class='indent'><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/Blocklist#BlocklistDownload'><code class='varlink'>&#36;BlocklistDownload</code></a>['Site.Blocklist-PmWiki'] = array('format' =&gt; 'pmwiki');\n</div></div><div class='indent'>as you may wish to fix then, eg\n<div class='indent'><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/Blocklist#BlocklistDownload'><code class='varlink'>&#36;BlocklistDownload</code></a>[<a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#SiteAdminGroup'><code class='varlink'>&#36;SiteAdminGroup</code></a> . '.Blocklist-PmWiki'] = array('format' =&gt; 'pmwiki');\n</div></div><div class='vspace'></div><ul><li>Important Change in Passwords in PmWiki 2.2 indicating that the group can be edited even if a site password is set will be done by <code>\"@nopass\"</code> prior it was done by <code>\"nopass\"</code>\n</li></ul><div class='indent'>When migrating a wiki you will have to manually modify the permission or by a script replace in all the page concerned <code>passwdread=nopass:</code> by <code>passwdread=@nopass</code> (see <a class='urllink' href='http://www.pmwiki.org/wiki/PITS/00961' rel='nofollow'>PITS:00961</a>) --isidor\n</div><div class='vspace'></div><ul><li>PmWiki now ships with WikiWords entirely disabled by default.  To re-enable them, set either <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#LinkWikiWords'><code class='varlink'>&#36;LinkWikiWords</code></a> or <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#EnableWikiWords'><code class='varlink'>&#36;EnableWikiWords</code></a> to 1.  To get the 2.1 behavior where WikiWords are spaced and parsed but don't form links, use the following:\n</li></ul><div class='indent'><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#EnableWikiWords'><code class='varlink'>&#36;EnableWikiWords</code></a> = 1;\n</div><div class='indent'><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#LinkWikiWords'><code class='varlink'>&#36;LinkWikiWords</code></a> = 0;\n</div><div class='vspace'></div><ul><li>It's now easy to disable the rule that causes lines with leading spaces to be treated as preformatted text -- simply set <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#EnableWSPre'><code class='varlink'>&#36;EnableWSPre</code></a>=0; to disable this rule.\n<div class='vspace'></div><div class='indent'><strong>Important:</strong> There is ongoing discussion that the leading whitespace rule may be disabled <em>by default</em> in a future versions of PmWiki.  If you want to make sure that the rule will continue to work in future upgrades, set <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#EnableWSPre'><code class='varlink'>&#36;EnableWSPre</code></a>=1; in <em>local/config.php</em>.\n</div><div class='vspace'></div></li><li>The <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/EditVariables#ROSPatterns'><code class='varlink'>&#36;ROSPatterns</code></a> variable has changed somewhat -- replacement strings are no longer automatically passed through FmtPageName() prior to substitution (i.e., it must now be done explicitly).\n<div class='vspace'></div></li><li>Page variables and page links inside of <code class='escaped'>(:include:)</code> pages are now treated as relative to the included page, instead of the currently browsed page.  In short, the idea is that links and page variables should be evaluated with respect to the page in which they are written, as opposed to the page in which they appear.  This seems to be more in line with what authors expect.  There are a number of important ramifications of this change:\n</li></ul><p class='vspace'><a name='relativeurls' id='relativeurls'></a>\n</p><dl><dd><ul><li>We now have a new <code class='escaped'>{*$var}</code> form of page variable, which always refers to \"the currently displayed page\".  Pages such as Site.PageActions and Site.EditForm that are designed to work on \"the currently browsed page\" should generally switch to using <code class='escaped'>{*$FullName}</code> instead of <code class='escaped'>{$FullName}</code>.\n<div class='vspace'></div></li><li>The &#36;EnableRelativePageLinks and <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#EnableRelativePageVars'><code class='varlink'>&#36;EnableRelativePageVars</code></a> settings control the treatment of links and page variables in included pages.  However, to minimize disruption to existing sites, <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#EnableRelativePageVars'><code class='varlink'>&#36;EnableRelativePageVars</code></a> defaults to <strong>disabled</strong>.  This will give existing sites an opportunity to convert any absolute <code class='escaped'>{$var}</code> references to be <code class='escaped'>{*$var}</code> instead.\n<div class='vspace'></div></li><li>Eventually <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#EnableRelativePageVars'><code class='varlink'>&#36;EnableRelativePageVars</code></a> will be enabled by default, so we highly recommend setting <code class='escaped'>$EnableRelativePageVars = 1;</code> in <em>local/config.php</em> to see how a site will react to the new interpretation.  Administrators should especially check any customized versions of the following:\n<div class='indent'><a class='wikilink' href='http://sli.ics.uci.edu/Site/PageActions'>Site.PageActions</a>\n</div><div class='indent'><a class='wikilink' href='http://sli.ics.uci.edu/Site/EditForm'>Site.EditForm</a>\n</div><div class='indent'><a class='wikilink' href='http://sli.ics.uci.edu/Site/PageNotFound'>Site.PageNotFound</a>\n</div><div class='indent'>SideBar pages with ?action= links for the current page\n</div><div class='indent'><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#GroupHeaderFmt'><code class='varlink'>&#36;GroupHeaderFmt</code></a>, <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#GroupFooterFmt'><code class='varlink'>&#36;GroupFooterFmt</code></a>\n</div><div class='indent'><a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/PageLists'>Page lists</a> that refer to the current group or page, etc in sidebars, headers, and footers\n</div><div class='vspace'></div></li><li>The <code class='escaped'>(:include:)</code> directive now has a <code class='escaped'>basepage=</code> option whereby an author can explicitly specify the page upon which relative links and page variables should be based.  If no basepage= option is specified, the included page is assumed to be the base.\n</li></ul></dd></dl><div class='vspace'></div><ul><li>Sites that want to retain the pre-2.2 behavior of <code class='escaped'>(:include:)</code> and other items can set <code class='escaped'>$Transition['version'] = 2001900;</code> to automatically retain the 2.1.x defaults.\n<div class='vspace'></div></li><li>Text inserted via <code class='escaped'>(:include:)</code> can contain \"immediate substitutions\" of the form <code class='escaped'>{$$option}</code> -- these are substituted with the value of any options provided to the include directive.\n<div class='vspace'></div></li><li>PmWiki now recognizes when it is being accessed via \"https:\" and switches its internal links appropriately.  This can be overridden by explicitly setting <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#ScriptUrl'><code class='varlink'>&#36;ScriptUrl</code></a> and <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#PubDirUrl'><code class='varlink'>&#36;PubDirUrl</code></a>.\n<div class='vspace'></div></li><li>A new <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LinkVariables#EnableLinkPageRelative'><code class='varlink'>&#36;EnableLinkPageRelative</code></a> option allows PmWiki to generate relative urls for page links instead of absolute urls.\n<div class='vspace'></div></li><li>Draft handling capabilities have been greatly improved.  When <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/EditVariables#EnableDrafts'><code class='varlink'>&#36;EnableDrafts</code></a> is set, then the \"Save\" button is relabeled to \"Publish\" and a \"Save draft\" button appears.  In addition, an <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/SecurityVariables#EnablePublishAttr'><code class='varlink'>&#36;EnablePublishAttr</code></a> configuration variable adds a new \"publish\" authorization level to distinguish editing from publishing.  See <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/Drafts' rel='nofollow'>PmWiki:Drafts</a> for more details.\n</li></ul><p class='vspace'><a name='ptvstart' id='ptvstart'></a>\n</p><ul><li>There is a new <code class='escaped'>{$:var}</code> \"page text variable\" available that is able to grab text excerpts out of markup content.  For example, <code class='escaped'>{SomePage$:Xyz}</code> will be replaced by a definition of \"Xyz\" in SomePage.  Page text variables can be defined using definition markup, a line beginning with the variable name and a colon, or a special directive form (that doesn't display anything on output):\n<div class='vspace'></div><div class='indent'><pre class='escaped'>\n:Xyz: some value            # definition list form\nXyz: some value             # colon form\n(:Xyz: some value:)         # directive form\n</pre>\n</div></li></ul><p><a name='ptvend' id='ptvend'></a>\n</p>\n<div class='vspace'></div><ul><li>The <code class='escaped'>(:pagelist:)</code> command can now filter pages based on the contents of page variables and/or page text variables.  For example, the following directive displays only those pages that have an \"Xyz\" page text variable with \"some value\":\n<div class='vspace'></div><div class='indent'><code class='escaped'>(:pagelist $:Xyz=\"some value\":)</code>\n</div><div class='vspace'></div>Wildcards also work here, thus the following pagelist command lists pages where the page's title starts with the letter \"a\":\n<div class='vspace'></div><div class='indent'><code class='escaped'>(:pagelist $Title=A* :)</code>\n</div><div class='vspace'></div></li><li>The if= option to <code class='escaped'>(:pagelist)</code> can be used to filter pages based on conditional markup:\n<div class='vspace'></div><div class='indent'><code class='escaped'>(:pagelist if=\"auth upload {=$FullName}\":)</code>  pages with upload permission\n</div><div class='indent'><code class='escaped'>(:pagelist if=\"date today.. {=$Name}\":)</code> pages with names that are dates later than today\n</div><div class='vspace'></div></li><li>Spaces no longer separate wildcard patterns -- use commas.  (Most people have been doing this already.)\n<div class='vspace'></div></li><li>Because page variables are now \"relative\", the <code class='escaped'>{$PageCount}, {$GroupCount}, {$GroupPageCount}</code> variables used in pagelist templates are now <code class='escaped'>{$$PageCount}, {$$GroupCount}, {$$GroupPageCount}</code>.\n<div class='vspace'></div></li><li>One can now use <code class='escaped'>{$$option}</code> in a pagelist template to obtain the value of any 'option=' provided to the <code class='escaped'>(:pagelist:)</code> command.\n<div class='vspace'></div></li><li>The <code class='escaped'>(:pagelist:)</code> directive no longer accepts parameters from urls or forms by default.  In order to have it accept such parameters (which was the default in 2.1 and earlier), add a <code class='escaped'>request=1</code> option to the <code class='escaped'>(:pagelist:)</code> directive.\n<div class='vspace'></div></li><li>The <code class='escaped'>count=</code> option to pagelists now accepts negative values to count from the end of the list.  Thus <code class='escaped'>count=5</code> returns the the first five pages in the list, and <code class='escaped'>count=-5</code> returns the last five pages in the list.  In addition, ranges of pages may be specified, as in <code class='escaped'>count=10..19</code> or <code class='escaped'>count=-10..-5</code>.\n<div class='vspace'></div></li><li>Pagelist templates may have special <code class='escaped'>(:template first ...:)</code> and <code class='escaped'>(:template last ...:)</code> sections to specify output for the first or last page in the list or a group.  There's also a <code class='escaped'>(:template defaults ...:)</code> to allow a template to specify default options.\n<div class='vspace'></div></li><li>PmWiki comes with an ability to cache the results of certain <code class='escaped'>(:pagelist:)</code> directives, to speed up processing on subsequent visits to the page.  To enable this feature, set <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PagelistVariables#PageListCacheDir'><code class='varlink'>&#36;PageListCacheDir</code></a> to the name of a writable directory (e.g., <em>work.d/</em>).\n<div class='vspace'></div></li><li><a name='elseifelse' id='elseifelse'></a>The <code class='escaped'>(:if ...:)</code> conditional markup now also understands <code class='escaped'>(:elseif ...:)</code> and <code class='escaped'>(:else:)</code>.  In addition, markup can nest conditionals by placing digits after if/elseif/else, as in <code class='escaped'>(:if1 ...)</code>, <code class='escaped'>(:elseif1 ...:)</code>, <code class='escaped'>(:else1:)</code>, etc.\n<div class='vspace'></div></li><li>The <code class='escaped'>(:if date ...:)</code> conditional markup can now perform date comparisons for dates other than the current date and time.\n<div class='vspace'></div></li><li><a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/WikiTrails'>WikiTrails</a> can now specify #anchor identifiers to use only sections of pages as a trail.\n<div class='vspace'></div></li><li>A new <code class='escaped'>(:if ontrail ...:)</code> condition allows testing if a page is listed on a trail.\n<div class='vspace'></div></li><li>The extensions .odt, .ods, and .odp (from OpenOffice.org) are now recognized as valid attachment types by default.\n<div class='vspace'></div></li><li>A new <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/Blocklist'>blocklist</a> capability has been added to the core distribution.  It allows blocking of posts based on IP address, phrase, or regular expression, and can also make use of publicly available standard blocklists.  See <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/Blocklist'>PmWiki.Blocklist</a> for details.\n<div class='vspace'></div></li><li>There is a new <a class='wikilink' href='http://sli.ics.uci.edu/SiteAdmin/AuthList'>SiteAdmin.AuthList</a> page that can display a summary of all password and permissions settings for pages on a site.  This page is restricted to administrators by default.\n<div class='vspace'></div></li><li>There are new <code class='escaped'>{$PasswdRead}</code>, <code class='escaped'>{$PasswdEdit}</code>, etc. variables that display the current password settings for a page (assuming the browser has attr permissions or whatever permissions are set in &#36;PasswdVarAuth).\n<div class='vspace'></div></li><li>Forms creation via the <code class='escaped'>(:input:)</code> markup has been internally refactored somewhat (and may still undergo some changes prior to 2.2.0 release).  The new <code class='escaped'>(:input select ...:)</code> markup can be used to create select boxes, and <code class='escaped'>(:input default ...:)</code> can be used to set default control values, including for radio buttons and checkboxes.\n<div class='vspace'></div></li><li>The <code class='escaped'>(:input textarea:)</code> markup now can take values from other sources, including page text variables from other pages.\n<div class='vspace'></div></li><li>Specifying <code class='escaped'>focus=1</code> on an <code class='escaped'>(:input:)</code> control causes that control to receive the input focus when a page is loaded.  If a page has multiple controls requesting the focus, then the first control with the lowest value of <code class='escaped'>focus=</code> \"wins\".\n<div class='vspace'></div></li><li>PmWiki now provides a <em>scripts/creole.php</em> module to enable Creole standard markup.  To enable this, add <code class='escaped'>include_once('scripts/creole.php')</code> to a local customization file.\n<div class='vspace'></div></li><li>PmWiki adds a new <code class='escaped'>{(...)}</code> <em>markup expression</em> capability, which allows various simple string and data processing (e.g., formatting of dates and times).  This is extensible so that recipe authors and system administrators can easily add custom expression operators.\n<div class='vspace'></div></li><li>It's now possible to configure PmWiki to automatically create Category pages whenever a page is saved with category links and the corresponding category doesn't already exist.  Pages are created only if the author has appropriate write permissions into the group.  To enable this behavior, add the following to <em>local/config.php</em>:\n<div class='vspace'></div><div class='indent'><code class='escaped'>$AutoCreate['/^Category\\\\./'] = array('ctime' =&gt; $Now);</code>\n</div><div class='vspace'></div></li><li>Sites with wikiwords enabled can now set <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LinkVariables#WikiWordCount'><code class='varlink'>&#36;WikiWordCount</code></a>['WikiWord'] to -1 to indicate that 'WikiWord' should not be spaced according to <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#SpaceWikiWords'><code class='varlink'>&#36;SpaceWikiWords</code></a>.\n<div class='vspace'></div></li><li>WikiWords that follow # or &amp; are no longer treated as WikiWords.\n<div class='vspace'></div></li><li>Links to non-existent group home pages (e.g., <code class='escaped'>[[Group.]]</code> and <code class='escaped'>[[Group/]]</code>) will now go to the first valid entry of <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#PagePathFmt'><code class='varlink'>&#36;PagePathFmt</code></a>, instead of being hardcoded to \"Group.Group\".  For example, to set PmWiki to default group home pages to <code class='escaped'>$DefaultName</code>, use\n<div class='vspace'></div><div class='indent'><code class='escaped'>$PagePathFmt = array('{$Group}.$1', '$1.{$DefaultName}', '$1.$1');</code>\n</div><div class='vspace'></div></li><li>PmWiki now provides a &#36;CurrentTimeISO and &#36;TimeISOFmt variables, for specifying dates in ISO format.\n<div class='vspace'></div></li><li><a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/Cookbook' rel='nofollow'>Cookbook</a> authors can use the internal PmWiki function UpdatePage (temporarily documented at <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/DebuggingForCookbookAuthors' rel='nofollow'>DebuggingForCookbookAuthors</a>) to change page text while preserving history/diff information, updating page revision numbers, updating RecentChanges pages, sending email notifications, etc.\n<div class='vspace'></div></li><li><a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/SkinTemplates'>Skin templates</a> are now required to have &lt;!--HTMLHeader--&gt; and &lt;!--HTMLFooter--&gt; directives.  Setting &#36;EnableSkinDiag causes PmWiki to return an error if this isn't the case for a loaded skin.  Skins that explicitly do not want HTMLHeader or HTMLFooter sections can use &lt;!--NoHTMLHeader--&gt; and &lt;!--NoHTMLFooter--&gt; to suppress the warning.\n<div class='vspace'></div></li><li>Added a new \"pre\" wikistyle for preformatted text blocks.\n<div class='vspace'></div></li><li>The xlpage-utf-8.php script now understands how to space UTF-8 wikiwords.  \n<div class='vspace'></div></li><li>Searches on utf-8 site are now case-insensitive for utf-8 characters.\n<div class='vspace'></div></li><li>Many Abort() calls now provide a link to pages on pmwiki.org that can explain the problem in more detail and provide troubleshooting assistance.\n<div class='vspace'></div></li><li>PmWiki no longer reports \"?cannot acquire lockfile\" if the visitor is simply browsing pages or performing other read-only actions.\n<div class='vspace'></div></li><li>The &#36;EnableReadOnly configuration variable can be set to signal PmWiki that it is to run in \"read-only\" mode (e.g., for distribution on read-only media).  Attempts to perform actions that write to the disk are either ignored or raise an error via Abort().\n<div class='vspace'></div></li><li>Including authuser.php no longer automatically calls ResolvePageName().\n<div class='vspace'></div></li><li>Authentication using Active Directory is now simplified.  In Site.AuthUser or the &#36;AuthUser variable, set \"ldap://name.of.ad.server/\" with no additional path information (see PmWiki.AuthUser for more details).\n<div class='vspace'></div></li><li>Pages are now saved with a \"charset=\" attribute to identify the character set in effect when the page was saved.\n<div class='vspace'></div></li><li>The phpdiff.php algorithm has been optimized to be smarter about finding smaller diffs.\n<div class='vspace'></div></li><li>Removed the (deprecated) \"#wikileft h1\" and \"#wikileft h5\" styles from the pmwiki default skin.\n<div class='vspace'></div></li><li>The mailposts.php and compat1x.php scripts have been removed from the distribution.\n</li></ul><div class='vspace'></div><h2>Version 2.1.27 (2006-12-11)</h2>\n<p>This version backports from 2.2.0-beta a bugfix for <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#TableRowIndexMax'><code class='varlink'>&#36;TableRowIndexMax</code></a> and also support for the <code class='escaped'>{*$Variable}</code> markup.\n</p>\n<div class='vspace'></div><h2>Version 2.1.26 (2006-09-11)</h2>\n<p>This version fixes a bug in feeds.php that would cause feed entries to be mixed up.\n</p>\n<div class='vspace'></div><h2>Version 2.1.25 (2006-09-08)</h2>\n<p>This release fixes a bug in authuser.php introduced by the 2.1.24 release.\n</p>\n<p class='vspace'>The skin template code has also been extended to allow <code class='escaped'>&lt;!--XMLHeader--&gt;</code> and <code class='escaped'>&lt;!--XMLFooter--&gt;</code> as aliases for <code class='escaped'>&lt;!--HTMLHeader--&gt;</code> and <code class='escaped'>&lt;!--HTMLFooter--&gt;</code>.\n</p>\n<div class='vspace'></div><h2>Version 2.1.24 (2006-09-06)</h2>\n<p>This release makes some improvements and fixes to the <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/AuthUser'>AuthUser</a>\ncapability.\n</p>\n<p class='vspace'>A bug in authuser.php that had trouble dealing with non-array values in &#36;AuthUser has been fixed.\n</p>\n<p class='vspace'>It is now possible to specify group memberships from <em>local/config.php</em> (remember that such entries must come <em>before</em> including the <em>authuser.php</em> script):\n</p>\n<div class='vspace'></div><pre>    # alice and bob's passwords\n    &#36;AuthUser['alice'] = crypt('alicepassword');\n    &#36;AuthUser['bob'] = crypt('bobpassword');\n\n    # members of the @writers and @admins groups\n    &#36;AuthUser['@writers'] = array('alice',  'bob');\n    &#36;AuthUser['@admins'] = array('alice', 'dave');\n\n    # carol is a member of @editors and @writers\n    &#36;AuthUser['carol'] = array('@editors', '@writers');\n</pre><p class='vspace'>AuthUser can now read from Apache-formatted .htgroup files.  The location of the .htgroup file can be done either in <em>local/config.php</em> or <a class='wikilink' href='http://sli.ics.uci.edu/Site/AuthUser'>Site.AuthUser</a>\n</p>\n<div class='vspace'></div><pre>    # local/config.php:\n    &#36;AuthUser['htgroup'] = '/path/to/.htgroup';\n\n    # Site.AuthUser\n    htgroup: /path/to/.htgroup\n</pre><div class='vspace'></div><h2>Versions 2.1.21, 2.1.22, 2.1.23 (2006-09-05, 2006-09-06)</h2>\n<p>This release closes a potential security vulnerability for sites \nthat are running with 'register_globals' set to on.  Details of\nthe vulnerability will be forthcoming on the mailing list\nand site.\n</p>\n<p class='vspace'>Sites that are running with PHP 'register_globals' and 'allow_url_fopen'\nset to 'On' should upgrade to this release at the earliest\nopportunity.  If upgrading isn't an option, contact Pm for\na patch to older versions.\n</p>\n<p class='vspace'>There is now a tool available to analyze PmWiki sites for security\nand other configuration settings, see <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/SiteAnalyzer' rel='nofollow'>PmWiki:SiteAnalyzer</a>.\n</p>\n<p class='vspace'>Version 2.1.23 also corrects a bug that prevented PmWiki from being\nable to read pagefiles created by versions of PmWiki before 0.5.6.\n</p>\n<div class='vspace'></div><h2>Version 2.1.20 (2006-09-04)</h2>\n<p>More minor bugfixes:\n</p><ul><li>Corrected a bug with WikiWord references appearing in the <code class='escaped'>(:attachlist:)</code> markup.\n</li><li>Restore ability to remove/override PmWiki's default CSS settings.\n</li></ul><div class='vspace'></div><h2>Version 2.1.19 (2006-08-30)</h2>\n<p>This release provides a number of very minor bugfixes and\nenhancements:\n</p>\n<div class='vspace'></div><ul><li>Fixed a bug in the pageindex code that was causing it to not regenerate as quickly as it should.\n</li><li>Fixed image/object/embed handling in wikistyles to better support the <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/Flash' rel='nofollow'>Cookbook:Flash</a> recipe.\n</li><li>Fixed a bug with wikistyles and input form tags.\n</li></ul><p class='vspace'>The next release(s) may have a number of substantial code\nenhancements and changes, so this release simply closes out\na few items before introducing those changes.\n</p>\n<div class='vspace'></div><h2>Version 2.1.18 (2006-08-28)</h2>\n<p>This release closes a potential cross-site scripting vulnerability\nthat could allow authors to inject Javascript code through the\nvarious table markups.\n</p>\n<p class='vspace'>The release also adds a new <code class='escaped'>(:input image:)</code> markup to generate\nimage input tags in forms.\n</p>\n<p class='vspace'>Finally, this release corrects a problem with <code class='escaped'>?action=print</code>\nfailing to properly set the <code class='escaped'>{$Action}</code> page variable.\n</p>\n<div class='vspace'></div><h2>Version 2.1.17 (2006-08-26)</h2>\n<p>This release fixes a long-standing bug with <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/DebugVariables#EnableIMSCaching'><code class='varlink'>&#36;EnableIMSCaching</code></a>\n(<a class='urllink' href='http://www.pmwiki.org/wiki/PITS/00573' rel='nofollow'>PITS:00573</a>), whereby login/logout operations wouldn't invalidate \nbrowser caches, causing some people to see versions of a page prior\nto the login/logout taking place.  \n</p>\n<p class='vspace'>The new IMS caching code maintains a \"imstime\" cookie in the \nvisitor's browser that keeps track of the time of last login, \nlogout, author name change, or site modification.  This cookie\nis then used to determine the proper response to browser requests\ncontaining If-Modified-Since headers.  (Previously only the\ntime of the last site modification was available.)  \n</p>\n<p class='vspace'>Browsers which do not accept cookies will effectively act as\nthough IMS caching is disabled.\n</p>\n<div class='vspace'></div><h2>Version 2.1.16 (2006-08-26) <a name='v2116' id='v2116'></a></h2>\n<p>This release makes some improvements to skin handling -- primarily\nthis improves the capability of relocating skin files to other\nlocations, and to provide the ability for recipes to insert items\nat the <em>end</em> of HTML output.\n</p>\n<p class='vspace'>This release introduces a <code class='escaped'>&lt;!--HTMLFooter--&gt;</code> directive into\n<a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/SkinTemplates'>skin templates</a>, which allows recipes and local\ncustomizations to insert output near the end of a document \nusing a <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#HTMLFooterFmt'><code class='varlink'>&#36;HTMLFooterFmt</code></a> array from PHP.\n</p>\n<p class='vspace'>Also, the <code class='escaped'>&lt;!--HeaderText--&gt;</code> directive, which inserts the\ncontents of <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#HTMLHeaderFmt'><code class='varlink'>&#36;HTMLHeaderFmt</code></a> into the output, has now been\nrenamed to <code class='escaped'>&lt;!--HTMLHeader--&gt;</code>.  PmWiki will continue to\nrecognize <code class='escaped'>&lt;!--HeaderText--&gt;</code> to preserve compatibility with\nexisting skins, but <code class='escaped'>&lt;!--HTMLHeader--&gt;</code> is preferred.\n</p>\n<p class='vspace'>A new <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#SkinLibDirs'><code class='varlink'>&#36;SkinLibDirs</code></a> array has been introduced which allows\nthe source locations and urls for skins to be specified from\na customization file.  By default <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#SkinLibDirs'><code class='varlink'>&#36;SkinLibDirs</code></a> is set as\n</p>\n<div class='vspace'></div><pre>  <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#SkinLibDirs'><code class='varlink'>&#36;SkinLibDirs</code></a> = array(\"./pub/skins/\\<a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#Skin'><code class='varlink'>&#36;Skin</code></a>\"      =&gt; \"<a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#PubDirUrl'><code class='varlink'>&#36;PubDirUrl</code></a>/skins/\\<a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#Skin'><code class='varlink'>&#36;Skin</code></a>\",\n                  \"<a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#FarmD'><code class='varlink'>&#36;FarmD</code></a>/pub/skins/\\<a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#Skin'><code class='varlink'>&#36;Skin</code></a>\" =&gt; \"<a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#FarmPubDirUrl'><code class='varlink'>&#36;FarmPubDirUrl</code></a>/skins/\\<a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#Skin'><code class='varlink'>&#36;Skin</code></a>\");\n</pre><p class='vspace'>The keys (on the left) indicate the places to look for a \"skin .tmpl \nfile\" in the filesystem, while the values (on the right) indicate the\nurl location of the \"skin css file\".  Modifying the value of \n<a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#SkinLibDirs'><code class='varlink'>&#36;SkinLibDirs</code></a> allows a skin .tmpl file to be located anywhere on the \nfilesystem.\n</p>\n<p class='vspace'>As far as I can see, none of the changes introduced by this\nrelease should have any sort of negative impact on existing\nsites, so it should be safe to upgrade.  (If I'm wrong, please\nlet me know.)\n</p>\n<div class='vspace'></div><h2>Version 2.1.15 (2006-08-25)</h2>\n<p>This release includes a number of feature enhancements and code cleanups\nas reported or requested by administrators.\n</p>\n<p class='vspace'>First, AuthUser's LDAP authentication system now allows the use of\na <code class='escaped'>?filter</code> parameter, consistent with urls used for mod_auth_ldap\nauthorization in Apache.  See the newly updated LDAP section of the\n<a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/AuthUser'>AuthUser</a> documentation for more details.\n</p>\n<p class='vspace'>A chicken-and-egg problem with the <code class='escaped'>@_site_*</code> authorization groups\nhas been resolved.  It's now possible to have a page's read authorization\nrefer to things such as <code class='escaped'>_site_edit</code>.\n</p>\n<p class='vspace'>Also, the RetrieveAuthPage() function -- used for retrieving pages only\nif the visitor is authorized to do so -- now recognizes a special\nlevel parameter of 'ALWAYS', which means to always authorize access\nregardless of the browser or visitors current permissions.  This\nmay be useful for allowing certain operations to take place from\nwithin trusted scripts without having to grant full authorization\nto the browser.\n</p>\n<p class='vspace'>Hardcoded instances of the <em>local/</em> directory now use a\ncustomizable <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#LocalDir'><code class='varlink'>&#36;LocalDir</code></a> variable.  This variable controls where\nPmWiki looks for <em>local/config.php</em> and per-group customization \nfiles.  It may be useful for some <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/WikiFarms'>Wiki Farm</a> contexts.  Note that\nthis does not change or affect the location of \n<em><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#FarmD'><code class='varlink'>&#36;FarmD</code></a>/local/farmconfig.php</em>.\n</p>\n<p class='vspace'>Some minor internal changes have been made to \n<em>scripts/wikistyles.php</em> to better accommodate the \nwikipublisher recipe.  It's probably better if we don't try\nto explain them.  :-)\n</p>\n<div class='vspace'></div><h2>Version 2.1.13, 2.1.14 (2006-08-15, 2006-08-16)</h2>\n<p>This release fixes a bug in handling numeric passwords, and also\nallows ldaps:// authentication sources.\n</p>\n<div class='vspace'></div><h2>Version 2.1.12 (2006-08-07)</h2>\n<p>This version introduces the ability to nest divs and tables.\nThe standard <code class='escaped'>(:table:)</code> and <code class='escaped'>(:div:)</code> markups are still\navailable, except that a <code class='escaped'>(:div:)</code> may contain a <code class='escaped'>(:table:)</code>\nand vice-versa.  \n</p>\n<p class='vspace'>As in previous versions of PmWiki, the <code class='escaped'>(:div:)</code> markup\nautomatically closes any previous <code class='escaped'>(:div:)</code>.  However, there\nare now <code class='escaped'>(:div1:)</code>, <code class='escaped'>(:div2:)</code>, etc. markups (and the\ncorresponding <code class='escaped'>(:div1end:)</code>, <code class='escaped'>(:div2end:)</code>, ...) which can be\nused to uniquely distinguish divs for nesting purposes.\n</p>\n<p class='vspace'>To restore PmWiki's previous \"non-nested\" div behavior, set\n$Transition['nodivnest'] = 1; in a local customization file.\n</p>\n<p class='vspace'>Other changes in this release:\n</p><ul><li>Add a <code class='escaped'>(:noaction:)</code> directive to suppress display of page actions.\n</li><li>Allow anchor tags to contain colons, hyphens, and dots.\n</li><li>Add \"white-space\" as an allowed wikistyle.\n</li><li>Other minor bug fixes and typographical corrections.\n</li></ul><div class='vspace'></div><h2>Version 2.1.11 (2006-06-09)</h2>\n<p>This is a minor update that prevents <code class='escaped'>%define=%</code> wikistyles\nfrom generating empty paragraphs in the HTML output.  Prior to\nthis release, markup lines containing only wikistyle definitions\nwould often generate empty paragraphs (&lt;p&gt;&lt;/p&gt;), this release\nchanges things so that a markup line beginning with <code class='escaped'>%define=</code>\nand containing only wikistyle definitions will not initiate\na new paragraph.\n</p>\n<div class='vspace'></div><h2>Version 2.1.10 (2006-06-03)</h2>\n<p>Version 2.1.4 introduced an <code class='escaped'>{$Action}</code> page variable that would\ncontain the current <code class='escaped'>?action=</code> value.  Unfortunately, this page\nvariable conflicted with a pre-existing <code class='escaped'>$Action</code> global variable\nthat was being used by skins to display a human-friendly form of\nthe current action.  Since there's not really a clean way to resolve\nthis, I've decided to keep <code class='escaped'>{$Action}</code> as a page variable\nwith the current action value (as introduced in 2.1.4), and change \nthe global for skins to be &#36;ActionTitle.  This will require updating\nskins to use &#36;ActionTitle instead of $Action.  I apologize for the\nconflict.\n</p>\n<p class='vspace'>This release adds a Site.LocalTemplates page for the <code class='escaped'>fmt=#xyz</code>\noption in pagelist and search results.  The list of pages to be\nsearched can be customized via the <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PagelistVariables#FPLTemplatePageFmt'><code class='varlink'>&#36;FPLTemplatePageFmt</code></a> variable.\nThe <code class='escaped'>fmt=#xyz</code> option will now also search the current page for\na matching template before searching Site.LocalTemplates\nand Site.PageListTemplates.\n</p>\n<p class='vspace'>The 'pmwiki' skin now places a &lt;span&gt; around the \"Recent Changes\"\nlink in the header to make it somewhat easier to style.\n</p>\n<div class='vspace'></div><h2>Version 2.1.9 (2006-06-02)</h2>\n<p>This release fixes a long-standing and difficult-to-find bug with\nthe handling of <code class='escaped'>[[~Author]]</code> links.\n</p>\n<div class='vspace'></div><h2>Version 2.1.8 (2006-06-01)</h2>\n<p>This release simply changes the &#36;NotifyListFmt variable to be\n<a class='varlink' href='http://sli.ics.uci.edu/PmWiki/Notify#NotifyListPageFmt'><code class='varlink'>&#36;NotifyListPageFmt</code></a> (more descriptive), and adds a <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/Notify#NotifyList'><code class='varlink'>&#36;NotifyList</code></a>\narray that can be used to specify notification entries from\na configuration file.\n</p>\n<div class='vspace'></div><h2>Version 2.1.7 (2006-05-31)</h2>\n<p>This release introduces a variety of improvements and bugfixes.\n</p>\n<p class='vspace'><strong>Vspace paragraphs are now divs:</strong>\nVersion 2.1.7 changes the way that PmWiki handles vertical\nspace in output (the infamous <code class='escaped'>&lt;p class='vspace&gt;&lt;/p&gt;</code> sequence).\nInstead of using paragraphs, PmWiki now generates \n<code class='escaped'>&lt;div class='vspace'&gt;&lt;/div&gt;</code> for vertical space sequences.\nIn addition, PmWiki is able to collapse the vspace &lt;div&gt; with\nany subsequent paragraph tags, such that a sequence like\n</p>\n<div class='vspace'></div><pre>    &lt;div class='vspace&gt;&lt;/div&gt;&lt;p&gt;...paragraph text...&lt;/p&gt;\n</pre><p class='vspace'>is automatically converted to\n</p>\n<div class='vspace'></div><pre>    &lt;p class='vspace'&gt;...paragraph text...&lt;/p&gt;\n</pre><p class='vspace'>This allows for better control over paragraph spacing.  It is\nexpected that this change in vspace handling will not have\nany detrimental effects on existing sites.  Sites that have\nset custom values for <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#HTMLVSpace'><code class='varlink'>&#36;HTMLVSpace</code></a> will continue to use the\ncustom value.  A site that wants to restore PmWiki's earlier\nhandling of vspace can do so by adding the following to\n<em>local/config.php</em>:\n</p>\n<div class='vspace'></div><pre>    <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables#HTMLVSpace'><code class='varlink'>&#36;HTMLVSpace</code></a> = \"&lt;p class='vspace'&gt;&lt;/p&gt;\";\n</pre><p class='vspace'><strong>Improved email notifications of changes:</strong>  Version 2.1.7\nincorporates a <em>notify.php</em> script that provides improved\ncapabilities for sending email notifications in response to\npage changes.  This script is intended to replace the previous\n<a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/MailPosts' rel='nofollow'>MailPosts</a> capability, which is now deprecated (but will\ncontinue to be supported in PmWiki 2.1.x).  Details and \ninstructions for using notify.php are in the <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/Notify'>PmWiki.Notify</a> page.\n</p>\n<p class='vspace'><strong>Added 'group home page' syntax:</strong> A group name followed\nby only a dot or slash is automatically treated as a reference\nto the group's home page, whatever it happens to be.  This simplifies\nsome pagelist templates as well as a number of other items. \nIn particular, group links in pagelist output now points to the\ncorrect locations (instead of being a page in the current group).\n</p>\n<p class='vspace'>Several bugs and vulnerabilities have been fixed:\n</p><ul><li>The default width of edit forms is now more appropriate for Internet Explorer.\n</li><li>Authentication failure messages from LDAP are now suppressed.\n</li><li>Some cross-site scripting vulnerabilities in uploads and page links have been corrected (courtesy Moritz Naumann, <a class='urllink' href='http://moritz-naumann.com' rel='nofollow'>http://moritz-naumann.com</a>).\n</li><li>A problem with invalid pagenames resulting in redirect loops has been corrected.\n</li></ul><div class='vspace'></div><h2>Version 2.1.6 (2006-05-22)</h2>\n<p>The primary improvement in this release is the addition of \na pagename argument to the <code class='escaped'>(:if auth:)</code> conditional markup.\nThus one can display markup based on a visitor's authorization\nto a page other than the current one.  For example, to test\nfor edit privileges to Main.WikiSandbox, one would use\n<code class='escaped'>(:if auth edit Main.WikiSandbox:)</code>.  As before, if the\npagename is omitted the directive tests authorization to\nthe current page.\n</p>\n<p class='vspace'>This release also restores the ability to have hyphens in\nInterMap link names.\n</p>\n<p class='vspace'>Lastly, the release closes a potential cross-site scripting\nvulnerability in the WikiTrail markup, and provides some small\nperformance improvements.\n</p>\n<div class='vspace'></div><h2>Version 2.1.4, 2.1.5 (2006-03-29)</h2>\n<p>This release fixes a few more bugs:\n</p><ul><li>Pagelist-based feeds using ?action=rss work again.\n</li><li>Multi-term searches with special characters is fixed.\n</li></ul><p class='vspace'>The release also adds a couple of items:\n</p><ul><li>There is now an <code class='escaped'>{$Action}</code> page variable.\n</li><li>Usernames and passwords submitted to authuser.php can contain quotes.\n</li><li>The <code class='escaped'>(:attachlist:)</code> command now uses a natural case sort.\n</li></ul><div class='vspace'></div><h2>Version 2.1.3 (2006-03-17)</h2>\n<p>This release fixes a bug that prevents the <code class='escaped'>lines=</code> option from\nworking on sites running PHP 5.1.1 or later.  It also re-fixes\na bug involving empty passwords and LDAP authentication.\n</p>\n<div class='vspace'></div><h2>Version 2.1.2 (2006-03-16)</h2>\n<p>This release fixes a bug with handling \"nopass\" passwords.  It also\nmakes some speed improvements to large web feeds, and fixes a couple\nof minor HTML tag mismatches.\n</p>\n<div class='vspace'></div><h2>Version 2.1.1 (2006-03-13)</h2>\n<p>This release primarily fixes a bug with passwords containing\nmultiple authorization groups, and in the process slightly liberalized\nthe formatting of \"@group\" and \"id:name\" handling.  This release also \nadds a new mechanism for managing and displaying FAQ pages.\n</p>\n<div class='vspace'></div><h2>Version 2.1.0 (2006-03-12)</h2>\n<p>This set of release notes is fairly lengthy, as it chronicles all of the changes since 2.0.13 (four months of development).  A lot remains the same, but some changes warrant extra care when upgrading from a 2.0.x version to 2.1.0 (thus the major revision number change).  As always, questions and issues can be mailed to the pmwiki-users mailing list.\n</p>\n<p class='vspace'>Here's the list:\n</p>\n<div class='vspace'></div><ul><li>WikiWords are now disabled by default.  To enable them, set \"<a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#LinkWikiWords'><code class='varlink'>&#36;LinkWikiWords</code></a> = 1;\" in a <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/LocalCustomizations'>local customization</a> file.  As of 2.1.beta2, you can now leave WikiWords enabled but have links to non-existent pages display without decoration -- to do this, place the following lines in <em>pub/css/local.css</em>:\n</li></ul><div class='vspace'></div><pre>    span.wikiword a.createlink { display:none; }\n    span.wikiword a.createlinktext \n      { border-bottom:none; text-decoration:none; color:inherit; }\n</pre><div class='vspace'></div><ul><li>The <code class='escaped'>(:pagelist:)</code> code has been substantially revised.  Pagelist formatting can now be specified using markup, and several defaults are available from <a class='wikilink' href='http://sli.ics.uci.edu/Site/PageListTemplates'>Site.PageListTemplates</a>.  Also, several built-in pagelist formatting functions (FPLSimple, FPLByGroup, FPLGroup) are now removed in favor of the template code.  The FPLByGroup function can be restored by setting $Transition['fplbygroup']=1; . <strong>Remark:</strong> Check to see if your page <a class='wikilink' href='http://sli.ics.uci.edu/Site/PageListTemplates'>Site.PageListTemplates</a> is not passwordprotected for viewing, otherwise the resulting pagelist will not be shown. \n<div class='vspace'></div></li><li><code class='escaped'>(:pagelist:)</code> now also understands wildcards in <code>group=</code> and <code>name=</code> arguments, as well as excluding specific names and groups.\n<div class='vspace'></div></li><li><code class='escaped'>(:pagelist:)</code> now has an \"order=random\" option.\n<div class='vspace'></div></li><li><code class='escaped'>(:searchbox:)</code> now accepts \"group=\", \"link=\", \"list=\", etc. options to be passed along to the search results.  It also accepts a \"target=\" option that identifies the page on which to send the search query.\n<div class='vspace'></div></li><li><code class='escaped'>?action=search</code> will display the contents of the current page if it contains a <code class='escaped'>(:</code><code class='escaped'>searchresults:)</code> directive, otherwise it uses the content of the page identified by <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PagelistVariables#PageSearchForm'><code class='varlink'>&#36;PageSearchForm</code></a> (default is the search page for the current language translation).  \n<div class='vspace'></div></li><li>PmWiki no longer maintains a \".linkindex\" file -- it now has a \".pageindex\" file that contains not only a table of links, but also words used in each page (to speed up term searches).  The maintenance of the .pageindex file can be disabled by setting <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PagelistVariables#PageIndexFile'><code class='varlink'>&#36;PageIndexFile</code></a>=''; \n<div class='vspace'></div></li><li>The <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PagelistVariables#EnablePageListProtect'><code class='varlink'>&#36;EnablePageListProtect</code></a> variable now defaults to true, so that read-only pages appear in pagelists only if the visitor has read authorization.  Note that this can also slow down some <code class='escaped'>(:pagelist:)</code> and search commands, so if the site doesn't have any read-only pages or if you aren't worried with cloaking read-only pages from searchlists, it might be worth setting <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PagelistVariables#EnablePageListProtect'><code class='varlink'>&#36;EnablePageListProtect</code></a>=0; .\n<div class='vspace'></div></li><li>Whitespace indentation rules now exist and are enabled by default.  Any line that begins with whitespace and aligns with a previous list item is considered to be \"within\" that list item.  Text folds and wraps as normal, and the <code class='escaped'>(:linebreaks:)</code> directive is honored.  To turn off whitespace indentation, use <code class='escaped'>DisableMarkup('^ws');</code>.\n<div class='vspace'></div></li><li>A single blank line after a <code class='escaped'>!!Heading</code> is silently ignored.\n<div class='vspace'></div></li><li>The <code class='escaped'>(:redirect:)</code> directive is now a true markup, and can be embedded inside conditional markups or includes.  It also allows redirecting to an anchor in a page, such as <code class='escaped'>(:redirect PageName#anchor:)</code>.  A new <code class='escaped'>from=</code> option allows the redirect to take place only from pages that match the given wildcard specification.  The <code class='escaped'>status=</code> option allows a 301, 302, 303, or 307 HTTP status code to be returned.\n<div class='vspace'></div></li><li>The built-in authorization function has gone through some substantial internal changes, however these changes should be fully backward compatible so that it doesn't impact any existing sites.  (If it <em>does</em> cause a problem, please let me know so I can investigate why!)  The password prompts are now specified by an admin-customizable Site.AuthForm page.  In addition, the authorization function no longer creates PHP sessions for visitors that aren't being authenticated.\n<div class='vspace'></div></li><li>The authuser.php has likewise been substantially updated.  The new version should have complete backwards compatibility with previous authuser.php settings, but this version also offers the ability to configure authentication resources and authorization groups through the <a class='wikilink' href='http://sli.ics.uci.edu/Site/AuthUser'>Site.AuthUser</a> page.  Note that by default the Site.AuthUser page can only be edited using the admin password.\n<div class='vspace'></div></li><li>The <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/SecurityVariables#EnableSessionPasswords'><code class='varlink'>&#36;EnableSessionPasswords</code></a> variable can be used to control whether passwords are held in PHP sessions.  (This does not affect user authentication via <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/AuthUser'>AuthUser</a>, however.)\n<div class='vspace'></div></li><li>The <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#Author'><code class='varlink'>&#36;Author</code></a> variable now defaults to <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/BasicVariables#AuthId'><code class='varlink'>&#36;AuthId</code></a> if not otherwise set by a script or cookie.\n<div class='vspace'></div></li><li>The <a class='wikilink' href='http://sli.ics.uci.edu/Site/SideBar'>Site.SideBar</a> page now defaults its edit password to the sitewide edit password (in <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/SecurityVariables#DefaultPasswords'><code class='varlink'>&#36;DefaultPasswords</code></a>['edit']).\n<div class='vspace'></div></li><li>PmWiki now supports a \"draft edit\" mode, enabled by <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/EditVariables#EnableDrafts'><code class='varlink'>&#36;EnableDrafts</code></a> = 1.  This creates a \"Save as draft\" button that will save a page under a \"-Draft\" suffix, for intermediate edits.\n<div class='vspace'></div></li><li>There is now an ?action=login action available.\n<div class='vspace'></div></li><li>A potential security vulnerability for sites running PHP 5 with register_globals enabled has been fixed.\n<div class='vspace'></div></li><li>The <code class='escaped'>[[PageName |+]]</code> markup is now available by default; this creates a link to PageName and uses that page's title as the link text.\n<div class='vspace'></div></li><li>What used to be \"markup variables\" are now \"<a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/PageVariables'>page variables</a>\".  These are always specified using the <code>{$<em>variable</em>}</code> syntax, and can be used in markup and in $...Fmt strings.  In addition, one can request a value for a specific page by placing the pagename in front of the variable, as in <code>{<em>pagename</em>$<em>variable</em>}</code>.\n<div class='vspace'></div></li><li>The <em>scripts/rss.php</em> script is now <em>scripts/feeds.php</em>, and is a complete redesign for <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/WebFeeds'>web feed</a> generation.  The new version supports UTF-8 and other encodings, can generate Atom 1.0 (<code class='escaped'>?action=atom</code>), Dublin Core Metadata (<code class='escaped'>?action=dc</code>) output, and enclosures for podcasting.  It also allows feeds to be generated from trails, groups, categories, and backlinks, and provides options (same as pagelists) for sorting and filtering the contents of the feed.  Most sites can simply switch to using <code class='escaped'>include_once(\"scripts/feeds.php\");</code> instead of the previous <em>rss.php</em> include.  The <em>rss.php</em> file has been removed from the distribution (but still works with PmWiki 2.1 for those sites that wish to continue using it).\n<div class='vspace'></div></li><li><a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/InterMap'>InterMap</a> entries can now come from a Site.InterMap page as well as the <em>local/localmap.txt</em> and <em>local/farmmap.txt</em> files.  The format of these files has changed slightly, in that the InterMap name should now have a colon after it (previously the colon was omitted).\n<div class='vspace'></div></li><li>We can now provide better control of robot (webcrawler) interactions with a site to reduce server load and bandwidth.  The &#36;RobotPattern variable is used to detect robots based on the user-agent string, and any actions not listed in the &#36;RobotActions array will return a 403 Forbidden response to robots.  In addition, setting &#36;EnableRobotCloakActions will eliminate any forbidden ?action= values from page links returned to robots, which will reduce bandwidth loads from robots even further (<a class='urllink' href='http://www.pmwiki.org/wiki/PITS/00563' rel='nofollow'>PITS:00563</a>).\n<div class='vspace'></div></li><li>Non-existent page handling has been improved; whenever a browser hits a non-existent page, PmWiki returns the contents of Site.PageNotFound and a 404 (\"Not Found\") status code.\n<div class='vspace'></div></li><li>Page links that have \"?action=\" in their query arguments are now treated as \"existing page\" links even if the page does not exist.\n<div class='vspace'></div></li><li>The PmWiki default skin now adds rel='nofollow' to various action links.\n<div class='vspace'></div></li><li>Some of the CSS styles in the PmWiki default skin have been changed for better presentation.\n<div class='vspace'></div></li><li>The gui edit buttons have transparent (instead of white) borders so they integrate better into skins.\n<div class='vspace'></div></li><li>The <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/DebugVariables#EnableIMSCaching'><code class='varlink'>&#36;EnableIMSCaching</code></a> variable is now much smarter, it can detect changes in local customization files as well as pages.\n<div class='vspace'></div></li><li><a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/WikiStyles'>WikiStyles</a> can now make percentage specifications by using \"pct\" to mean \"%\".\n<div class='vspace'></div></li><li>Class attributes in <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/WikiStyles'>WikiStyle</a> shortcuts are now cumulative, so that <code class='escaped'>%class1 class2%</code> results in <code class='escaped'>class='class1 class2'</code> instead of just <code class='escaped'>class='class2'</code> in the output.\n<div class='vspace'></div></li><li>A problem with the <code class='escaped'>(:include PageName#from#:)</code> markup not working has been fixed (<a class='urllink' href='http://www.pmwiki.org/wiki/PITS/00560' rel='nofollow'>PITS:00560</a>).\n<div class='vspace'></div></li><li>Viewing a GroupHeader or GroupFooter page no longer displays the contents twice.\n<div class='vspace'></div></li><li>It's now easier to share pages among multiple sites (e.g., <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/WikiFarms'>WikiFarms</a>), see <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/SharedPages' rel='nofollow'>Cookbook:SharedPages</a> (<a class='urllink' href='http://www.pmwiki.org/wiki/PITS/00459' rel='nofollow'>PITS:00459</a>).\n<div class='vspace'></div></li><li>A problem with nested apostrophe markups has been fixed (<a class='urllink' href='http://www.pmwiki.org/wiki/PITS/00590' rel='nofollow'>PITS:00590</a>).\n<div class='vspace'></div></li><li>PmWiki is now smarter about not surrounding block HTML tags with &lt;p&gt;...&lt;/p&gt; tags.\n<div class='vspace'></div></li><li>If an <code class='escaped'>[[#anchor]]</code> is used more than once in a page, only the first generates an actual anchor (to preserve XHTML validity).\n<div class='vspace'></div></li><li>There are now <code class='escaped'>(:if equal ...:)</code> and <code class='escaped'>(:if exists pagename:)</code> <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/ConditionalMarkup'>conditional markups</a>.\n<div class='vspace'></div></li><li>Compound conditional markup expressions are now possible -- e.g. <code class='escaped'>(:if [ group PmWiki &amp;&amp; ! name PmWiki ] :)</code> .\n<div class='vspace'></div></li><li>Added an &#36;InputValues array that can supply default values for certain form controls (<a class='urllink' href='http://www.pmwiki.org/wiki/PITS/00566' rel='nofollow'>PITS:00566</a>).\n<div class='vspace'></div></li><li>The default setting of <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/UploadVariables#UploadUrlFmt'><code class='varlink'>&#36;UploadUrlFmt</code></a> is now based on <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#PubDirUrl'><code class='varlink'>&#36;PubDirUrl</code></a> instead of <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#ScriptUrl'><code class='varlink'>&#36;ScriptUrl</code></a>.\n<div class='vspace'></div></li><li>The $text global variable has been removed (use $_GET['text'], $_POST['text'], or $_REQUEST['text']).\n<div class='vspace'></div></li><li>A possible problem with url-encoding of attachments with non-ASCII characters has been addressed (<a class='urllink' href='http://www.pmwiki.org/wiki/PITS/00588' rel='nofollow'>PITS:00588</a>).\n<div class='vspace'></div></li><li>Page actions in non-existent pages no longer display with non-existent link decorations.\n<div class='vspace'></div></li><li>A README.txt file has been added, and several documentation files are now available through the docs/ directory.\n<div class='vspace'></div></li><li>PmWiki is no longer available through CVS on sourceforge.net.  It is now available via SVN on pmwiki.org, at svn://pmwiki.org/pmwiki/tags/latest .  For more details, see <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/Subversion' rel='nofollow'>PmWiki:Subversion</a>.\n<div class='vspace'></div></li><li>The &#36;NewlineXXX variable (deprecated in 2.0.0) has been removed.\n<div class='vspace'></div></li><li>There is experimental support for server-side caching of pages that take a long time to render; this is currently an unsupported feature and may be removed in future releases.\n</li></ul><p class='vspace'><span  style='color: red;'>Wiki administrators should note that from this release on PmWiki defaults to having WikiWords disabled.</span>\n</p>\n<p class='vspace'>To make sure WikiWords are enabled, use <code class='escaped'>$LinkWikiWords = 1;</code> in\nthe <em>local/config.php</em> file.\n</p>\n<div class='vspace'></div><hr />\n<p>Bugs and other requests can be reported to the PmWiki Issue Tracking \nSystem at <a class='urllink' href='http://www.pmwiki.org/wiki/PITS/PITS' rel='nofollow'>http://www.pmwiki.org/wiki/PITS/PITS</a>.  Any help\nin testing, development, and/or documentation is greatly appreciated..\n</p>\n<p class='vspace'><a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/Release%20Notes%20archive' rel='nofollow'>Release Notes archive</a> - notes for versions older than 2.1.0.\n</p>\n<p class='vspace'> \n</p><div style='clear:right; float:right; font-size:smaller; background-color:#eee;' >\n<p><span class='wikitrail'>&lt; <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/DesignNotes'>Design notes</a> | <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/DocumentationIndex#trailstart'>Documentation Index</a> | <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/ChangeLog'>Change log</a> &gt;</span> \n</p></div>\n<p><a name='trailend' id='trailend'></a>\n<br clear='all' />\n</p><div  style='background-color: #ffe; border-top: 1px solid black; font-size: .8em;' > \n<p>This page may have <span class='commentout-pmwikiorg'> a more recent version on <a class='urllink' href='http://www.pmwiki.org' rel='nofollow'>pmwiki.org</a>: <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/ReleaseNotes' rel='nofollow'>PmWiki:ReleaseNotes</a>, and </span> a talk page: <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/ReleaseNotes-Talk' rel='nofollow'>PmWiki:ReleaseNotes-Talk</a>.\n</p></div>\n</div>\n\n      </td>\n    </tr></table>\n<!--PageFooterFmt-->\n  <div id='wikifoot'>\n    <div class='footnav' style='float:left'> Last modified December 31, 2016, at 09:43 AM</div>\n    <div class='footnav' style='float:right; text-align:right'>\n    <a href=\"http://www.ics.uci.edu\">Bren School of Information and Computer Science</a><br>\n    <a href=\"http://www.uci.edu\">University of California, Irvine</a>\n    </div>\n  </div>\n<!--HTMLFooter--><script type=\"text/javascript\">\n  var _gaq = _gaq || [];\n  _gaq.push([\"_setAccount\", \"UA-24148957-2\"]);\n\t_gaq.push([\"_trackPageview\"]);\n\t(function() {\n\t  var ga = document.createElement(\"script\"); ga.type = \"text/javascript\"; ga.async = true;\n\t  ga.src = (\"https:\" == document.location.protocol ? \"https://ssl\" : \"http://www\") + \".google-analytics.com/ga.js\";\n\t  var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(ga, s);\n\t  })();\n</script>\n</body>\n</html>\n", "encoding": "ISO-8859-1"}