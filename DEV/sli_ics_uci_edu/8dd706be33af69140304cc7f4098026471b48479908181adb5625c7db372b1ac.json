{"url": "http://sli.ics.uci.edu/PmWiki/PathVariables", "content": "<!DOCTYPE html \n    PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \n    \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<html>\n<head>\n  <title>SLI | PmWiki / PathVariables </title>\n  <meta http-equiv='Content-Style-Type' content='text/css' />\n  <link rel='stylesheet' href='http://sli.ics.uci.edu/pmwiki/pub/skins/custom/pmwiki.css' type='text/css' />\n  <!--HTMLHeader--><style type='text/css'><!--\n  ul, ol, pre, dl, p { margin-top:0px; margin-bottom:0px; }\n  code.escaped { white-space: nowrap; }\n  .vspace { margin-top:1.33em; }\n  .indent { margin-left:40px; }\n  .outdent { margin-left:40px; text-indent:-40px; }\n  a.createlinktext { text-decoration:none; border-bottom:1px dotted gray; }\n  a.createlink { text-decoration:none; position:relative; top:-0.5em;\n    font-weight:bold; font-size:smaller; border-bottom:none; }\n  img { border:0px; }\n  .editconflict { color:green; \n  font-style:italic; margin-top:1.33em; margin-bottom:1.33em; }\n\n  table.markup { border:2px dotted #ccf; width:90%; }\n  td.markup1, td.markup2 { padding-left:10px; padding-right:10px; }\n  table.vert td.markup1 { border-bottom:1px solid #ccf; }\n  table.horiz td.markup1 { width:23em; border-right:1px solid #ccf; }\n  table.markup caption { text-align:left; }\n  div.faq p, div.faq pre { margin-left:2em; }\n  div.faq p.question { margin:1em 0 0.75em 0; font-weight:bold; }\n  div.faqtoc div.faq * { display:none; }\n  div.faqtoc div.faq p.question \n    { display:block; font-weight:normal; margin:0.5em 0 0.5em 20px; line-height:normal; }\n  div.faqtoc div.faq p.question * { display:inline; }\n   \n    .frame \n      { border:1px solid #cccccc; padding:4px; background-color:#f9f9f9; }\n    .lfloat { float:left; margin-right:0.5em; }\n    .rfloat { float:right; margin-left:0.5em; }\na.varlink { text-decoration:none;}\n\n--></style>  <meta name='robots' content='noindex,nofollow' />\n\n</head>\n<body>\n<!--PageHeaderFmt-->\n  <div id='wikilogo'><a href='http://sli.ics.uci.edu'><img src='/pmwiki/pub/skins/custom/SLI_white.png'\n    alt='SLI' border='0' /></a></div>\n  <div id='wikihead'>\n  <form action='http://sli.ics.uci.edu'>\n    <!-- <span class='headnav'><a href='http://sli.ics.uci.edu/PmWiki/RecentChanges'\n      accesskey='c'>Recent Changes</a> -</span> --> \n    <input type='hidden' name='n' value='PmWiki.PathVariables' />\n    <input type='hidden' name='action' value='search' />\n    <!-- <a href='http://sli.ics.uci.edu/Site/Search'>Search</a>: -->\n    <input type='text' name='q' value='' class='inputbox searchbox' />\n    <input type='submit' class='inputbutton searchbutton'\n      value='Search' />\n    <a href='http://sli.ics.uci.edu/Site/Search'>(?)</a>\n  </form></div>\n<!--/PageHeaderFmt-->\n  <table id='wikimid' width='100%' cellspacing='0' cellpadding='0'><tr>\n<!--PageLeftFmt-->\n      <td id='wikileft' valign='top'>\n        <ul><li><a class='wikilink' href='http://sli.ics.uci.edu/Classes/Classes'>Classes</a>\n</li><li><a class='wikilink' href='http://sli.ics.uci.edu/Group/Group'>Group</a>\n</li><li><a class='wikilink' href='http://sli.ics.uci.edu/Projects/Projects'>Research</a>\n</li><li><a class='urllink' href='http://www.ics.uci.edu/~ihler/pubs.html' rel='nofollow'>Publications</a>\n</li><li><a class='wikilink' href='http://sli.ics.uci.edu/Code/Code'>Code</a>\n</li></ul><div class='vspace'></div><hr />\n<div class='vspace'></div>\n</td>\n<!--/PageLeftFmt-->\n      <td id='wikibody' valign='top'>\n<!--PageActionFmt-->\n        <div id='wikicmds'><ul><li class='browse'><a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/PathVariables?action=login'>login</a>\n</li></ul>\n</div>\n<!--PageTitleFmt-->\n        <div id='wikititle'>\n          <div class='pagegroup'><a href='http://sli.ics.uci.edu/PmWiki'>PmWiki</a> /</div>\n          <h1 class='pagetitle'>PathVariables</h1></div>\n<!--PageText-->\n<div id='wikitext'>\n<p>\n<a name='trailstart' id='trailstart'></a> \n</p><div style='clear:right; float:right; font-size:smaller; background-color:#ddd;' >\n<p><span class='wikitrail'>&lt; <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/PagelistVariables'>Pagelist Variables</a> | <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/Variables'>Variables</a> | <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/SecurityVariables'>Security Variables</a> &gt;</span> \n</p></div>\n<div style='clear:right;' >\n</div>\n<p class='vspace'>When dealing with file or path variables, one has to recognize the difference between working with URLs and files on disk.  For example:\n</p><ul><li>The include() statements are used to include other files (on disk) into the currently running PmWiki script.  Thus they require paths on the server's filesystem. \n</li><li>The <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#ScriptUrl'><code class='varlink'>&#36;ScriptUrl</code></a> and <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#PubDirUrl'><code class='varlink'>&#36;PubDirUrl</code></a> variables are used to tell a <em>browser</em>, connecting via the webserver, how to execute the pmwiki script (<a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#ScriptUrl'><code class='varlink'>&#36;ScriptUrl</code></a>) and the base url for getting files from PmWiki's pub/ directory (<a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#PubDirUrl'><code class='varlink'>&#36;PubDirUrl</code></a>).\n</li></ul><p class='vspace'>Note that a browser needs a URL (<a class='urllink' href='http://example.com/pmwiki/pub' rel='nofollow'>http://example.com/pmwiki/pub</a>) while an include statement requires a server file path (<a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#FarmD'><code class='varlink'>&#36;FarmD</code></a>/scripts/something.php).\n</p>\n<div class='vspace'></div><dl><dt><a name='FarmD' id='FarmD'></a><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#FarmD'><code class='varlink'>&#36;FarmD</code></a></dt><dd> The directory on the server where the farm is located (i.e., the directory containing the farm's copy of <em>pmwiki.php</em> and the <em>scripts/</em> directory).  This directory is automatically determined by pmwiki.php when it runs, and can be used to distinguish the farm's <em>cookbook/</em> and <em>pub/</em> subdirectories from a field's subdirectories.\n<div class='vspace'></div></dd><dt><a name='FarmPubDirUrl' id='FarmPubDirUrl'></a><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#FarmPubDirUrl'><code class='varlink'>&#36;FarmPubDirUrl</code></a></dt><dd> is the url that refers to the <code>pub</code> directory for an entire farm. It defaults to the same value as <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#PubDirUrl'><code class='varlink'>&#36;PubDirUrl</code></a>. \n<div class='vspace'></div></dd><dt><a name='PageCSSListFmt' id='PageCSSListFmt'></a><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#PageCSSListFmt'><code class='varlink'>&#36;PageCSSListFmt</code></a></dt><dd> is an associative array which PmWiki uses to find any local css configuration files. It consists of a set of (<em>key</em>,<em>value</em>) pairs <span  style='color: green;'> that point to the same file</span>. The <em>key</em> is a possible path to a file on disk holding the css data, while the <em>value</em> is the coresponding URL for that <span  style='color: green;'>same file</span>. They keys are tested in turn, and for each named file that exists, the browser is instructed to load the corresponding URL. This allows for PMWiki to only load the css file if it exists. (<a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/WhySeeIfCSSExists' rel='nofollow'>Why see if a CSS exists?</a>)  The default value for this variable is:\n</dd></dl><div class='vspace'></div><div class='indent'><pre class='escaped'>\n$PageCSSListFmt = array(\n  'pub/css/local.css' =&gt; '$PubDirUrl/css/local.css',\n  'pub/css/{$Group}.css' =&gt; '$PubDirUrl/css/{$Group}.css',\n  'pub/css/{$FullName}.css' =&gt; '$PubDirUrl/css/{$FullName}.css');\n</pre>\n<div class='vspace'></div></div><div class='indent'>Note that the default (as of version pmwiki-2.1.beta26) makes no reference to <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#FarmPubDirUrl'><code class='varlink'>&#36;FarmPubDirUrl</code></a> for css configuration files. If you wish to be able to place css configuration files in both the field's <code>pub</code> directory, and the farm's <code>pub</code> directory, you may want to add these lines to your <code>local/config.php</code> file (as described in <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/SharedPages' rel='nofollow'>Cookbook:SharedPages</a>):\n<div class='vspace'></div></div><div class='indent'>       <span  style='color: green;'># this adds farm.css to all wikis</span>\n</div><div class='indent'><pre class='escaped'>\n$PageCSSListFmt = array(\n  '$FarmD/pub/css/farm.css' =&gt; '$FarmPubDirUrl/css/farm.css',\n  'pub/css/local.css' =&gt; '$PubDirUrl/css/local.css',\n  'pub/css/$Group.css' =&gt; '$PubDirUrl/css/$Group.css',\n  'pub/css/$FullName.css' =&gt; '$PubDirUrl/css/$FullName.css');\n</pre>\n<div class='vspace'></div></div><div class='indent'>       <span  style='color: green;'># this enables farm css files in a similar manner to a local wiki</span>\n</div><div class='indent'><pre class='escaped'>\n$PageCSSListFmt = array(\n  '$FarmD/pub/css/local.css' =&gt; '$FarmPubDirUrl/css/local.css',\n  '$FarmD/pub/css/$Group.css' =&gt; '$FarmPubDirUrl/css/$Group.css',\n  '$FarmD/pub/css/$FullName.css' =&gt; '$FarmPubDirUrl/css/$FullName.css',\n  'pub/css/local.css' =&gt; '$PubDirUrl/css/local.css',\n  'pub/css/$Group.css' =&gt; '$PubDirUrl/css/$Group.css',\n  'pub/css/$FullName.css' =&gt; '$PubDirUrl/css/$FullName.css');\n</pre>\n<div class='vspace'></div></div><div class='indent'>Note the difference between CSS configuration files and CSS files associated with a skin. Skin files, including associated CSS, can be put in either the farm or the field <code>pub/skins</code> directory, and the program will find them.\n</div><div class='vspace'></div><dl><dt><a name='PubDirUrl' id='PubDirUrl'></a><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#PubDirUrl'><code class='varlink'>&#36;PubDirUrl</code></a></dt><dd> is the URL that refers to the <code>pub</code> directory. That directory contains all the files and subdirectories that must be directly accessible from a browser (e.g. CSS and HTML files). Most prominent here is the <code>skins</code> subdirectory.\n</dd></dl><div class='indent'>The following may work for you<sup><a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/CleanUrls#multiviews' rel='nofollow'>[1]</a></sup>\n</div><div class='indent'><pre class='escaped'>  $ScriptUrl = 'http://'.$_SERVER['HTTP_HOST'].'/pmwiki/pmwiki.php';\n  $PubDirUrl = 'http://'.$_SERVER['HTTP_HOST'].'/pmwiki/pub';</pre>\n</div><p class='vspace'><span class='rfloat'><a class='urllink' href='http://sli.ics.uci.edu' rel='nofollow'>http://sli.ics.uci.edu</a></span>\n</p><dl><dt><a name='ScriptUrl' id='ScriptUrl'></a><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#ScriptUrl'><code class='varlink'>&#36;ScriptUrl</code></a></dt><dd> is the URL that you want people's browsers to use when accessing PmWiki, either as a field or farm.  It's used whenever PmWiki needs to generate a link to another PmWiki page or action. PmWiki is usually fairly good about \"guessing\" the correct value for <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#ScriptUrl'><code class='varlink'>&#36;ScriptUrl</code></a> on its own, but sometimes an admin needs to set it explicitly because of URL manipulations by the webserver (such as <a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/CleanUrls' rel='nofollow'>Cookbook:CleanUrls</a>, mod_rewrite, bizarre PHP configurations, and so on).\n<div class='vspace'></div></dd><dt><a name='SkinDir' id='SkinDir'></a><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#SkinDir'><code class='varlink'>&#36;SkinDir</code></a></dt><dd>Set by <em>scripts/skins.php</em> to be the base url of the current skin's directory (i.e., within a 'pub/skins/' directory).  This variable is typically used inside of a skin .tmpl file to provide access to .css files and graphic images associated with the skin. See <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/SkinTemplates#security'>security note</a> regarding use.\n<div class='vspace'></div></dd><dt><a name='SkinDirUrl' id='SkinDirUrl'></a><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#SkinDirUrl'><code class='varlink'>&#36;SkinDirUrl</code></a></dt><dd>Set by <em>scripts/skins.php</em> to be the base path of the current skin's directory (i.e., within a 'pub/skins/' directory).  This variable is typically used inside of a skin .tmpl file to provide access to secondary files. See <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/SkinTemplates#security'>security note</a> regarding use.\n<div class='vspace'></div></dd><dt><a name='WorkDir' id='WorkDir'></a><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#WorkDir'><code class='varlink'>&#36;WorkDir</code></a></dt><dd> This variable is a string that gives a local path to a directory where the pmwiki engine can create temporary files etc. \n</dd><dt> </dt><dd>PmWiki needs this for a variety of things, such as building merged edits, caching mailposts entries, keeping track of the last modification time of the site, other types of cache, etc.  Do not confuse this variable with <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#WikiDir'><code class='varlink'>&#36;WikiDir</code></a>; the reason that both <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#WorkDir'><code class='varlink'>&#36;WorkDir</code></a> and <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#WikiDir'><code class='varlink'>&#36;WikiDir</code></a> refer by default to the directory <code class='escaped'>wiki.d/</code> is merely to simplify things for the administrator. \n<div class='vspace'></div></dd><dt><a name='WikiDir' id='WikiDir'></a><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#WikiDir'><code class='varlink'>&#36;WikiDir</code></a></dt><dd> A PageStore-object that refers to how wiki pages are stored. \n</dd><dt> </dt><dd>This can be a simple reference to a directory (typically <em>wiki.d/</em>), or something more advanced such as a MySQL backend or a .dbm-file.  Do not confuse this variable with <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#WorkDir'><code class='varlink'>&#36;WorkDir</code></a>; the reason that both <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#WorkDir'><code class='varlink'>&#36;WorkDir</code></a> and <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#WikiDir'><code class='varlink'>&#36;WikiDir</code></a> refer by default to the directory <code class='escaped'>wiki.d/</code> is merely to simplify things for the administrator.\n</dd><dt> </dt><dd>To store groups of pages in subdirectories add <code class='escaped'>$WikiDir = new PageStore('wiki.d/$Group/$FullName');</code> to the start of your config file. <sup><a class='urllink' href='http://www.pmwiki.org/wiki/Cookbook/PerGroupSubDirectories' rel='nofollow'>[2]</a></sup>\n<div class='vspace'></div></dd><dt><a name='WikiLibDirs' id='WikiLibDirs'></a><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#WikiLibDirs'><code class='varlink'>&#36;WikiLibDirs</code></a></dt><dd> An array of PageStore objects that specify where to look for pages.  \n</dd><dt> </dt><dd>By default it is set up to look in <em>wiki.d/</em> and <em>wikilib.d/</em>, but can be changed to look other places.  \n</dd><dt> </dt><dd>For example, to exclude the pages that are bundled in the PmWiki distribution, use the line below.  (Note that some features such as editing and search rely on having certain pages available, so you may need to copy them to the <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#WikiDir'><code class='varlink'>&#36;WikiDir</code></a>.)\n</dd></dl><div class='indent'><code class='escaped'>$WikiLibDirs = array(&amp;$WikiDir); </code>\n</div><dl><dt> </dt><dd>Another example\n</dd></dl><div class='indent'><pre class='escaped'>\n \t## for any page name, use the version located in wiki.d if it exists,\n \t## use the version located in wikilib2.d, if a wiki.d version does not, and\n \t## the version located in wikilib.d, if neither of the above exists\n\t$WikiLibDirs = array(&amp;$WikiDir,\n\t    new PageStore('wikilib2.d/{$FullName}'),\n\t    new PageStore('$FarmD/wikilib.d/{$FullName}'));\n</pre>\n</div><dl><dt> </dt><dd> See also <a class='urllink' href='http://www.pmwiki.org/wiki/Category/CustomPageStore' rel='nofollow'>CustomPageStore</a>.\n<div class='vspace'></div></dd><dt><a name='LocalDir' id='LocalDir'></a><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#LocalDir'><code class='varlink'>&#36;LocalDir</code></a></dt><dd> The filesystem location of the <em>local/</em> directory, holding <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/LocalCustomizations'>local customization</a> and <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/per%20group%20customizations' rel='nofollow'>per group customizations</a> files.  Typically set in a <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/WikiFarms'>WikiFarm</a>'s <em>farmconfig.php</em>.  (Note that farm configuration files always occur in <em><a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#FarmD'><code class='varlink'>&#36;FarmD</code></a>/local/farmconfig.php</em>, regardless of any setting for <a class='varlink' href='http://sli.ics.uci.edu/PmWiki/PathVariables#LocalDir'><code class='varlink'>&#36;LocalDir</code></a>.)\n</dd></dl><div class='vspace'></div><h2>See also</h2>\n<ul><li><a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/LayoutVariables'>Layout Variables</a> for URL layout options\n</li><li><a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/LinkVariables'>Link Variables</a> - variables that control the display of links in pages\n</li><li><a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/EditVariables'>Edit Variables</a> - variables used when editing pages\n</li><li><a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/UploadVariables'>Upload Variables</a> - variables used for uploads/attachments\n</li></ul><p> \n</p><div style='clear:right; float:right; font-size:smaller; background-color:#ddd;' >\n<p><span class='wikitrail'>&lt; <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/PagelistVariables'>Pagelist Variables</a> | <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/Variables'>Variables</a> | <a class='wikilink' href='http://sli.ics.uci.edu/PmWiki/SecurityVariables'>Security Variables</a> &gt;</span> \n</p></div>\n<p><a name='trailend' id='trailend'></a>\n<br clear='all' />\n</p><div  style='background-color: #ffe; border-top: 1px solid black; font-size: .8em;' > \n<p>This page may have <span class='commentout-pmwikiorg'> a more recent version on <a class='urllink' href='http://www.pmwiki.org' rel='nofollow'>pmwiki.org</a>: <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/PathVariables' rel='nofollow'>PmWiki:PathVariables</a>, and </span> a talk page: <a class='urllink' href='http://www.pmwiki.org/wiki/PmWiki/PathVariables-Talk' rel='nofollow'>PmWiki:PathVariables-Talk</a>.\n</p></div>\n</div>\n\n      </td>\n    </tr></table>\n<!--PageFooterFmt-->\n  <div id='wikifoot'>\n    <div class='footnav' style='float:left'> Last modified January 08, 2015, at 08:58 AM</div>\n    <div class='footnav' style='float:right; text-align:right'>\n    <a href=\"http://www.ics.uci.edu\">Bren School of Information and Computer Science</a><br>\n    <a href=\"http://www.uci.edu\">University of California, Irvine</a>\n    </div>\n  </div>\n<!--HTMLFooter--><script type=\"text/javascript\">\n  var _gaq = _gaq || [];\n  _gaq.push([\"_setAccount\", \"UA-24148957-2\"]);\n\t_gaq.push([\"_trackPageview\"]);\n\t(function() {\n\t  var ga = document.createElement(\"script\"); ga.type = \"text/javascript\"; ga.async = true;\n\t  ga.src = (\"https:\" == document.location.protocol ? \"https://ssl\" : \"http://www\") + \".google-analytics.com/ga.js\";\n\t  var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(ga, s);\n\t  })();\n</script>\n</body>\n</html>\n", "encoding": "ascii"}