{"url": "https://www.ics.uci.edu/~ejw/versioning/arch/0107.html", "content": "<!-- received=\"Thu Aug  1 16:25:49 1996 PDT\" -->\n<!-- sent=\"Thu, 1 Aug 1996 18:25:49 -0500\" -->\n<!-- name=\"David G. Durand\" -->\n<!-- email=\"dgd@cs.bu.edu\" -->\n<!-- subject=\"Re: Entity Tags\" -->\n<!-- id=\"v02130502ae26d968884d@[128.148.157.46]\" -->\n<!-- inreplyto=\"Entity Tags\" -->\n<title>Archive of Working Group on Versioning and Configuration Management of World Wide Web Content: Re: Entity Tags</title>\n<h1>Re: Entity Tags</h1>\n<b>David G. Durand</b> (<a href=\"mailto:dgd@cs.bu.edu\"><i>dgd@cs.bu.edu</i></a>)<br>\n<i>Thu, 1 Aug 1996 18:25:49 -0500</i>\n<p>\n<ul>\n<li> <b>Messages sorted by:</b> <a href=\"index.html#107\">[ date ]</a><a href=\"thread.html#107\">[ thread ]</a><a href=\"subject.html#107\">[ subject ]</a><a href=\"author.html#107\">[ author ]</a>\n<!-- next=\"start\" -->\n<li> <b>Previous message:</b> <a href=\"0106.html\">Dave Long: \"Re: Entity Tags\"</a>\n<li> <b>Maybe in reply to:</b> <a href=\"0105.html\">David G. Durand: \"Entity Tags\"</a>\n<!-- nextthread=\"start\" -->\n<!-- reply=\"end\" -->\n</ul>\n<hr>\n<!-- body=\"start\" -->\n<pre>\n&gt;David Durand writes:\n&gt;&gt;So if the Entity tag is the same, the document is byte-for-byte identitical.\n&gt;&gt;If the the Entity tag is \"Weak\", then it may not be byte-for-byte identical,\n&gt;&gt;if the tags are the same, but the server is saying that it doesn't care,\n&gt;&gt;and caching would still be acceptable. I didn't have a chance to check out\n&gt;&gt;how this affects content-type negotiation, but I got the impression that each\n&gt;&gt;type would have its own entity tag.\n&gt;&gt;\n&gt;&gt;   It seems to me that a versioning system provides the right information to\n&gt;&gt;calculate this stuff correctly (and is under obligation to do so), but that\n&gt;&gt;ETags don't solve many of our problems for us (though they do provide a nice\n&gt;&gt;way to check if the \"current version\" has changed or not).\n\n&gt;My question (from San Mateo) was whether the notion of \"current version\"\n&gt;for cacheability is so different from the notion of \"current version\" for\n&gt;versioning that we need an additional layer beyond the ETags.  (and in\n&gt;the rather narrow scope of preventing conflicting overwrites)\n\n    The problem with the notion of current version (as Fabio and I\nconceptualized it in our draft) is that it's the version you get with _no_\nVersion-ID specified. So we would still need to use HTTP's mechanism to\nhandle the caching aspect. The requirements for cacheability are very\nstrong. This is a special case of some versioning systems approximate\nversion references\n\n   I think that while versioning solves the identity problem well enought\nto create ETags (more details later on), even the simplest versioning has\nother requirements (like tracking relationships) that ETags identity test\ndoes not suffice to provide. So I think there are versioning-specific\nrequirements that need to be met separately from ETags.\n\n    They're pretty orthogonal anyway: you can have ETags (via MD5, say)\nwithout versioning, even if good ETags come cheap when you have a\nversioning system in place.\n\n   [[[ Note that for some systems that allow \"active versions,\" only\n\"frozen\" or \"committed\" versions satisfy the immutability requirement for\ncacheability (immutability being the versioning approach to byte-for-byte\nidentity). Our functional requirements draft tries to forestall this kind\nof problem, by asking that servers never send different states of the same\nresource under the same Version-ID. Of course a different resource might\nlater share the same URL, but there's nothing we can do about that. ]]]\n\n&gt;I imagine the most common system would be a \"major/minor\" sort of thing,\n&gt;where minor revisions were bumped on every change (and hence equivalent\n&gt;to strong tags), and major revisions were bumped when the content had\n&gt;changed to the point where the provider no longer wished it to be cached\n&gt;(and hence equivalent to weak tags).\n\n\n    I think this is correct. This seems to me like it could be a candidate\nfor a \"Weak\" ETag. Of course a versioning system always has a strong ETag\navailable in the form of the complete version identifier. Given that we\nalways have a stronger ID available, I'd avoid ever creating a weak ETag.\n\n I'm not sure if we want to really accomodate this at the version protocol\nlevel. This kind of facility seems to be most important in managing\nconfigurations -- so that we might make the HTTP level simple, and leave\nthe subtleties to more sophisticated clients.\n\n   Partly this reflects a prejudice that I think I share with the HTTP 1.1\nauthors -- dislike of Weak identity verification.\n\n&gt;\n&gt;I admit this is a very naive view of versioning, but I'm not sure that\n&gt;it helps to add complexity.  Can anyone post a scenario where it is\n&gt;important to decouple cacheability from the version id?\n\nIf version-Ids are held to denote immutable objects, there is no essential\nreason to decouple it. The one problem is that the HTTP 1.1 document seemed\nto be saying that the ETags should be unique across all documents on a\nserver -- that might imply that we would need to use (Resource-ID,\nVersion-ID) pairs as ETags, rather than just Version-IDs. This should not\nbe a problem.\n\n   To sum up, I think your simplistic view is basically right, and we\nshould make sure that it stays as right as possible.\n\n   I am assuming that Content-type negotiation can lead to more than on\nETag for the \"same\" resource, if it is available in several forms with\ndifferent Content-types. If this is not true and anyone knows, could they\npost to the list?\n\n    -- David\n\n----------------------------------------------+----------------------------\n  David Durand                 <a href=\"mailto:dgd@cs.bu.edu\">dgd@cs.bu.edu</a>  | david@dynamicDiagrams.com\n  Boston University Computer Science          | Dynamic Diagrams\n  <a href=\"http://cs-www.bu.edu:80/students/grads/dgd/\">http://cs-www.bu.edu:80/students/grads/dgd/</a> | http://dynamicDiagrams.com/\n</pre>\n<!-- body=\"end\" -->\n<hr>\n<p>\n<ul>\n<!-- next=\"start\" -->\n<li> <b>Previous message:</b> <a href=\"0106.html\">Dave Long: \"Re: Entity Tags\"</a>\n<li> <b>Maybe in reply to:</b> <a href=\"0105.html\">David G. Durand: \"Entity Tags\"</a>\n<!-- nextthread=\"start\" -->\n<!-- reply=\"end\" -->\n</ul>\n", "encoding": "ascii"}