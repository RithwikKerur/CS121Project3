{"url": "https://www.ics.uci.edu/~majumder/VC/211HW3/vlfeat/src/test_mathop_fast_sqrt_ui.tc", "content": "#define FL VL_XCAT(VL_FL_INT, SFX)\n\n{\n  T x, acc, acc_ ;\n  double elaps ;\n  int neval  ;\n\n  vl_tic() ;\n  neval = 0 ;\n  x = 0 ;\n  acc = 0 ;\n  do {\n    T y  = VL_XCAT(vl_fast_sqrt_ui, SFX) (x) ;\n    acc += y ;\n    x += 1 << STEP ;\n    neval += 1 ;\n  } while (x > (1 << STEP) - 1) ;\n  elaps = vl_toc() ;\n  VL_PRINTF (\"%20s\", \"vl_fast_sqrt_ui\" VL_XSTRINGIFY(SFX)) ;\n  VL_PRINTF (\" %10.2f %10.2g %010\" FL \"x\\n\", elaps, (double) neval / elaps, acc) ;\n\n  vl_tic() ;\n  neval = 0 ;\n  x = 0 ;\n  acc_ = 0 ;\n  do {\n    vl_uint32 y  = floor(sqrt((double) x));\n    acc_ += y ;\n    x += 1 << STEP ;\n    neval += 1 ;\n  } while (x > (1 << STEP) - 1) ;\n  elaps = vl_toc() ;\n  VL_PRINTF (\"%20s\", \"baseline\") ;\n  VL_PRINTF (\" %10.2f %10.2g %010\" FL \"x\\n\", elaps, (double) neval / elaps, acc) ;\n\n\n  if (acc != acc_) {\n    VL_PRINTF (\"error: vl_fast_sqrt_ui\" VL_XSTRINGIFY(SFX) \" != floor(sqrt((double) x))\\n\") ;\n    error = 1 ;\n  }\n}\n\n#undef FL\n", "encoding": "ascii"}