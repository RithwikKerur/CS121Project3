{"url": "https://www.ics.uci.edu/~dechter/courses/ics-275a/fall-99/slides/node75.html", "content": "<!DOCTYPE HTML PUBLIC \"-//W3O//DTD W3 HTML 2.0//EN\">\r\n<!Converted with LaTeX2HTML 95.1 (Fri Jan 20 1995) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds >\r\n<HEAD>\r\n<TITLE> Matching Clauses</TITLE>\r\n</HEAD>\r\n<BODY>\r\n<meta name=\"description\" value=\" Matching Clauses\">\r\n<meta name=\"keywords\" value=\"umsroot\">\r\n<meta name=\"resource-type\" value=\"document\">\r\n<meta name=\"distribution\" value=\"global\">\r\n<P>\r\n <BR> <HR><A NAME=tex2html3149 HREF=\"node76.html\"><IMG ALIGN=BOTTOM ALT=\"next\" SRC=\"http://www.ecrc.de/eclipse/new_icons//next_motif.gif\"></A>   <A NAME=tex2html3147 HREF=\"node73.html\"><IMG ALIGN=BOTTOM ALT=\"up\" SRC=\"http://www.ecrc.de/eclipse/new_icons//up_motif.gif\"></A>   <A NAME=tex2html3141 HREF=\"node74.html\"><IMG ALIGN=BOTTOM ALT=\"previous\" SRC=\"http://www.ecrc.de/eclipse/new_icons//previous_motif.gif\"></A>      <A NAME=tex2html3151 HREF=\"node321.html\"><IMG ALIGN=BOTTOM ALT=\"index\" SRC=\"http://www.ecrc.de/eclipse/new_icons//index_motif.gif\"></A>   <BR>\r\n<B> Next:</B> <A NAME=tex2html3150 HREF=\"node76.html\"> Abstract Code Listing</A>\r\n<B>Up:</B> <A NAME=tex2html3148 HREF=\"node73.html\"> Special Primitives</A>\r\n<B> Previous:</B> <A NAME=tex2html3142 HREF=\"node74.html\"> Soft Cut</A>\r\n<BR> <HR> <P>\r\n<H2><A NAME=SECTION006102000000000000000> Matching Clauses</A></H2>\r\n<P>\r\n<A NAME=1137>&#160;</A>\r\n<A NAME=1138>&#160;</A>\r\n<A NAME=1139>&#160;</A>\r\nWhen Prolog systems look for clauses that match a given call,\r\nthey use full unification of the goal with the clause head\r\n(but usually without the occur check).\r\nSometimes it is useful or necessary to use <i> pattern matching</i>\r\ninstead of full unification, i.e. during the matching\r\nonly variables in the clause head can be bound, the call\r\nvariables must not be changed.\r\nThis means that the call must be an instance of the\r\nclause head.\r\n<P>\r\nThe operator <IMG  ALIGN=MIDDLE ALT=\"\" SRC=\"img8.gif\"> at the beginning of the clause\r\nbody specifies that one-way matching should be used\r\ninstead of full unification:\r\n<blockquote> <PRE>p(f(X)) :-\r\n    -?-&gt;\r\n    q(X).\r\n</PRE>\r\n</blockquote>\r\nPattern matching can be used for several purposes:\r\n<UL><LI> Generic pattern matching when looking for clauses\r\nwhose heads are more general than the call.\r\n<P>\r\n<LI> Decomposing <i> attributed variables</i> [<A HREF=\"node322.html#eclipseext\">9</A>].\r\nWhen an attributed variable occurs in the head of a matching clause,\r\nit is not unified with the call argument (which would trigger\r\nthe unification handlers) but instead, the call argument\r\nis decomposed into the variable and its attribute(s):\r\n<blockquote> <PRE>get_attr(X{A}, Attr) :-\r\n    -?-&gt;\r\n    A = Attr.\r\n</PRE>\r\n</blockquote>\r\nThis predicate can be used to return the attribute of a given\r\nattributed variable and fail if it is not one.\r\n<P>\r\n<LI> Replacing other metalogical operations, e.g. <b> var/1</b>\r\ntest. Since a nonvariable in the head of a matching clause\r\nmatches only a nonvariable, explicit variable tests and/or cuts\r\nmay become obsolete.\r\n</UL>\r\n<P>\r\nIf some argument positions of a matching clause are declared\r\nas <b> output</b> in a mode declaration, then they are not\r\nunified using pattern matching but normal unification,\r\nin this case then the variable is normally bound.\r\nThe above example can thus be also written as\r\n<blockquote> :- mode get_attr(?, -).\r\n<PRE>get_attr(X{A}, A) :-\r\n    -?-&gt;\r\n    true.\r\n</PRE>\r\n</blockquote>\r\nbut in this case it must not be called with its second argument\r\nalready instantiated.\r\n<P>\r\n<BR> <HR><A NAME=tex2html3149 HREF=\"node76.html\"><IMG ALIGN=BOTTOM ALT=\"next\" SRC=\"http://www.ecrc.de/eclipse/new_icons//next_motif.gif\"></A>   <A NAME=tex2html3147 HREF=\"node73.html\"><IMG ALIGN=BOTTOM ALT=\"up\" SRC=\"http://www.ecrc.de/eclipse/new_icons//up_motif.gif\"></A>   <A NAME=tex2html3141 HREF=\"node74.html\"><IMG ALIGN=BOTTOM ALT=\"previous\" SRC=\"http://www.ecrc.de/eclipse/new_icons//previous_motif.gif\"></A>      <A NAME=tex2html3151 HREF=\"node321.html\"><IMG ALIGN=BOTTOM ALT=\"index\" SRC=\"http://www.ecrc.de/eclipse/new_icons//index_motif.gif\"></A>   <BR>\r\n<B> Next:</B> <A NAME=tex2html3150 HREF=\"node76.html\"> Abstract Code Listing</A>\r\n<B>Up:</B> <A NAME=tex2html3148 HREF=\"node73.html\"> Special Primitives</A>\r\n<B> Previous:</B> <A NAME=tex2html3142 HREF=\"node74.html\"> Soft Cut</A>\r\n<BR> <HR> <P>\r\n<BR> <HR>\r\n<P><ADDRESS>\r\n<I>Micha Meier <BR>\r\nMon Mar  4 12:11:45 MET 1996</I>\r\n</ADDRESS>\r\n</BODY>\r\n", "encoding": "ascii"}