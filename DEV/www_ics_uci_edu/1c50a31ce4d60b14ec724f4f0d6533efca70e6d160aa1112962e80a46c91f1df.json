{"url": "https://www.ics.uci.edu/~kay/courses/31/design-recipe.html", "content": "\n<!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\">\n<HTML>\n<HEAD>\n<META HTTP-EQUIV=\"GENERATOR\" CONTENT=\"Globetrotter 1.1.1\">\n<META HTTP-EQUIV=\"AUTHOR\" CONTENT=\"David G. Kay\">\n<META HTTP-EQUIV=\"UPDATED\" CONTENT=\"Thursday, January 5, 2006 2:39 PM\">\n<TITLE>The Design Recipe</TITLE>\n<META HTTP-EQUIV=\"X-GLOBETROTTERDATA\" CONTENT=\"D250620B\">\n<META HTTP-EQUIV=KEYWORDS CONTENT=\"java programming, data structures\">\n<META HTTP-EQUIV=\"DESCRIPTION\" CONTENT=\"Web references for computer science topics, especially Java programming and data structures.\">\n<META HTTP-EQUIV=\"COPYRIGHT\" CONTENT=\"Copyright &#169; 2006 by David G. Kay.  All rights reserved.\">\n<link href=\"/~kay/courses/31/mainstyle.css\" rel=\"stylesheet\" type=\"text/css\" />\n</HEAD>\n<BODY BGCOLOR=\"#FFFFFF\">\n<P>\nICS 31 &bull; David G. Kay &bull; UC Irvine</FONT></P>\n<P><B><font size=6>The &quot;Design Recipe&quot; for Functions</font></B></P>\n<P>&nbsp;</P>\n<p>Every time you write a function, you should follow these steps.  They don't do the job for you automatically\u2014if it could do that, software engineers wouldn't make high salaries\u2014but it does help you get organized and avoid many common mistakes. Notice in particular how much you do before you actually start writing the code in the body of the function (in step 6 out of 7).\n</p>\n<p>(The idea of a \"design recipe\" for programs comes from the \n<a href=\"http://programbydesign.org\">Program By Design curriculum</a>.)</p>\n\n<ol>\n\u0016\n<li>What's the <strong>input</strong> and where does it come from?<br />\nDoes it come as arguments/parameters?<br />\nDoes it come from the user, e.g., <code>name = input('Hello; name please:')</code><br />       \nDoes it read data from a file?   <br />\nDoes it come from a mouse or trackpad or other sensing device? <br />\nNote that a function that \"takes a number as input\" almost always expects an argument and  does\nnot call the <code>input()</code> function; a function that \"prompts (or asks) the user for a number as input\"<em> does</em> call <code>input()</code>.\n</li>\n<br />\n<li>What's the <strong>output</strong> and where does it go?<br />\nIs it <em>returned</em> from the function?<br />       \nIs it printed?<br />       \nDoes it write the results to a file?<br />\nDoes it send a signal to some speakers or a robot controller or another machine on the internet?\n\n<p>Deciding whether to design functions with parameters and returned values or alternatively with print statements or other direct interactions is a question that requires more sophistication than we usually expect in a first course.  In most cases, then, the lab problem or exam question will tell you explicitly what to do (e.g.,  \"take a number as a parameter and return its square root\" or \"prompt the user to input a number and then print that number's square root\").  Read the problem carefully to find this vital information.</p>\n<p>As a general principle, though, it's usually best to write every function you can with parameters and return values.  That makes them flexible; the program that <em>calls</em> it can decide what to do with the returned result (print it, send it to a robot, whatever).</p>\n</li>\n<br />\n<li>Write a <strong>contract</strong> that states the function's name and the       names and types of its parameters and return value. This can be in the form of a comment (so the precise syntax doesn't trip you up):\n<pre><code>#   Restaurant_price:   rest: Restaurant   ->   float       </code></pre>\nor it can use actual Python annotations in the actual Python function header (also called the function signature):\n<pre><code>def Restaurant_price(rest: Restaurant) -> float:   </code></pre>\nIf you're not clear about what type(s) of data your function expects and what type it returns, you can't get any further.\n</li>\n<br />\n<li>Write a one-line <strong>purpose statement</strong> or <strong>docstring</strong> that says in simple English what the function does.  \n<pre><code>\" Take a total restaurant bill and compute the tip on that specified amount \"</code></pre>\nWe will write this line as a quoted string and place it right after the function definition in the final code; that's called a \"docstring\"; Python will pick it up and display it when we call the <code>help()</code> function.\n<pre><code>\"\"\" Your docstring can be triple-quoted; among other things, this\n    lets you spread it over two lines if you need to. \"\"\"</code><br />\n</pre></li>\n<li>Write some <strong>examples</strong> of calling the function, including the results you expect in each case.  This helps clarify exactly what the function should do; as you work out the examples you may get ideas for how to write code to compute the results.  Moreover, the examples become your tests\n(see step 7). For functions that return values, use Python's <code>assert</code> statement\u2014the word <code>assert</code> followed by a Boolean (true or false) expression that should be true if the function is correct:\n<pre><code>assert triple(0) == 0\nassert triple(5) == 15   </code></pre>\nWrite enough different examples to convince yourself (and your TA) that your function works correctly on all expected kinds of data.\n</li>\n<br />\n<li>Write the <strong>body</strong> of the function.  This is where you actually get to write the rest of the code.  Note that you already have the header (it was your contract) and your docstring (the purpose statement).  The examples (assert statements) go after the function body (aligned with the left margin, just like the <code>def</code> for the function.\n<pre><code>def triple(value: int) -> int:\n   \" Return three times the parameter value \"\n   return 3 * value\nassert triple(0) == 0\nassert triple(5) == 15   </code><br />\n</pre></li>\n<li>Run the function (which runs the <strong>tests</strong>\u2014your examples from step 5) and check the results.  If the assertions are true, everything stays quiet; if one is false, you get an error message that helps you locate the source of the problem. Resolve any discrepancies and repeat the process until all the tests pass.\n</li>\n</ol>\n<HR>\n<address>\n<FONT FACE=\"Palatino\"><A HREF=\"http://www.ics.uci.edu/~kay/\">David G. Kay</A>,</FONT><a href=mailto:kay@uci.edu> kay@uci.edu</A>\n</address>\n</BODY>\n</HTML>\n", "encoding": "utf-8"}