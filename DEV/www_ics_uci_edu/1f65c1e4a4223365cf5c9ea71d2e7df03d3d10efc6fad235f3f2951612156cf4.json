{"url": "https://www.ics.uci.edu/~wjohnson/BIDA/Ch13/BayesPHinSAS.sas", "content": "/***************************************************************\r\nChapter 13: Time to Event Regression\r\nBayes Cox model in SAS\r\nLeukemia data \r\n****************************************************************/\r\n\r\n\r\ndata leuk;\r\ninput y delta AGgroup;\r\ndatalines;\r\n65\t1\t1\r\n156\t1\t1\r\n100\t1\t1\r\n134\t1\t1\r\n16\t1\t1\r\n108\t1\t1\r\n121\t1\t1\r\n4\t1\t1\r\n39\t1\t1\r\n143\t1\t1\r\n56\t1\t1\r\n26\t1\t1\r\n22\t1\t1\r\n1\t1\t1\r\n1\t1\t1\r\n5\t1\t1\r\n65\t1\t1\r\n56\t1\t0\r\n65\t1\t0\r\n17\t1\t0\r\n7\t1\t0\r\n16\t1\t0\r\n22\t1\t0\r\n3\t1\t0\r\n4\t1\t0\r\n2\t1\t0\r\n3\t1\t0\r\n8\t1\t0\r\n4\t1\t0\r\n3\t1\t0\r\n30\t1\t0\r\n4\t1\t0\r\n43\t1\t0\r\n;\r\nproc print data=leuk;\r\nrun;\r\n\r\n\r\ndata groups;\r\nAGgroup=1; output;\r\nAGgroup=0; output;\r\nrun;\r\n\r\n/* Bayes Cox analysis of the leukemia data in SAS */\r\nods pdf; ods graphics on;\r\nproc phreg data=leuk plot(overlay)=survival;\r\n model y*delta(0)=AGgroup;\r\n baseline covariates=groups out=Pred survival=_all_;\r\n bayes nbi=1000 nmc=10000 thinning=5 plots=all\r\n coeffprior=uniform piecewise=hazard (ninterval=10 prior=improper);\r\nquit; ods graphics off; ods pdf close;\r\n* can also do one of several AR(1) models for piecewise hazard;\r\n* e.g. prior=argamma shape=1 scale=10;\r\n\r\nproc print data=Pred;\r\nrun;\r\n\r\n\r\n\r\n\r\n\r\n/* Cox MLE analysis of the leukemia data in SAS */\r\nods graphics on;\r\nproc phreg data=leuk plots(overlay)=survival;\r\n model Time*Status(0)=AGpos;\r\n baseline covariates=SurvCurves out=Pred1 survival=_all_ ;\r\n hazardratio AGpos;\r\nrun;\r\nods graphics off;\r\n\r\n\r\nproc print data=Pred1;\r\nrun;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n", "encoding": "ascii"}