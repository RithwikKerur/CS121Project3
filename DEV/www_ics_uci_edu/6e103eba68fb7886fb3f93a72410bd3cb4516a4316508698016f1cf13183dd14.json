{"url": "https://www.ics.uci.edu/~majumder/VC/211HW3/vlfeat/doc/overview/dsift.html", "content": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n   <html xmlns=\"http://www.w3.org/1999/xhtml\">\n <head>\n  <!-- IE Standards Mode -->\n  <meta content=\"IE=edge\" http-equiv=\"X-UA-Compatible\"></meta>\n\n  <!-- Favicon -->\n  <link href=\"../images/vl_blue.ico\" type=\"image/x-icon\" rel=\"icon\"></link>\n  <link href=\"../images/vl_blue.ico\" type=\"image/x-icon\" rel=\"shortcut icon\"></link>\n\n  <!-- Page title -->\n  <title>VLFeat - Tutorials > Dense SIFT</title>\n\n  <!-- Stylesheets -->\n  <link href=\"../vlfeat.css\" type=\"text/css\" rel=\"stylesheet\"></link>\n  <link href=\"../pygmentize.css\" type=\"text/css\" rel=\"stylesheet\"></link>\n  <style xml:space=\"preserve\">\n    /* fixes a conflict between Pygmentize and MathJax */\n    .MathJax .mo, .MathJax .mi {color: inherit ! important}\n  </style>\n  \n\n  <!-- Scripts-->\n  \n\n  <!-- MathJax -->\n  <script xml:space=\"preserve\" type=\"text/x-mathjax-config\">\n    MathJax.Hub.Config({\n    tex2jax: {\n      inlineMath: [ ['$','$'], ['\\\\(','\\\\)'] ],\n      processEscapes: true,\n    },\n    TeX: {\n      Macros: {\n        balpha: '\\\\boldsymbol{\\\\alpha}',\n        bc: '\\\\mathbf{c}',\n        be: '\\\\mathbf{e}',\n        bg: '\\\\mathbf{g}',\n        bq: '\\\\mathbf{q}',\n        bu: '\\\\mathbf{u}',\n        bv: '\\\\mathbf{v}',\n        bw: '\\\\mathbf{w}',\n        bx: '\\\\mathbf{x}',\n        by: '\\\\mathbf{y}',\n        bz: '\\\\mathbf{z}',\n        bsigma: '\\\\mathbf{\\\\sigma}',\n        sign: '\\\\operatorname{sign}',\n        diag: '\\\\operatorname{diag}',\n        real: '\\\\mathbb{R}',\n      },\n      equationNumbers: { autoNumber: 'AMS' }\n      }\n    });\n  </script>\n  <script src=\"http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML\" xml:space=\"preserve\" type=\"text/javascript\"></script>\n\n  <!-- Google Custom Search -->\n  <script xml:space=\"preserve\">\n    (function() {\n    var cx = '003215582122030917471:oq23albfeam';\n    var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;\n    gcse.src = (document.location.protocol == 'https' ? 'https:' : 'http:') +\n    '//www.google.com/cse/cse.js?cx=' + cx;\n    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);\n    })();\n  </script>\n\n  <!-- Google Analytics -->\n  <script xml:space=\"preserve\" type=\"text/javascript\">\n    var _gaq = _gaq || [];\n    _gaq.push(['_setAccount', 'UA-4936091-2']);\n    _gaq.push(['_trackPageview']);\n    (function() {\n    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;\n    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\n    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);\n    })();\n  </script>\n </head>\n\n <!-- Body Start -->\n <body>\n  <div id=\"header-section\">\n    <div id=\"header\">\n      <!-- Google CSE Search Box -->\n      <div class=\"searchbox\">\n        <gcse:searchbox-only autoCompleteMaxCompletions=\"5\" autoCompleteMatchType=\"any\" resultsUrl=\"http://www.vlfeat.org/search.html\"></gcse:searchbox-only>\n      </div>\n      <h1 id=\"id-16\"><a shape=\"rect\" href=\"../index.html\" class=\"plain\"><span id=\"vlfeat\">VLFeat</span><span id=\"dotorg\">.org</span></a></h1>\n    </div>\n    <div id=\"sidebar\"> <!-- Navigation Start -->\n      <ul>\n<li><a href=\"../index.html\">Home</a>\n<ul>\n<li><a href=\"../about.html\">About</a>\n</li>\n<li><a href=\"../license.html\">License</a>\n</li>\n</ul></li>\n<li><a href=\"../download.html\">Download</a>\n<ul>\n<li><a href=\"../install-matlab.html\">Using from MATLAB</a>\n</li>\n<li><a href=\"../install-octave.html\">Using from Octave</a>\n</li>\n<li><a href=\"../install-shell.html\">Using from the command line</a>\n</li>\n<li><a href=\"../install-c.html\">Using from C</a>\n<ul>\n<li><a href=\"../xcode.html\">Xcode</a>\n</li>\n<li><a href=\"../vsexpress.html\">Visual C++</a>\n</li>\n<li><a href=\"../gcc.html\">g++</a>\n</li>\n</ul></li>\n<li><a href=\"../compiling.html\">Compiling</a>\n<ul>\n<li><a href=\"../compiling-unix.html\">Compiling on UNIX-like platforms</a>\n</li>\n<li><a href=\"../compiling-windows.html\">Compiling on Windows</a>\n</li>\n</ul></li>\n</ul></li>\n<li class='active'><a href=\"tut.html\">Tutorials</a>\n<ul>\n<li><a href=\"frame.html\">Local feature frames</a>\n</li>\n<li><a href=\"covdet.html\">Covariant feature detectors</a>\n</li>\n<li><a href=\"hog.html\">HOG features</a>\n</li>\n<li><a href=\"sift.html\">SIFT detector and descriptor</a>\n</li>\n<li class='active' class='activeLeaf'><a href=\"dsift.html\">Dense SIFT</a>\n</li>\n<li><a href=\"liop.html\">LIOP local descriptor</a>\n</li>\n<li><a href=\"mser.html\">MSER feature detector</a>\n</li>\n<li><a href=\"imdisttf.html\">Distance transform</a>\n</li>\n<li><a href=\"encodings.html\">Fisher Vector and VLAD</a>\n</li>\n<li><a href=\"gmm.html\">Gaussian Mixture Models</a>\n</li>\n<li><a href=\"kmeans.html\">K-means clustering</a>\n</li>\n<li><a href=\"aib.html\">Agglomerative Infromation Bottleneck</a>\n</li>\n<li><a href=\"quickshift.html\">Quick shift superpixels</a>\n</li>\n<li><a href=\"slic.html\">SLIC superpixels</a>\n</li>\n<li><a href=\"svm.html#tut.svm\">Support Vector Machines (SVMs)</a>\n</li>\n<li><a href=\"kdtree.html\">KD-trees and forests</a>\n</li>\n<li><a href=\"plots-rank.html\">Plotting AP and ROC curves</a>\n</li>\n<li><a href=\"utils.html\">Miscellaneous utilities</a>\n</li>\n<li><a href=\"ikm.html\">Integer K-means</a>\n</li>\n<li><a href=\"hikm.html\">Hierarchical integer k-means</a>\n</li>\n</ul></li>\n<li><a href=\"../applications/apps.html\">Applications</a>\n</li>\n<li><a href=\"../doc.html\">Documentation</a>\n<ul>\n<li><a href=\"../matlab/matlab.html\">MATLAB API</a>\n</li>\n<li><a href=\"../api/index.html\">C API</a>\n</li>\n<li><a href=\"../man/man.html\">Man pages</a>\n<ul>\n<li><a href=\"../man/mser.html\">mser</a>\n</li>\n<li><a href=\"../man/sift.html\">sift</a>\n</li>\n<li><a href=\"../man/vlfeat.html\">vlfeat</a>\n</li>\n</ul></li>\n</ul></li>\n</ul>\n\n    </div> <!-- sidebar -->\n  </div>\n  <div id=\"headbanner-section\">\n    <div id=\"headbanner\">\n      <span class='page'><a href=\"tut.html\">Tutorials</a></span><span class='separator'>></span><span class='page'><a href=\"dsift.html\">Dense SIFT</a></span>\n    </div>\n  </div>\n  <div id=\"content-section\">\n    <div id=\"content-wrapper\">\n      <div id=\"content\">\n        \n    \n\n<div class='toc'>\n<h3>Table of Contents</h3><ul><li class=\"level1\"><a href=\"#tut.dsift.fast\">Dense SIFT as a faster SIFT</a></li>\n<li class=\"level1\"><a href=\"#tut.dsift.phow\">PHOW descriptors</a></li>\n<li class=\"level1\"><a href=\"#tut.dsift.references\">References</a></li>\n</ul>\n</div><!-- Table of contents -->\n\n\n<p>VLFeat implements a <a shape=\"rect\" href=\"../api/dsift.html\">fast dense version of\nSIFT</a>, called\n<code/><a href=../matlab/vl_dsift.html>vl_dsift</a></code>. The function is roughly equivalent to running\nSIFT on a dense gird of locations at a fixed scale and\norientation. This type of feature descriptors is often uses for object\ncategorization.</p>\n\n<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n<h1 id=\"tut.dsift.fast\">Dense SIFT as a faster SIFT</h1>\n<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\n<p>The main advantage of using <code/><a href=../matlab/vl_dsift.html>vl_dsift</a></code>\nover <code/><a href=../matlab/vl_sift.html>vl_sift</a></code> is speed. To see this, load a test image</p>\n\n<div class=\"highlight\"><pre><span class=\"n\">I</span> <span class=\"p\">=</span> <span class=\"n\">vl_impattern</span><span class=\"p\">(</span><span class=\"s\">&#39;roofs1&#39;</span><span class=\"p\">)</span> <span class=\"p\">;</span>\n<span class=\"n\">I</span> <span class=\"p\">=</span> <span class=\"n\">single</span><span class=\"p\">(</span><span class=\"n\">vl_imdown</span><span class=\"p\">(</span><span class=\"n\">rgb2gray</span><span class=\"p\">(</span><span class=\"n\">I</span><span class=\"p\">)))</span> <span class=\"p\">;</span>\n</pre></div>\n\n\n<p>To check the equivalence of <code/>vl_disft</code>\nand <code/><a href=../matlab/vl_sift.html>vl_sift</a></code> it is necessary to understand in detail how\nthe parameters of the two descriptors are related.</p>\n\n<ul>\n<li><p><b>Bin size vs keypoint scale</b>. DSIFT specifies the\ndescriptor size by a single parameter, <code/>size</code>, which controls\nthe size of a SIFT spatial bin in pixels. In the standard SIFT\ndescriptor, the bin size is related to the SIFT keypoint scale by a\nmultiplier, denoted <code/>magnif</code> below, which defaults\nto <code/>3</code>. As a consequence, a DSIFT descriptor with bin size\nequal to 5 corresponds to a SIFT keypoint of scale 5/3=1.66.</p></li>\n\n<li><p><b>Smoothing.</b> The SIFT descriptor smoothes the image\naccording to the scale of the keypoints (Gaussian scale space). By\ndefault, the smoothing is equivalent to a convolution by a Gaussian of\nvariance <code/>s^2 - .25</code>, where <code/>s</code> is the scale of\nthe keypoint and <code/>.25</code> is a nominal adjustment that\naccounts for the smoothing induced by the camera CCD.</p></li>\n</ul>\n\n<p>Thus the following code produces equivalent descriptors using\n  either DSIFT or SIFT:</p>\n\n<div class=\"highlight\"><pre><span class=\"n\">binSize</span> <span class=\"p\">=</span> <span class=\"mi\">8</span> <span class=\"p\">;</span>\n<span class=\"n\">magnif</span> <span class=\"p\">=</span> <span class=\"mi\">3</span> <span class=\"p\">;</span>\n<span class=\"n\">Is</span> <span class=\"p\">=</span> <span class=\"n\">vl_imsmooth</span><span class=\"p\">(</span><span class=\"n\">I</span><span class=\"p\">,</span> <span class=\"nb\">sqrt</span><span class=\"p\">((</span><span class=\"n\">binSize</span><span class=\"o\">/</span><span class=\"n\">magnif</span><span class=\"p\">)</span>^<span class=\"mi\">2</span> <span class=\"o\">-</span> <span class=\"p\">.</span><span class=\"mi\">25</span><span class=\"p\">))</span> <span class=\"p\">;</span>\n\n<span class=\"p\">[</span><span class=\"n\">f</span><span class=\"p\">,</span> <span class=\"n\">d</span><span class=\"p\">]</span> <span class=\"p\">=</span> <span class=\"n\">vl_dsift</span><span class=\"p\">(</span><span class=\"n\">Is</span><span class=\"p\">,</span> <span class=\"s\">&#39;size&#39;</span><span class=\"p\">,</span> <span class=\"n\">binSize</span><span class=\"p\">)</span> <span class=\"p\">;</span>\n<span class=\"n\">f</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,:)</span> <span class=\"p\">=</span> <span class=\"n\">binSize</span><span class=\"o\">/</span><span class=\"n\">magnif</span> <span class=\"p\">;</span>\n<span class=\"n\">f</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,:)</span> <span class=\"p\">=</span> <span class=\"mi\">0</span> <span class=\"p\">;</span>\n<span class=\"p\">[</span><span class=\"n\">f_</span><span class=\"p\">,</span> <span class=\"n\">d_</span><span class=\"p\">]</span> <span class=\"p\">=</span> <span class=\"n\">vl_sift</span><span class=\"p\">(</span><span class=\"n\">I</span><span class=\"p\">,</span> <span class=\"s\">&#39;frames&#39;</span><span class=\"p\">,</span> <span class=\"n\">f</span><span class=\"p\">)</span> <span class=\"p\">;</span>\n</pre></div>\n\n\n<p>The difference, of course, is that DSIFT is much faster.</p>\n\n<div class=\"figure\">\n <img src=\"../demo/dsift_accuracy.jpg\"></img>\n <img src=\"../demo/dsift_speedup.jpg\"></img>\n <div class=\"caption\">\n  <span class=\"content\">\n    Left: accuracy of the slow and fast dense SIFT implementations in\n    <code/><a href=../matlab/vl_dsift.html>vl_dsift</a></code> compared to the SIFT baseline from <code/>\n    vl_sift</code>. Right: speedup. The fast version is less similar\n    to the original SIFT descriptors but from 30 to 70 times faster\n    than SIFT. Notice that the equivalence of the descriptors does not\n    necessarily indicate that one would work better than the other in\n    applications.\n  </span>\n </div>\n</div>\n\n<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n<h1 id=\"tut.dsift.phow\">PHOW descriptors</h1>\n<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\n<p>The PHOW features <a shape=\"rect\" href=\"#ref1\">[1]</a> are a variant of dense\nSIFT descriptors, extracted at multiple scales. A color version, named\nPHOW-color, extracts descriptors on the three HSV image channels and\nstacks them up. A combination of <code/><a href=../matlab/vl_dsift.html>vl_dsift</a></code>\nand <code/><a href=../matlab/vl_imsmooth.html>vl_imsmooth</a></code> can be used to easily and efficiently\ncompute such features.</p>\n\n<p>VLFeat includes a simple wrapper, <code/><a href=../matlab/vl_phow.html>vl_phow</a></code>, that does\nexactly this:</p>\n\n<div class=\"highlight\"><pre><span class=\"n\">im</span> <span class=\"p\">=</span> <span class=\"n\">vl_impattern</span><span class=\"p\">(</span><span class=\"s\">&#39;roofs1&#39;</span><span class=\"p\">)</span> <span class=\"p\">;</span>\n<span class=\"p\">[</span><span class=\"n\">frames</span><span class=\"p\">,</span> <span class=\"n\">descrs</span><span class=\"p\">]=</span><span class=\"n\">vl_phow</span><span class=\"p\">(</span><span class=\"n\">im2single</span><span class=\"p\">(</span><span class=\"n\">im</span><span class=\"p\">))</span> <span class=\"p\">;</span>\n</pre></div>\n\n\n<p>Note that this typically generate a very large number of features.\nIn this example, there are 162,574 features.</p>\n\n<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n<h1 id=\"tut.dsift.references\">References</h1>\n<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->\n\n<ul>\n  <li id=\"ref1\">[1] A. Bosch, A. Zisserman, and X. Munoz. <em>Image\n  classifcation using random forests and ferns.</em> In Proc. ICCV,\n  2007.\n</li>\n</ul>\n\n\n  \n      </div>\n      <div class=\"clear\">&nbsp;</div>\n    </div>\n  </div> <!-- content-section -->\n  <div id=\"footer-section\">\n    <div id=\"footer\">\n      &copy; 2007-13 The authors of VLFeat\n    </div> <!-- footer -->\n  </div> <!-- footer section -->\n </body>\n <!-- Body ends -->\n</html>\n ", "encoding": "ascii"}