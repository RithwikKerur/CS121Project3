{"url": "https://www.ics.uci.edu/~dan/class/267P/rfc2301/chapter7.html", "content": "<html>\n   <head>\n      <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n   \n      <title>Zvon - RFC 2301 - Lossless Color Mode</title>\n      <link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\">\n   </head>\n   <body>\n      <table width=\"100%\" class=\"hangingMenu\">\n         <tr>\n            <td style=\"text-align:right\"><a class=\"naviBlack\" target=\"_top\" href=\"http://www.zvon.org\">ZVON</a> &gt; <a class=\"naviBlack\" target=\"_top\" href=\"http://zvon.org/tmRFC/RFC_share/Output/index.html\">RFC Repository</a> &gt; <b>RFC 2301</b></td>\n         </tr>\n      </table>\n      <table class=\"bar\" width=\"750px\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n         <tr>\n            <td class=\"naviBlue\"><a class=\"naviWhite\" target=\"_top\" href=\"index.html\"> Frontpage </a> / <a class=\"naviWhite\" href=\"longContents.html\"> Contents </a></td>\n         </tr>\n      </table>\n      <table class=\"hangingMenu\" border=\"0\" cellpadding=\"1\" cellspacing=\"0\" width=\"100%\">\n         <tr>\n            <td><a class=\"naviBlack\" href=\"chapter6.html\">Prev</a> | <a class=\"naviBlack\" href=\"chapter8.html\">Next</a> | <a class=\"naviBlack\" target=\"_top\" href=\"http://zvon.org/tmRFC/RFC_share/Output/index.html\">RFC index</a> | <a class=\"naviBlack\" target=\"mainWindow\" href=\"http://zvon.org/tmRFC/RFC_share/PHP/titleSearch.php\">RFC search</a></td>\n            <td><a class=\"naviBlack\" target=\"mainWindow\" href=\"http://zvon.org/tmRFC/RFC_share/PHP/download.php?rfc=2301\">Download as zip/tar.gz</a></td>\n         </tr>\n      </table>\n      <h2>7. Lossless Color Mode</h2><pre>\n   This section defines the lossless color mode or Profile L of TIFF for\n   facsimile. Implementations of this profile are required to also\n   implement Profiles S and C.\n</pre><a name=\"sub1\"></a><h3>7.1. Overview</h3>\n      \n      <pre>\n   This mode, defined in [<a title=\"ITU-T Recommendation T.43, Colour and gray-scale image representations using lossless coding scheme for facsimile, February 1997\" href=\"chapter11.html#T.43\">T.43</a>], uses JBIG to losslessly code three\n   types of color and grayscale images: one bit per color CMY, CMYK and\n   RGB images; a palettized (i.e. mapped) color image; and continuous\n   tone color and grayscale images. The last two are multi-level and use\n   the L*a*b* encoding specified in [<a title=\"ITU-T Recommendation T.42, Continuous-tone colour representation method for facsimile, February 1996\" href=\"chapter11.html#T.42\">T.42</a>].\n</pre>\n      <a name=\"sub1sub1\"></a><h3>7.1.1. Color Encoding</h3>\n      \n      <pre>\n   While under development, this mode was called T.Palette, as one of\n   its major additions was palette or mapped color images. Baseline TIFF\n   only allows RGB color maps, but ITU-T Rec. T.43 requires L*a*b* color\n   maps, using the encoding specified in ITU-T Rec. T.42. Palette color\n   images are expressed with indices (bits per sample) of 12 bits or\n   less, or optionally 13 to 16 bits, per [<a title=\"ITU-T Recommendation T.43, Colour and gray-scale image representations using lossless coding scheme for facsimile, February 1997\" href=\"chapter11.html#T.43\">T.43</a>].\n\n   Enabling T.43 color maps in TIFF requires the extension field\n   Indexed, defined in [<a title=\"Adobe PageMaker 6.0 TIFF Technical Notes, Sept. 14, 1995, http://www.adobe.com/supportservice/devrelations/PDFS/TN/TIFFPM6.pdf\" href=\"chapter11.html#TTN1\">TTN1</a>], and the PhotometricInterpretation field\n   value 10, defined in Section 6.2.1. The following table shows the\n   corresponding PhotometricInterpretation, SamplesPerPixel,\n   BitsPerSample and Indexed field values for the different T.43 image\n   types.\n\n       +----------------------------------------------------------+\n       | Image Type |PhotometricIn| Samples  | Bits Per | Indexed |\n       |            |-terpretation| PerPixel |  Sample  |         |\n       |------------+-------------+----------+----------+---------|\n       |     RGB    |    2=RGB    |     3    |    1     |    0    |\n       +----------------------------------------------------------+\n       |     CMY    |    5=CMYK   |     3    |    1     |    0    |\n       +------------+-------------+----------+----------+---------+\n       |     CMYK   |    5=CMYK   |     4    |    1     |    0    |\n       +------------+-------------+----------+----------+---------+\n       |   Palette  |  10=ITULAB  |     1    |    n     |    1    |\n       +------------+-------------+----------+----------+---------+\n       |  Grayscale |  10=ITULAB  |     1    |   8, 12  |    0    |\n       +------------+-------------+----------+----------+---------+\n       |    Color   |  10=ITULAB  |     3    |   8, 12  |    0    |\n       +------------+-------------+----------+----------+---------+\n</pre>\n      \n      <a name=\"sub1sub2\"></a><h3>7.1.2. JBIG Encoding</h3>\n      \n      <pre>\n   T.43 uses the single-progression sequential mode of JBIG, defined in\n   ITU-T Rec. T.82. To code multi-level images using JBIG, which is a\n   bi-level compression method, an image is resolved into a set of bit-\n   planes, and each bit-plane is then JBIG compressed. For continuous\n   tone color and grayscale images, Gray code conversion is used. The\n\n   Gray code conversion is part of the data stream encoding, and is\n   therefore invisible to TIFF.\n</pre>\n      \n      <a name=\"sub2\"></a><h3>7.2. Required TIFF Fields</h3>\n      \n      <pre>\n   This section lists the required fields, in addition to those in\n   Section 2.2.1, and the values they must have to be compatible with\n   ITU-T Rec. T.43.\n</pre>\n      <a name=\"sub2sub1\"></a><h3>7.2.1. Baseline Fields</h3>\n      \n      <pre>\n\nImageWidth(256).                                           SHORT or LONG\n    Same page widths as the base color mode; see Section 6.2.1.\n\nNewSubFileType(254) = (Bit 1=1).                                    LONG\n    RequiredByTIFFforFAX\n    Bit 1 is 1 if the image is a single page of a multi-page document.\n    Default = 0 (no subfile bits on, so may not be omitted for fax)\n\nBitsPerSample(258) = 1, 2-8, 9-16.                                 SHORT\n    Count = SamplesPerPixel\n    RGB, CMY, CMYK: 1 bit per sample\n    Continuous tone (L*a*b*): 2-8 bits per sample, 9-12 bits optional\n    Palette color: 12 or fewer bits per sample, 13-16 bits optional\n    Note: More than 8 bits per sample is not baseline TIFF.\n\nColorMap(320).                                                     SHORT\n    Count = 3 * number of sample values\n    Lossless color fax mode supports palette-color (indexed) images\n    where the single component value is used as an index into a full\n    color lookup table stored in the ColorMap field. The sample value is\n    encoded using the number of bits given by the BitsPerSample field\n    value. However, per [<a title=\"ITU-T Recommendation T.43, Colour and gray-scale image representations using lossless coding scheme for facsimile, February 1997\" href=\"chapter11.html#T.43\">T.43</a>],the number of sample values may be less\n    than 2**BitsPerSample. The color lookup table is only required to\n    have as many entries as there are number of sample values. For\n    palette-color images in lossless color fax mode, the ITULAB encoding\n    with 8 or optionally 12 bits per color map value is supported. To\n    utilize a color map, the TIFF Indexed field must be present. TIFF\n    orders the color map values so that all the L* values come first,\n    followed by all the a* values and then all the b* values. Because\n    ITU-T Rec. T.43 specifies a \"chunky\" ordering with the L*a*b*\n    components of the first value, followed by those of the second\n    value, and so on, reproducing color map values from a fax data\n    stream in a TIFF file requires reordering values.\n\nCompression(259) = 10.                                             SHORT\n10: ITU-T Rec. T.43 representation, using ITU-T Rec. T.82 (JBIG)\n    coding\n\nFillOrder(266) = 1 , 2.                                            SHORT\n    RequiredByTIFFBaseline\n    Profile F readers must be able to read data in both bit orders,\n    but the vast majority of facsimile products store data LSB\n    first, exactly as it appears on the telephone line.\n              1 = Most Significant Bit first.\n              2 = Least Significant Bit first\n\nPhotometricInterpretation(262) = 2, 5, 10.                         SHORT\n    2: RGB\n    5: CMYK, including CMY\n    10: ITULAB\n    Image data may also be stored as palette color images, where pixel\n    values are represented by a single component that is an index into a\n    color map using the ITULAB encoding. This color map is specified by\n    the ColorMap field. To use palette color images, set the\n    PhotometricInterpretation to 10,SamplesPerPixel to 1, and Indexed to\n    1. The color map is stored in the ColorMap field. See Section 7.1.1\n    for further discussion on the color encoding.\n\nResolutionUnit(296) = 2, 3.                                        SHORT\n    The unit of measure for resolution. 2 = inch, 3 = centimeter;\n    Default = 2 (field may be omitted if this is the value)\n\nSamplesPerPixel(277) = 1, 3, 4.                                    SHORT\n    1: Palette color image, or L*-only if Indexed = 0 and\n       PhotometricInterpretation is 10 (ITULAB).\n    3: RGB, or L*a*b*, or CMY if PhotometricInterpretation is 5 (CMYK).\n    4: CMYK.\n\nXResolution(282) = 100, 200, 300, 400.                          RATIONAL\nYResolution(283) = 100, 200, 300, 400.                          RATIONAL\n    The resolution of the image is expressed in pixels per resolution\n    unit. In pixels per inch, allowed XResolution values are: 100, 200,\n    300, and 400. The lossless color fax mode requires the pixels to be\n    square, hence YResolution must equal XResolution. Base resolution is\n    200 pixels per inch. See Section 2.2.2 for inch-metric equivalency.\n</pre>\n      \n      <a name=\"sub2sub2\"></a><h3>7.2.2. Extension Fields</h3>\n      \n      <pre>\n\nIndexed(364) = 0, 1.                                               SHORT\n    0: not a palette-color image\n    1: palette-color image\n    This field is used to indicate that each sample value is an index\n    into an array of color values specified in the ColorMap field.\n    Lossless color fax mode supports palette-color images with the\n    ITULAB encoding. The SamplesPerPixel value must be 1.\n</pre>\n      \n      <a name=\"sub2sub3\"></a><h3>7.2.3. New Fields</h3>\n      \n      <pre>\nDecode(433)                                                    SRATIONAL\n    Decode is used in connection with the ITULAB encoding of image data\n    and color map values; see Section 6.2.3.\n</pre>\n      \n      <a name=\"sub3\"></a><h3>7.3. Recommended TIFF Fields</h3>\n      \n      <pre>\n   See Sections 2.2.3. and 2.2.4.\n</pre>\n      <a name=\"sub4\"></a><h3>7.4. Lossless Color Fax Mode Summary</h3>\n      \n      <pre>\n   Recommended fields are shown with an asterisk *.\n\n        +--------------------+--------------------------------------+\n        |   Baseline Fields  |             Values                   |\n        +--------------------+--------------------------------------+\n        | BitsPerSample      | 1: Binary RGB, CMY(K)                |\n        |                    | 8: 8 bits per color sample           |\n        |                    | 9-16: optional                       |\n        +--------------------+--------------------------------------+\n        | ColorMap           | n: LAB color map                     |\n        +--------------------+--------------------------------------+\n        | Compression        | 10: JBIG, per T.43                   |\n        +--------------------+--------------------------------------+\n        | DateTime*          | {ASCII}:  date/time in the 24-hour   |\n        |                    | format \"YYYY:MM:DD HH:MM:SS\"         |\n        +--------------------+--------------------------------------+\n        | FillOrder**        | 1: Most significant bit first        |\n        |                    | 2: Least significant bit first       |\n        +--------------------+--------------------------------------+\n        | ImageDescription*  | {ASCII}: A string describing the     |\n        |                    | contents of the image.               |\n        +--------------------+--------------------------------------+\n        | ImageWidth         | 864, 1024, 1216, 1728**, 2048, 2432, |\n        |                    | 2592, 3072, 3456, 3648, 4096, 4864   |\n        +--------------------+--------------------------------------+\n        | ImageLength**      | n: total number of scanlines in image|\n        +--------------------+--------------------------------------+\n        | NewSubFileType     | 2: Bit 1 identifies single page of a |\n        |                    | multi-page document                  |\n        +--------------------+--------------------------------------+\n        | Orientation        | 1**-8, Default 1                     |\n        +--------------------+--------------------------------------+\n        | PhotometricInter-  | 2: RGB                               |\n        | pretation          | 5: CMYK                              |\n        |                    | 10: ITULAB                           |\n        +--------------------+--------------------------------------+\n\n        +--------------------+--------------------------------------+\n        | ResolutionUnit     | 2: inch                              |\n        |                    | 3: centimeter                        |\n        +--------------------+--------------------------------------+\n        | RowsPerStrip       | n: number of scanlines per TIFF strip|\n        +--------------------+--------------------------------------+\n        | SamplesPerPixel    | 1: L* (lightness)                    |\n        |                    | 3: LAB, RGB, CMY                     |\n        |                    | 4: CMYK                              |\n        +--------------------+--------------------------------------+\n        | Software*          | {ASCII}: name &amp; release number of    |\n        |                    | creator software                     |\n        +--------------------+--------------------------------------+\n        | StripByteCounts    | &lt;n&gt;: number or bytes in TIFF strip   |\n        +--------------------+--------------------------------------+\n        | StripOffsets       | &lt;n&gt;: offset from beginning of file to|\n        |                    | each TIFF strip                      |\n        +--------------------+--------------------------------------+\n        | XResolution        | 100, 200, 300, 400 (written in       |\n        |                    | pixels/inch)                         |\n        +--------------------+--------------------------------------+\n        | YResolution        | equal to XResolution (pixels must be |\n        |                    | square)                              |\n        +--------------------+--------------------------------------+\n        | Extension Fields                                          |\n        +--------------------+--------------------------------------+\n        | DocumentName*      | {ASCII}: name of scanned document    |\n        +--------------------+--------------------------------------+\n        | PageNumber         | n,m: page number followed by total   |\n        |                    | page count                           |\n        +--------------------+--------------------------------------+\n        | Indexed            | 0: not a palette-color image         |\n        |                    | 1: palette-color image               |\n        +--------------------+--------------------------------------+\n        | New Fields                                                |\n        +--------------------+--------------------------------------|\n        | Decode             | minL, maxL, mina, maxa, minb, maxb:  |\n        |                    |minimum and maximum values for L*a*b* |\n        +--------------------+--------------------------------------+\n        | GlobalParameters   | IFD: global parameters IFD           |\n        | IFD*               |                                      |\n        +-----------------------------------------------------------+\n\n        +--------------------+--------------------------------------+\n        | ProfileType*       | n: type of data stored in TIFF file  |\n        +--------------------+--------------------------------------+\n        | FaxProfile*        | n: ITU-compatible fax mode           |\n        +--------------------+--------------------------------------+\n        | CodingMethods*     | n:compression algorithms used in     |\n        |                    | file                                 |\n        +--------------------+--------------------------------------+\n        | VersionYear*       | byte sequence: year of ITU fax std   |\n        +--------------------+--------------------------------------+\n</pre>\n      <p></p>\n      <table width=\"100%\" class=\"hangingMenu\">\n         <tr>\n            <td style=\"text-align:right\"><a class=\"naviBlack\" target=\"_top\" href=\"http://www.zvon.org\">ZVON</a> &gt; <a class=\"naviBlack\" target=\"_top\" href=\"http://zvon.org/tmRFC/RFC_share/Output/index.html\">RFC Repository</a> &gt; <b>RFC 2301</b></td>\n         </tr>\n      </table>\n      <table class=\"bar\" width=\"750px\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n         <tr>\n            <td class=\"naviBlue\"><a class=\"naviWhite\" target=\"_top\" href=\"index.html\"> Frontpage </a> / <a class=\"naviWhite\" href=\"longContents.html\"> Contents </a></td>\n         </tr>\n      </table>\n      <table class=\"hangingMenu\" border=\"0\" cellpadding=\"1\" cellspacing=\"0\" width=\"100%\">\n         <tr>\n            <td><a class=\"naviBlack\" href=\"chapter6.html\">Prev</a> | <a class=\"naviBlack\" href=\"chapter8.html\">Next</a> | <a class=\"naviBlack\" target=\"_top\" href=\"http://zvon.org/tmRFC/RFC_share/Output/index.html\">RFC index</a> | <a class=\"naviBlack\" target=\"mainWindow\" href=\"http://zvon.org/tmRFC/RFC_share/PHP/titleSearch.php\">RFC search</a></td>\n            <td><a class=\"naviBlack\" target=\"mainWindow\" href=\"http://zvon.org/tmRFC/RFC_share/PHP/download.php?rfc=2301\">Download as zip/tar.gz</a></td>\n         </tr>\n      </table>\n   </body>\n</html>", "encoding": "ascii"}