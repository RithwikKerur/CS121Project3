{"url": "https://www.ics.uci.edu/~dechter/courses/ics-275a/fall-99/slides/node235.html", "content": "<!DOCTYPE HTML PUBLIC \"-//W3O//DTD W3 HTML 2.0//EN\">\r\n<!Converted with LaTeX2HTML 95.1 (Fri Jan 20 1995) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds >\r\n<HEAD>\r\n<TITLE> Suspending with External Predicates</TITLE>\r\n</HEAD>\r\n<BODY>\r\n<meta name=\"description\" value=\" Suspending with External Predicates\">\r\n<meta name=\"keywords\" value=\"umsroot\">\r\n<meta name=\"resource-type\" value=\"document\">\r\n<meta name=\"distribution\" value=\"global\">\r\n<P>\r\n <BR> <HR><A NAME=tex2html5064 HREF=\"node236.html\"><IMG ALIGN=BOTTOM ALT=\"next\" SRC=\"http://www.ecrc.de/eclipse/new_icons//next_motif.gif\"></A>   <A NAME=tex2html5062 HREF=\"node215.html\"><IMG ALIGN=BOTTOM ALT=\"up\" SRC=\"http://www.ecrc.de/eclipse/new_icons//up_motif.gif\"></A>   <A NAME=tex2html5058 HREF=\"node234.html\"><IMG ALIGN=BOTTOM ALT=\"previous\" SRC=\"http://www.ecrc.de/eclipse/new_icons//previous_motif.gif\"></A>      <A NAME=tex2html5066 HREF=\"node321.html\"><IMG ALIGN=BOTTOM ALT=\"index\" SRC=\"http://www.ecrc.de/eclipse/new_icons//index_motif.gif\"></A>   <BR>\r\n<B> Next:</B> <A NAME=tex2html5065 HREF=\"node236.html\"> Profiling Prolog Execution</A>\r\n<B>Up:</B> <A NAME=tex2html5063 HREF=\"node215.html\"> External Language Interface</A>\r\n<B> Previous:</B> <A NAME=tex2html5059 HREF=\"node234.html\"> Nondeterministic Externals</A>\r\n<BR> <HR> <P>\r\n<H1><A NAME=SECTION001960000000000000000> Suspending with External Predicates</A></H1>\r\n<P>\r\n<A NAME=externaldelay>&#160;</A>\r\nAs already mentioned earlier, external predicates can also be\r\nsuspended.\r\nThe macro\r\n<blockquote> <PRE>Mark_Suspending_Variable(var)\r\n</PRE></blockquote>\r\n<A NAME=3691>&#160;</A>\r\nis used to mark a variable which is not instantiated\r\nand therefore responsible for suspending a call.\r\n<tt> var</tt> is a pointer to the variable.\r\nIf this macro is used in a normal external predicate which\r\nitself will delay, it must return to the system\r\nusing the macro\r\n<blockquote> <PRE>Delay\r\n</PRE></blockquote>\r\n<A NAME=3695>&#160;</A>\r\n<P>\r\nFor example, we could define a predicate\r\n<b> atomd/1</b> which is like <b> atom/1</b> but\r\ninstead of failing it delays\r\nif its argument is not instantiated:\r\n<blockquote> <PRE>p_atomd(v1, t1)\r\nvalue               v1;\r\ntype                t1;\r\n{\r\n        if (IsRef(t1))\r\n        {\r\n                Mark_Suspending_Variable(v1.ptr);\r\n                Delay;\r\n        }\r\n        else\r\n                Succeed_If(IsAtom(t1));\r\n}\r\n</PRE>\r\n</blockquote><BR> <HR>\r\n<P><ADDRESS>\r\n<I>Micha Meier <BR>\r\nMon Mar  4 12:11:45 MET 1996</I>\r\n</ADDRESS>\r\n</BODY>\r\n", "encoding": "ascii"}