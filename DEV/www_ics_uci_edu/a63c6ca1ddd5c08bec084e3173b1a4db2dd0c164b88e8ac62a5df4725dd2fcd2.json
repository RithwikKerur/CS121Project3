{"url": "https://www.ics.uci.edu/~majumder/VC/211HW3/vlfeat/doc/overview/imdisttf.html", "content": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n   <html xmlns=\"http://www.w3.org/1999/xhtml\">\n <head>\n  <!-- IE Standards Mode -->\n  <meta content=\"IE=edge\" http-equiv=\"X-UA-Compatible\"></meta>\n\n  <!-- Favicon -->\n  <link href=\"../images/vl_blue.ico\" type=\"image/x-icon\" rel=\"icon\"></link>\n  <link href=\"../images/vl_blue.ico\" type=\"image/x-icon\" rel=\"shortcut icon\"></link>\n\n  <!-- Page title -->\n  <title>VLFeat - Tutorials > Distance transform</title>\n\n  <!-- Stylesheets -->\n  <link href=\"../vlfeat.css\" type=\"text/css\" rel=\"stylesheet\"></link>\n  <link href=\"../pygmentize.css\" type=\"text/css\" rel=\"stylesheet\"></link>\n  <style xml:space=\"preserve\">\n    /* fixes a conflict between Pygmentize and MathJax */\n    .MathJax .mo, .MathJax .mi {color: inherit ! important}\n  </style>\n  \n\n  <!-- Scripts-->\n  \n\n  <!-- MathJax -->\n  <script xml:space=\"preserve\" type=\"text/x-mathjax-config\">\n    MathJax.Hub.Config({\n    tex2jax: {\n      inlineMath: [ ['$','$'], ['\\\\(','\\\\)'] ],\n      processEscapes: true,\n    },\n    TeX: {\n      Macros: {\n        balpha: '\\\\boldsymbol{\\\\alpha}',\n        bc: '\\\\mathbf{c}',\n        be: '\\\\mathbf{e}',\n        bg: '\\\\mathbf{g}',\n        bq: '\\\\mathbf{q}',\n        bu: '\\\\mathbf{u}',\n        bv: '\\\\mathbf{v}',\n        bw: '\\\\mathbf{w}',\n        bx: '\\\\mathbf{x}',\n        by: '\\\\mathbf{y}',\n        bz: '\\\\mathbf{z}',\n        bsigma: '\\\\mathbf{\\\\sigma}',\n        sign: '\\\\operatorname{sign}',\n        diag: '\\\\operatorname{diag}',\n        real: '\\\\mathbb{R}',\n      },\n      equationNumbers: { autoNumber: 'AMS' }\n      }\n    });\n  </script>\n  <script src=\"http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML\" xml:space=\"preserve\" type=\"text/javascript\"></script>\n\n  <!-- Google Custom Search -->\n  <script xml:space=\"preserve\">\n    (function() {\n    var cx = '003215582122030917471:oq23albfeam';\n    var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;\n    gcse.src = (document.location.protocol == 'https' ? 'https:' : 'http:') +\n    '//www.google.com/cse/cse.js?cx=' + cx;\n    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);\n    })();\n  </script>\n\n  <!-- Google Analytics -->\n  <script xml:space=\"preserve\" type=\"text/javascript\">\n    var _gaq = _gaq || [];\n    _gaq.push(['_setAccount', 'UA-4936091-2']);\n    _gaq.push(['_trackPageview']);\n    (function() {\n    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;\n    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\n    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);\n    })();\n  </script>\n </head>\n\n <!-- Body Start -->\n <body>\n  <div id=\"header-section\">\n    <div id=\"header\">\n      <!-- Google CSE Search Box -->\n      <div class=\"searchbox\">\n        <gcse:searchbox-only autoCompleteMaxCompletions=\"5\" autoCompleteMatchType=\"any\" resultsUrl=\"http://www.vlfeat.org/search.html\"></gcse:searchbox-only>\n      </div>\n      <h1 id=\"id-16\"><a shape=\"rect\" href=\"../index.html\" class=\"plain\"><span id=\"vlfeat\">VLFeat</span><span id=\"dotorg\">.org</span></a></h1>\n    </div>\n    <div id=\"sidebar\"> <!-- Navigation Start -->\n      <ul>\n<li><a href=\"../index.html\">Home</a>\n<ul>\n<li><a href=\"../about.html\">About</a>\n</li>\n<li><a href=\"../license.html\">License</a>\n</li>\n</ul></li>\n<li><a href=\"../download.html\">Download</a>\n<ul>\n<li><a href=\"../install-matlab.html\">Using from MATLAB</a>\n</li>\n<li><a href=\"../install-octave.html\">Using from Octave</a>\n</li>\n<li><a href=\"../install-shell.html\">Using from the command line</a>\n</li>\n<li><a href=\"../install-c.html\">Using from C</a>\n<ul>\n<li><a href=\"../xcode.html\">Xcode</a>\n</li>\n<li><a href=\"../vsexpress.html\">Visual C++</a>\n</li>\n<li><a href=\"../gcc.html\">g++</a>\n</li>\n</ul></li>\n<li><a href=\"../compiling.html\">Compiling</a>\n<ul>\n<li><a href=\"../compiling-unix.html\">Compiling on UNIX-like platforms</a>\n</li>\n<li><a href=\"../compiling-windows.html\">Compiling on Windows</a>\n</li>\n</ul></li>\n</ul></li>\n<li class='active'><a href=\"tut.html\">Tutorials</a>\n<ul>\n<li><a href=\"frame.html\">Local feature frames</a>\n</li>\n<li><a href=\"covdet.html\">Covariant feature detectors</a>\n</li>\n<li><a href=\"hog.html\">HOG features</a>\n</li>\n<li><a href=\"sift.html\">SIFT detector and descriptor</a>\n</li>\n<li><a href=\"dsift.html\">Dense SIFT</a>\n</li>\n<li><a href=\"liop.html\">LIOP local descriptor</a>\n</li>\n<li><a href=\"mser.html\">MSER feature detector</a>\n</li>\n<li class='active' class='activeLeaf'><a href=\"imdisttf.html\">Distance transform</a>\n</li>\n<li><a href=\"encodings.html\">Fisher Vector and VLAD</a>\n</li>\n<li><a href=\"gmm.html\">Gaussian Mixture Models</a>\n</li>\n<li><a href=\"kmeans.html\">K-means clustering</a>\n</li>\n<li><a href=\"aib.html\">Agglomerative Infromation Bottleneck</a>\n</li>\n<li><a href=\"quickshift.html\">Quick shift superpixels</a>\n</li>\n<li><a href=\"slic.html\">SLIC superpixels</a>\n</li>\n<li><a href=\"svm.html#tut.svm\">Support Vector Machines (SVMs)</a>\n</li>\n<li><a href=\"kdtree.html\">KD-trees and forests</a>\n</li>\n<li><a href=\"plots-rank.html\">Plotting AP and ROC curves</a>\n</li>\n<li><a href=\"utils.html\">Miscellaneous utilities</a>\n</li>\n<li><a href=\"ikm.html\">Integer K-means</a>\n</li>\n<li><a href=\"hikm.html\">Hierarchical integer k-means</a>\n</li>\n</ul></li>\n<li><a href=\"../applications/apps.html\">Applications</a>\n</li>\n<li><a href=\"../doc.html\">Documentation</a>\n<ul>\n<li><a href=\"../matlab/matlab.html\">MATLAB API</a>\n</li>\n<li><a href=\"../api/index.html\">C API</a>\n</li>\n<li><a href=\"../man/man.html\">Man pages</a>\n<ul>\n<li><a href=\"../man/mser.html\">mser</a>\n</li>\n<li><a href=\"../man/sift.html\">sift</a>\n</li>\n<li><a href=\"../man/vlfeat.html\">vlfeat</a>\n</li>\n</ul></li>\n</ul></li>\n</ul>\n\n    </div> <!-- sidebar -->\n  </div>\n  <div id=\"headbanner-section\">\n    <div id=\"headbanner\">\n      <span class='page'><a href=\"tut.html\">Tutorials</a></span><span class='separator'>></span><span class='page'><a href=\"imdisttf.html\">Distance transform</a></span>\n    </div>\n  </div>\n  <div id=\"content-section\">\n    <div id=\"content-wrapper\">\n      <div id=\"content\">\n        \n    \n\n<p>The distance transform of an image <code/>image</code> is defined\n  as</p>\n\n<pre xml:space=\"preserve\">\n  dt(u,v) = min  image(u',v') + alpha (u'-u-u0)^2 + beta (v'-v'-v0)^2\n            u'v'\n</pre>\n\n<p>The most common use of the image distance transform is to propagate\nthe response of a feature detector to nearby image locations. This is\nused, for example, in the implementation of certain deformable part\nmodels or the computation of the Chamfer distance. In this tutorial,\nthe image distance transform is used to compute the distance of each\nimage pixel to the nearest element in an edge map, obtained from the\nCanny's edge detector. The code of this tutorial is located in the\nVLFeat folder in <code/>toolbox/demo/vl_demo_imdisttf.m</code>.</p>\n\n<p><b>VLFeat</b> implements the fast distance transform algorithm of\nFelzenszwalb and Huttelnocher <a shape=\"rect\" href=\"#ref1\">[1]</a>, which has a\nlinear time complexity in the number of image pixels.</p>\n\n<p>Consider the edge map extracted by the MATLAB built-in Canny edge\ndetector on one of VLFeat test images:</p>\n\n<div class=\"highlight\"><pre><span class=\"n\">im</span> <span class=\"p\">=</span> <span class=\"n\">vl_impattern</span><span class=\"p\">(</span><span class=\"s\">&#39;roofs1&#39;</span><span class=\"p\">)</span> <span class=\"p\">;</span>\n<span class=\"n\">im</span> <span class=\"p\">=</span> <span class=\"n\">im</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">:</span><span class=\"mi\">100</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">:</span><span class=\"mi\">100</span><span class=\"p\">,:)</span> <span class=\"p\">;</span>\n<span class=\"n\">imSize</span> <span class=\"p\">=</span> <span class=\"p\">[</span><span class=\"nb\">size</span><span class=\"p\">(</span><span class=\"n\">im</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"nb\">size</span><span class=\"p\">(</span><span class=\"n\">im</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">)]</span> <span class=\"p\">;</span>\n<span class=\"n\">edges</span> <span class=\"p\">=</span> <span class=\"nb\">zeros</span><span class=\"p\">(</span><span class=\"n\">imSize</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"nb\">inf</span><span class=\"p\">;</span>\n<span class=\"n\">edges</span><span class=\"p\">(</span><span class=\"n\">edge</span><span class=\"p\">(</span><span class=\"n\">rgb2gray</span><span class=\"p\">(</span><span class=\"n\">im</span><span class=\"p\">),</span> <span class=\"s\">&#39;canny&#39;</span><span class=\"p\">))</span> <span class=\"p\">=</span> <span class=\"mi\">0</span> <span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"figure\">\n <img src=\"../demo/imdisttf_src.jpg\"></img>\n <img src=\"../demo/imdisttf_edge.jpg\"></img>\n <div class=\"caption\">\n  <span class=\"content\">\n   <b>Left:</b> A detail of the source image. <b>Right:</b> Extracted\n   Canny edges. Figure generated by <code/><a href=../matlab/demo/vl_demo_imdisttf.html>vl_demo_imdisttf</a></code>.\n  </span>\n </div>\n</div>\n\n<p>The edge map is preprocessed to assign value <code/>-inf</code> to\nthe pixels that do not contain an edge element and <code/>o</code> to\nthe pixels that do. In this way, the distance transform of the image\nhas for each pixel the distance to the nearest edge element, provided\nthat one chooses <code/>alpha=beta=1</code> and <code/>v0=u0=0</code> in\nthe definition. Since these are the default values for VLFeat\nimplementations, the result an be computed by</p>\n\n<div class=\"highlight\"><pre><span class=\"p\">[</span><span class=\"n\">distanceTransform</span><span class=\"p\">,</span> <span class=\"n\">neighbors</span><span class=\"p\">]</span> <span class=\"p\">=</span> <span class=\"n\">vl_imdisttf</span><span class=\"p\">(</span><span class=\"n\">single</span><span class=\"p\">(</span><span class=\"n\">edges</span><span class=\"p\">))</span> <span class=\"p\">;</span>\n</pre></div>\n\n\n<p>The matrix <code/>neighbors</code> contains for each\npixel <code/>(u,v)</code> the index of the pixel <code/>(u',v')</code>\nwhere the maximum is attained in the definition of the distance\ntransform. This allows to associate to know for each pixel which is\nthe nearest edge element, not just its distance, as exemplified by the\nfollowing figure:</p>\n\n<div class=\"figure\">\n <img src=\"../demo/imdisttf_dist.jpg\"></img>\n <img src=\"../demo/imdisttf_neigh.jpg\"></img>\n <div class=\"caption\">\n  <span class=\"content\">\n   The distance <code/>sqrt(distanceTransform)</code> to the closest\n   edge element (left) and arrows connecting pixels to their closest\n   edge element (right). Figure generated\n   by <code/><a href=../matlab/demo/vl_demo_imdisttf.html>vl_demo_imdisttf</a></code>.\n  </span>\n </div>\n</div>\n\n\n<h1 id=\"id-1233\">References</h1>\n<ul>\n  <li><p id=\"ref1\">[1] P. F. Felzenszwalb and\n      D. P. Huttenlocher. Distance transforms of sampled\n      functions. Technical report, Cornell University, 2004.</p></li>\n</ul>\n\n\n  \n      </div>\n      <div class=\"clear\">&nbsp;</div>\n    </div>\n  </div> <!-- content-section -->\n  <div id=\"footer-section\">\n    <div id=\"footer\">\n      &copy; 2007-13 The authors of VLFeat\n    </div> <!-- footer -->\n  </div> <!-- footer section -->\n </body>\n <!-- Body ends -->\n</html>\n ", "encoding": "ascii"}