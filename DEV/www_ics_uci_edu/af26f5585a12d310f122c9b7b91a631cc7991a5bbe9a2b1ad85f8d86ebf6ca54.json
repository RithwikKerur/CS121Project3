{"url": "https://www.ics.uci.edu/~irani/w10_23/Lab4.html", "content": "<?xml version=\"1.0\" encoding=\"iso-8859-1\"?>\r\n<!DOCTYPE html PUBLIC\r\n \"-//W3C//DTD XHTML 1.1//EN\"\r\n \"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd\">\r\n\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\">\r\n\r\n<head>\r\n<meta http-equiv=\"content-type\" content=\"text/html; charset=iso-8859-1\" />\r\n<link rel=\"stylesheet\" href=\"course2.css\" type=\"text/css\" />\r\n\r\n<title>ICS 23 / CSE 23 - Project #4: Lord of the Ringbinders</title>\r\n</head>\r\n\r\n<body>\r\n\r\n<div class=\"header\">\r\n\r\n<p>ICS 23 / CSE 23 - Project #4: <i>Lord of the Ringbinders</i></p>\r\n\r\n</div>\r\n\r\n<div class=\"section\">\r\n\r\n<p class=\"center\"><b>Due date and time:</b> <i>Friday, February 26, 6:59pm</i></p>\r\n\r\n</div>\r\n\r\n<div class=\"section\">\r\n\r\n<hr />\r\n\r\n<p class=\"center\">\r\n<i>\r\nThree Rings for the Elven-kings under the sky, <br>\r\nSeven for the Dwarf-lords in their halls of stone, <br>\r\nNine for Mortal Men doomed to die, <br>\r\nOne for the Dark Lord on his dark throne <br>\r\nIn the Land of Mordor where the Shadows lie. <br>\r\nOne Ring to rule them all, One Ring to find them, <br>\r\nOne Ring to bring them all and in the darkness <b>bind</B> them <br>\r\nIn the Land of Mordor where the Shadows lie.\r\n</i>\r\n<p class=\"center\">\r\n- from J.R.R. Tolkien, <cite>The Lord of the Rings</cite>\r\n</p>\r\n\r\n</div>\r\n\r\n<div class=\"section\">\r\n\r\n<hr />\r\n\r\n<p class=\"title\">Introduction</p>\r\n\r\n<p>Consider a major Web site, such as <a\r\nhref=\"http://www.amazon.com/\">Amazon.com</a>.  At any given time,\r\nthey're storing a tremendous amount of information, e.g., book\r\ninventory, and making it available via the Web.  Further, the\r\ninformation is fairly fluid; every minute, many thousands of requests\r\npour in, each causing information to be accessed, changed, added, or\r\ndeleted.</p>\r\n\r\n<p>Companies like these store their information in <i>databases</i>.  A\r\ndatabase is a collection of data, which can be visualized as\r\na table consisting of\r\nrows and columns.\r\nEach row corresponds to a <i>data record</i> and reach column\r\ncorresponds to an <i>attribute</i> that the data can have.\r\nFor example, in a database of books, each data record (row)\r\nwould correspond to an individual book, and each attribute (column)\r\nwould correspond to an attribute that a book can have, such as its\r\nauthor, title, or ISBN number.\r\nIn the case of books, the ISBN is a <i>unique</i> attribute, which is\r\ndifferent for each book.\r\nIn particular, each ISBN number contains a prefix that identifies the\r\noriginating country and publisher, and additional digits that\r\nuniquely identify the book.\r\nThus, one could enumerate all books for a certain country or\r\npublisher just by reporting all the data records (rows) in a book\r\ndatabase that have ISBN numbers with a certain prefix.\r\n\r\n</div>\r\n\r\n<div class=\"section\">\r\n\r\n<hr />\r\n\r\n<p class=\"title\">Tables, rows, and columns</p>\r\n\r\n<p>For the purposes of this project, our <i>database</i>\r\nis a collection of <i>records</i>, each of which corresponds to a book.\r\nEach book record consists of five attributes, as shown below:\r\n</p>\r\n\r\n<table class=\"normal\">\r\n  <tr class=\"top\">\r\n    <td>ISBN Number (key)</td>\r\n    <td>Author(s)</td>\r\n    <td>Title</td>\r\n    <td>Publisher</td>\r\n    <td>Year</td>\r\n  </tr>\r\n  <tr>\r\n    <td>0471128457</td>\r\n    <td>Schneier, Bruce</td>\r\n    <td>Applied Cryptography</td>\r\n    <td>John Wiley & Sons</td>\r\n    <td>1996</td>\r\n  </tr>\r\n  <tr>\r\n    <td>0471469831</td>\r\n    <td>Goodrich, M., and Tamassia, R.</td>\r\n    <td>Data Structures and Algorithms in Java</td>\r\n    <td>John Wiley & Sons</td>\r\n    <td>2004</td>\r\n  </tr>\r\n  <tr>\r\n    <td>0618517650</td>\r\n    <td>Tolkien, J.R.R.</td>\r\n    <td>The Lord of the Rings</td>\r\n    <td>George Allen & Unwin</td>\r\n    <td>1954</td>\r\n  </tr>\r\n</table>\r\n\r\n<p>\r\nImportantly, one of the attributes (i.e., a column)\r\ncontains a <i>key</i> value, which\r\nis used to uniquely identify the record.\r\nNo two records will\r\never have the same key.</p>\r\n\r\n</div>\r\n\r\n<div class=\"section\">\r\n\r\n<hr />\r\n\r\n<p class=\"title\">The program</p>\r\n\r\n<p>Your program for this project is not intended to be\r\nanywhere near a production-quality database management system (DBMS).\r\nMany of the ideas that I've\r\nintroduced above are simply to provide you enough background to\r\nunderstand the larger context into which your work fits.  Your program\r\nwill be a prototype of a very simple database system, capable of\r\nstoring book data, searching that data by keys,\r\nupdating that data, and removing it.\r\nFor simplicity, all of the data\r\nwill be character strings.\r\n</p>\r\n\r\n<p>Your program will read a sequence of commands from the console\r\n(presumably using a BufferedReader wrapped around an InputStreamReader\r\nwrapped around System.in) and print output to System.out as directed by\r\nthe specification below.  Your program should <i>not</i> print out any\r\nprompts such as \"Please enter your next command.\"  It should simply\r\nread commands blindly typed into the console, process them, and produce\r\noutput.  Many of the commands, in fact, will produce no output.  The\r\nreason for this design decision is two-fold.  Firstly, this is intended\r\nto be a prototype, meaning that it's not intended to be used by anyone\r\nwho is not familiar with the details of the project, so the user\r\ninterface need not be all that friendly.  Secondly, directly reading\r\ncommands from the console allows us to redirect input from a file into\r\nthe program, then redirect output into another file, for ease of\r\nautomated testing.  (I'll talk more about this aspect of the project\r\nlater in the write-up.)</p>\r\n\r\n</div>\r\n\r\n<div class=\"section\">\r\n\r\n<hr />\r\n\r\n<p class=\"title\">The commands</p>\r\n\r\n<p>Your program needs to support the following commands:</p>\r\n\r\n<table class=\"normal\">\r\n  <tr class=\"top\">\r\n    <td>Command</td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      <p><b>INSERT</b> - Inserts a new book record into your database,\r\n      with the given ISBN key and the required data values.\r\n      </p>\r\n\r\n      <p><pre>INSERT <i>ISBNKey</i> author=\"<i>authorName</i>\" title=\"<i>bookTitle</i>\" publisher=\"<i>publisherName</i>\" year=<i>yearValue</i> </pre></p>\r\n      <p>\r\n      where all of the fields are character strings, even the ones\r\n      not in quotes (quotes cannot be used inside names or titles)\r\n      <p>Examples:</p>\r\n      <ul>\r\n        <li><pre>INSERT 0471469831 author=\"Goodrich, M., and Tamassia, R.\" title=\"Data Structures and Algorithms in Java\" publisher=\"John Wiley & Sons\" year=2004</pre>\r\n        <li><pre>INSERT 0618517650 author=\"Tolkien, J.R.R.\" title=\"The Lord of the Rings\" publisher=\"George Allen & Unwin\" year=1954</pre>\r\n      </ul>\r\n      <p>This command should generate no output.\r\n      The value placed into the ISBN key attribute must be unique in the database (i.e. no book may already exist with that value for is\r\n      ISBN key).\r\n      </p>\r\n\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      <p><b>LOOKUP</b> - Retrieves all the books in the database having\r\n      a specified prefix in their ISBN keys, ordered by ISBN keys.</p>\r\n      <p><pre>LOOKUP <i>ISBNPrefix</i></pre> </p>\r\n      <p>Examples:</p>\r\n      <ul>\r\n        <li><pre>LOOKUP 0471</pre></li>\r\n\t<p>Looks up and prints the attributes of all books whose ISBN\r\n\tkey has the prefix 0471 (which corresponds to the publisher\r\n\tJohn Wiley & Sons).</p>\r\n      <p>The above command should generate output that looks like this:</p>\r\n      <p>\r\n<pre>\r\n0471128457 author=\"Schneier, Bruce\" title=\"Applied Cryptography\" publisher=\"John Wiley & Sons\" year=1996\r\n0471469831 author=\"Goodrich, M., and Tamassia, R.\" title=\"Data Structures and Algorithms in Java\" publisher=\"John Wiley & Sons\" year=2004\r\n</pre>\r\n        <li><pre>LOOKUP 0618517650</pre></li>\r\n\t<p>Looks up and prints the attributes of all books whose ISBN\r\n\tkey has the prefix 0618517650 (which corresponds to the one Tolkien\r\n\tbook).\r\n\t</p>\r\n      <p>The above command should generate output that looks like this:</p>\r\n<pre>\r\n0618517650 author=\"Tolkien, J.R.R.\" title=\"The Lord of the Rings\" publisher=\"George Allen & Unwin\" year=1954\r\n</pre>\r\n      </ul>\r\n    </p>\r\n      <p>This command should print all the retrieved\r\n      book records as space-delimited\r\n      lists of key-value pairs, ordered by their ISBN keys.\r\n      </p>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      <p><b>DELETE</b> - Removes a book record with a particular key.</p>\r\n      <p><pre>DELETE <i>ISBNKey</i></pre></p>\r\n      <p>Examples:</p>\r\n      <ul>\r\n        <li><pre>DELETE 0471128457</pre>\r\n\tDeletes the book record with ISBNKey\r\n        equal to 0471128457, that is, the \"Applied Cryptography\" book.\r\n      </ul>\r\n      <p>This command should generate no output, unless the desired\r\n      record is not present (in which case the output should simply\r\n      be ERROR.</p>\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td>\r\n      <p><b>EXIT</b> - Exits the program.</p>\r\n      <p><pre>EXIT</pre></p>\r\n      <p>This command should generate no output, and should end the program immediately.</p>\r\n    </td>\r\n  </tr>\r\n</table>\r\n\r\n<p></p>\r\n\r\n</div>\r\n\r\n<div class=\"section\">\r\n\r\n<hr />\r\n\r\n<p class=\"title\">Starting point</p>\r\n\r\n<p>\r\nYou're required to write the code for this project from scratch.\r\nNo code is provided. You should name the class that contains the main method <b> BookDatabase.java </b>.\r\n</p>\r\n\r\n</div>\r\n\r\n\r\n<div class=\"section\">\r\n\r\n<hr />\r\n\r\n<p class=\"title\">Handling erroneous commands</p>\r\n\r\n<p>Since your program is intended to be a rudimentary prototype, it\r\nneed not report specific error messages to indicate specific problems.\r\nInstead, any command that is not understood or does not follow the\r\nrules above should cause your program to simply print the word \"ERROR\"\r\nby itself on a line.\r\n</p>\r\n\r\n</div>\r\n\r\n<div class=\"section\">\r\n\r\n<hr />\r\n\r\n<p class=\"title\">Implementing the Database</p>\r\n\r\n<p>You can think of our database as\r\na data structure that is commonly called a <i>map</i>.\r\nA map is a set of key/value pairs,\r\nwhere each key uniquely identifies a particular value.  In our case, we\r\ncan conceptually think of each record in the table as a key/value pair,\r\nwhere the key is the string value of the ISBN key for that record, and the\r\nvalue is the set of values for the remaining attributes.</p>\r\n\r\n<p>Since our database may contain a very large collection of\r\nbook records, it will be necessary for us to build an efficient implementation,\r\nwhich will provide fast insertions, lookups, and deletions.\r\nFor this project, you <b>must</b> implement the database as a\r\nrandom <b><i>skip list</i></b>, ordered by ISBN keys.\r\nBecause it is fundamentally necessary to have your skip list working before\r\nyou can build any of the other pieces, you should write and test this\r\npart of your project before moving on to the rest.\r\n</p>\r\n\r\n</div>\r\n\r\n<div class=\"section\">\r\n\r\n<hr />\r\n\r\n<p class=\"title\">Redirection of input and output</p>\r\n\r\n<p>Recall that you can execute a Java program from the command line by using the <b>java</b> command, like this:</p>\r\n\r\n<pre>\r\njava MyProgram\r\n</pre>\r\n\r\n<p>where MyProgram is the name of the class that contains a main( ) method.  Ordinarily, a Java program reads its \"standard\" input from the console, and writes its \"standard\" output to the console.  In other words, when you use the System.out.println( ) method, the output goes to the console.</p>\r\n\r\n<p>Most operating systems -- Windows, Unix, and Linux, for example -- allow you to <i>redirect</i> the standard input and output when you execute a program.  The contents of an existing file may be redirected into the standard input, meaning that, rather than allowing the user to type input into the console, the program proceeds as though the user has typed the next line of the file each time the program requires input.  Similarly, the standard output can be redirected into a file, meaning that all of the output to System.out will be stored in a file, rather than displayed on the console.</p>\r\n\r\n<p>The typical mechanism for redirection is to use the <b>&lt;</b> and <b>&gt;</b> operator on the command line, like this:</p>\r\n\r\n<pre>\r\njava MyProgram &lt;my-input.txt &gt;my-output.txt\r\n</pre>\r\n\r\n<p>Using the command above, every time the program needs input, it will read it from the file <b>my-input.txt</b>.  Every time it writes output, it will write it to the file <b>my-output.txt</b>.  It is possible to redirect the standard input without redirecting the standard output, and vice versa.  Note that the operating system deals with the <b>&lt;my-input.txt</b> and <b>&gt;my-output.txt</b> arguments itself before executing the program, so these will not end up in the array of Strings passed to the main( ) method.  In fact, the Java program will not even be aware of the redirection!  As far as the program is concerned, it's reading input from the console and writing output to the console.  The operating system handles the redirection transparently.</p>\r\n\r\n<p>This powerful and simple technique will allow you to write test input and reuse it many times while testing this program, so that you can test your database with large sets of data.</p>\r\n\r\n</div>\r\n\r\n<div class=\"section\">\r\n\r\n<hr />\r\n\r\n<p class=\"title\">Deliverables</p>\r\n\r\n<p>You must turn in all of the <b>.java</b> files.\r\nPlease do not include any <b>.class</b> files or other files\r\ngenerated by your development environment.\r\nYou should name the class that contains the main method <b> BookDatabase.java </b>.\r\n</p>\r\n\r\n<p>Follow <a href=\"SubmittingProjects.html\">this link</a> for an explanation of how to turn in your project.</p>\r\n\r\n</div>\r\n\r\n<div class=\"section\">\r\n\r\n<hr />\r\n\r\n<p class=\"title\">Limitations and advice</p>\r\n\r\n<p>You may not use the predefined Java \"collection\" classes, such as java.util.TreeMap, in your solution.  (The \"collection\" classes are the ones that store a collection of data, and include such classes as ArrayList, LinkedList, HashMap, Vector, Hashtable, and TreeMap.)</p>\r\n\r\n<p>I can't stress enough the need to <i>start early</i>.  The previous two projects involved a lot of conceptual thinking, but not very much coding.  This project, on the other hand, will require you to write more code.  It's actually not as big as you may believe, but I would allocate plenty of time to work on it, so that you can get your questions answered early on, and still have plenty of time to write the code.</p>\r\n\r\n</div>\r\n\r\n<div class=\"history\">\r\n\r\n<hr />\r\n\r\n<ul class=\"nomarker\">\r\n  <li>Some additional explanation added and minor rewrites by Alex Thornton, Summer 2004.</li>\r\n  <li>Addition of the Command pattern and provided CommandParser class, along with some new explanations in the write-up, by Alex Thornton, Summer 2003.</li>\r\n  <li>User interface requirements adjusted and some provided source code modified by Alex Thornton, Spring 2003.</li>\r\n  <li>Originally written by Alex Thornton, Fall 2002.</li>\r\n</ul>\r\n\r\n</div>\r\n\r\n</body>\r\n</html>\r\n", "encoding": "ascii"}