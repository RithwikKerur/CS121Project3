{"url": "https://www.ics.uci.edu/~majumder/VC/211HW3/vlfeat/toolbox/misc/inthist.tc", "content": "/** @file inthist.tc\n ** @brief vl_intist.c helper\n ** @author Andrea Vedaldi\n **/\n\n/*\nCopyright (C) 2007-12 Andrea Vedaldi and Brian Fulkerson.\nAll rights reserved.\n\nThis file is part of the VLFeat library and is made available under\nthe terms of the BSD license (see the COPYING file).\n*/\n\n#define JOIN_(a,b) a ## b\n#define JOIN(a,b) JOIN_(a,b)\n\n#undef INTEGRAL\n#define INTEGRAL JOIN(integral_, SFX)\n\n/*\n   This function is 'transpose safe': The integral histogram SRC can\n   be either column major or row major, as long as WIDTH is the\n   fastest varying dimension.\n*/\nvoid INTEGRAL (T* dst,\n               int dstStride,\n               T const* src,\n               int srcWidth, int srcHeight, int srcStride)\n{\n  int x, y ;\n  *dst = *src ;\n  dst += 1 ;\n  src += 1 ;\n\n  for (x = 1 ; x < srcWidth ; ++ x) {\n    *dst = *(dst - 1)  + *src ;\n    dst += 1 ;\n    src += 1 ;\n  }\n\n  for (y = 1 ; y < srcHeight ; ++ y) {\n    dst += dstStride - srcWidth ;\n    src += srcStride - srcWidth ;\n\n    *dst = *(dst - dstStride) + *src ;\n    dst += 1 ;\n    src += 1 ;\n\n    for (x = 1 ; x < srcWidth ; ++ x) {\n      *dst =  *(dst - dstStride) - *(dst - dstStride - 1) +  *(dst - 1)  + *src ;\n      dst += 1 ;\n      src += 1 ;\n    }\n  }\n}\n", "encoding": "ascii"}