{"url": "https://www.ics.uci.edu/~ejw/authoring/mime-res/draft-stracke-webdav-mime-resource-00.txt", "content": "Network Working Group                           John Stracke, eCal\nInternet-Draft\ndraft-stracke-webdav-mime-resource-00.txt\nExpires six months after:                       25 Feb. 1999\n\n                   Encoding a DAV resource in MIME\n\nStatus of this Memo\n\n   This document is an Internet-Draft.  Internet-Drafts are working\n   documents of the Internet Engineering Task Force (IETF), its areas,\n   andits working groups. Note that other groups may also distribute\n   working documents as Internet-Drafts.\n\n   Internet-Drafts are draft documents valid for a maximum of six\n   months.  Internet-Drafts may be updated, replaced, or made obsolete\n   by other documents at any time.  It is not appropriate to use\n   Internet-Drafts as reference material or to cite them other than as a\n   \"working draft\" or \"work in progress\".\n\n   To view the entire list of current Internet-Drafts, please check the\n   \"1id-abstracts.txt\" listing contained in the Internet-Drafts Shadow\n   Directories on ftp.is.co.za (Africa), ftp.nordu.net (Northern\n   Europe), ftp.nis.garr.it (Southern Europe), munnari.oz.au (Pacific\n   Rim), ftp.ietf.org (US East Coast), or ftp.isi.edu (US West Coast).\n\n   Distribution of this document is unlimited.\n\n   Copyright (C) The Internet Society 1999. All Rights Reserved.\n\nAbstract\n\n   This memo proposes a mechanism for representing a [WEBDAV] resource\n   as a MIME entity, bundling together the resource's body,\n   properties, and member resources.\n\nTable of Contents\n\n   1.      Introduction\n   2.      XML Syntax\n   2.1     <DAV:resource>\n   2.2     <DAV:body>\n   2.3     <DAV:xmlbody>\n   2.4     <DAV:members>\n   3.      Use of multipart/related\n   4.      Examples\n   4.1     An XML resource with an inline body\n   4.2     A GIF resource with an external body\n   4.3     A collection, containing three external HTML pages\n   4.4     A reference\n   5.      Use with MKCOL\n   6.      Acknowledgments\n   7.      Security Considerations\n   8.      Bibliography\n   9.      Author's Address\n   10.     Full Copyright Statement\n\n1.      Introduction\n\n   [WEBDAV] defines behavior for HTTP resources beyond that defined in\n   [HTTP1.1]; this behavior includes storing metainformation (called\n   \"properties\", and formatted as [XML]) and being able to list the\n   members of collection resources (which correspond to subdirectories\n   in a filesystem).  In some applications, it will be useful to be\n   able to encapsulate all aspects of such an enhanced resource into a\n   single document; for example, if a DAV server implementor wishes to\n   support cross-server COPY, it will be most efficient if there is\n   some way to deliver the resource being copied to the destination\n   server in a single operation.  This memo proposes an [XML] syntax\n   for describing a resource, and a profile for bundling the\n   description together with the resource's MIME content into a\n   multipart/related entity ([RFC-2387]).\n\n2.      XML Syntax\n\n   (Author's note: the following is an informal description of the\n   proposed syntax.  A DTD can be created if and when necessary.)\n\n2.1     <DAV:resource>\n\n   The description of a DAV resource is represented by an XML\n   <DAV:resource> element (where DAV: represents the same namespace as\n   in [WEBDAV]).  A <DAV:resource> element may contain the following\n   elements (each is optional; none may appear more than once):\n\n        <DAV:prop>      as defined in [WEBDAV]; represents properties\n                        of the resource\n\n        <DAV:body>      defined below\n\n        <DAV:members>   defined below\n\n        <DAV:href>      as defined in [WEBDAV]; used only in a\n                        <DAV:resource> contained in a <DAV:members>.  \n                        Must be a relative URI with no path\n                        separators.  Represents the URI of the\n                        resource, relative to the URI of the resource\n                        described by the enclosing <DAV:resource>. a \n\n2.2     <DAV:body>\n\n   A <DAV:body> element supplies a MIME entity which is to constitute\n   the resource's body (that is, the entity which would be supplied in\n   response to a successful GET).  It may contain either a <DAV:src>\n   element ([WEBDAV]), which supplies a URI for an external entity, or\n   a <DAV:xmlbody> (below), which supplies XML for an inline XML\n   entity.  These two are mutually exclusive.\n\n   Note that it is legal for a <DAV:resource> to contain both a\n   <DAV:body> and a <DAV:members>, since GET on a collection resource\n   is legal (and quite common).  If this is the case, and the\n   <DAV:members> also contains a member resource which might otherwise\n   be provided in response to GET (e.g., a resource whose relative\n   href is \"index.html\"), then the <DAV:body> MUST take precedence\n   over the member resource.  (This is to ensure predictability: if a\n   server is provided with a <DAV:resource> representing a collection,\n   the creator of the collection may not know which relative hrefs the\n   server recognizes as default documents.)\n\n2.3     <DAV:xmlbody>\n\n   A <DAV:xmlbody> is used to include an XML document in the resource\n   description, rather than referring to an external entity.  When\n   <DAV:xmlbody> is used, it means that the resource's body is the\n   contents of the <DAV:xmlbody> element.  The element may have a\n   \"type\" attribute, which corresponds to a Content-type header on the\n   entity (this is necessary because an XML document may be either\n   text/xml or application/xml).\n\n2.4     <DAV:members>\n\n   A <DAV:members> element lists the member resources of a collection.\n   A <DAV:members> element MUST NOT be present if the <DAV:prop>\n   element specifies (via DAV:resourcetype) that the resource is not a\n   collection.  The <DAV:members> element contains zero or more\n   <DAV:resource> elements which describe the collection's member\n   resources.\n\n3.      Use of multipart/related\n\n   A multipart/related entity may be used to bundle the description of\n   a resource with entities representing the body of the resource and\n   its members (if applicable).  In this case, <DAV:body> elements may\n   use cid: URIs to refer to body parts of the multipart/related.\n\n4.      Examples\n\n   (DUBLIN: properties are Dublin Core metadata, as described in\n   [DUBLIN] and [DUBLIN-DAV].)\n\n4.1     An XML resource with an inline body\n\n   <DAV:resource>\n    <DAV:prop>\n     <DAV:getcontenttype>text/xml</DAV:getcontenttype>\n     <DUBLIN:Title>Moonlight and Vines</DUBLIN:Title>\n     <DUBLIN:Creator>Charles de Lint</DUBLIN:Creator>\n    </DAV:prop>\n\n    <DAV:body>\n     <DAV:xmlbody>\n      <book>\n       <poem>\n        <title>Sweetgrass & City Streets</title>\n        <content>...</content>\n       </poem>\n\n       <story>\n        <title>Saskia</title>\n        <content>...</content>\n       </story>\n\n       <story>\n        <title>In This Soul Of A Woman</title>\n        <content>...</content>\n       </story>\n\n       ...\n\n      </book>\n     </DAV:xmlbody>\n    </DAV:body>\n\n   </DAV:resource>\n\n4.2     A GIF resource with an external body\n\n   <DAV:resource>\n    <DAV:prop>\n     <DAV:getcontenttype>image/gif</DAV:getcontenttype>\n     <DUBLIN:Title>IETF Logo</DUBLIN:Title>\n    </DAV:prop>\n\n    <DAV:body>\n     <DAV:src>\n      <DAV:href>http://www.ietf.org/images/ietflogo2e.gif</DAV:href>\n     </DAV:src>\n    </DAV:body>\n\n   </DAV:resource>\n\n4.3     A collection, containing three external HTML pages\n\n   <DAV:resource>\n    <DAV:prop>\n     <DAV:resourcetype><DAV:collection/></DAV:resourcetype>\n    </DAV:prop>\n\n    <DAV:members>\n     <DAV:resource>\n      <DAV:prop>\n       <DUBLIN:title>IETF Home Page</DUBLIN:title>\n      </DAV:prop>\n\n      <DAV:body>\n       <DAV:src>\n        <DAV:href>http://www.ietf.org/index.html</DAV:href>\n       </DAV:src>\n      </DAV:body>\n\n      <DAV:href>index.html</DAV:href>\n     </DAV:resource>\n\n     <DAV:resource>\n      <DAV:prop>\n       <DUBLIN:title>IETF Overview</DUBLIN:title>\n      </DAV:prop>\n\n      <DAV:body>\n       <DAV:src>\n        <DAV:href>http://www.ietf.org/overview.html</DAV:href>\n       </DAV:src>\n      </DAV:body>\n\n      <DAV:href>overview.html</DAV:href>\n     </DAV:resource>\n\n     <DAV:resource>\n      <DAV:prop>\n       <DUBLIN:title>IESG</DUBLIN:title>\n      </DAV:prop>\n\n      <DAV:body>\n       <DAV:src>\n        <DAV:href>http://www.ietf.org/iesg.html</DAV:href>\n       </DAV:src>\n      </DAV:body>\n\n      <DAV:href>iesg.html</DAV:href>\n     </DAV:resource>\n\n    </DAV:members>\n\n   </DAV:resource>\n\n4.4     A reference\n\n   Note that this resource does not have a body; it is defined wholly\n   by its properties.\n\n   <DAV:resource>\n    <DAV:prop>\n     <DAV:resourcetype><DAV:reference/></DAV:resourcetype>\n     <DAV:reftype><DAV:direct/></DAV:reftype>\n     <DAV:reftarget>http://www.ietf.org</DAV:resourcetype>\n    </DAV:prop>\n\n   </DAV:resource>\n\n5.      Use with MKCOL\n\n   [WEBDAV] specifies that MKCOL may have a request body, but does not\n   specify any legal formats.  The syntax defined in this memo could\n   be used for a MKCOL request body; by submitting either a\n   <DAV:resource> or a multipart/related containing a <DAV:resource>,\n   a client could provide the complete contents of a collection to be\n   created.\n\n6.      Acknowledgments\n\n   The impetus for this memo was a discussion with Geoff Clemm on the\n   WebDAV mailing list about the best way to represent structured\n   documents.\n\n7.      Security Considerations\n\n   Security issues are not discussed in detail in this memo.  This\n   memo describes only a means of encoding data which is already\n   present in WebDAV; it does not introduce any new security risks\n   beyond those of WebDAV itself.\n\n8.      Bibliography\n\n   [WEBDAV] E. Whitehead, A. Faizi, S. Carter, and D. Jensen, \"HTTP\n   Extensions for Distributed Authoring -- WEBDAV\", RFC 2518,\n   ftp://ftp.isi.edu/in-notes/rfc2518.txt, February 1999.\n\n   [HTTP1.1] R. Fielding, J. Gettys, J. Mogul, H. Frystyk, and\n   T. Berners-Lee, \"Hypertext Transfer Protocol -- HTTP/1.1\", RFC\n   2068, ftp://ftp.isi.edu/in-notes/rfc2068.txt, January 1997.\n\n   [XML]       T. Bray, J. Paoli, C. M. Sperberg-McQueen, \"Extensible\n               Markup Language (XML)\" World Wide Web Consortium\n               Recommendation REC- xml-19980210.\n               http://www.w3.org/TR/1998/REC-xml-19980210.\n\n   [RFC-2387] E. Levinson, \"The MIME Multipart/Related Content-type\",\n   RFC 2387, ftp://ftp.isi.edu/in-notes/rfc2387.txt, August 1998.\n\n   [DUBLIN] S. Weibel, J. Kunze, C. Lagoze, and M. Wolf, \"Dublin Core\n   Metadata for Resource Discovery\", RFC 2413,\n   ftp://ftp.isi.edu/in-notes/rfc2413.txt, September 1998.\n\n   [DUBLIN-DAV] J. Stracke, \"Use of Dublin Core Metadata in WebDAV\",\n   Internet-Draft,\n   http://www.ietf.org/internet-drafts/draft-ietf-webdav-dublin-core-00.txt,\n   October 1998.\n\n9.      Author's Address\n\n   The following address information is provided in a vCard v3.0,\n   Electronic Business Card, format.\n\n   begin:vcard \n   n:Stracke;John\n   tel;home:610-519-1215\n   tel;work:215-574-4900x27\n   x-mozilla-html:TRUE\n   url:http://www.ecal.com\n   org:eCal, Inc.\n   version:2.1\n   email;internet:francis@appoint.net\n   title:Chief Scientist\n   adr;quoted-printable:;;234 N Columbus Blvd.=0D=0A3rd Floor;Philadelphia;PA;19106-1401;USA\n   fn:John Stracke\n   end:vcard\n\n10.     Full Copyright Statement\n\n   Copyright (C) The Internet Society (1999).  All Rights Reserved.\n\n   This document and translations of it may be copied and furnished to\n   others, and derivative works that comment on or otherwise explain it\n   or assist in its implmentation may be prepared, copied, published and\n   distributed, in whole or in part, without restriction of any kind,\n   provided that the above copyright notice and this paragraph are\n   included on all such copies and derivative works.  However, this\n   document itself may not be modified in any way, such as by removing\n   the copyright notice or references to the Internet Society or other\n   Internet organizations, except as needed for the purpose of\n   developing Internet standards in which case the procedures for\n   copyrights defined in the Internet Standards process MUST be\n   followed, or as required to translate it into languages other than\n   English.\n\n   The limited permissions granted above are perpetual and will not be\n   revoked by the Internet Society or its successors or assigns.\n\n   This document and the information contained herein is provided on an\n   \"AS IS\" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING\n   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING\n   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION\n   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF\n   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.\n", "encoding": "ascii"}