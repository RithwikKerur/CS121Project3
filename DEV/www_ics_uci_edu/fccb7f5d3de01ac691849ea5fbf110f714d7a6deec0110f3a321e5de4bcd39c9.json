{"url": "https://www.ics.uci.edu/~ics1c/hw4/08.html", "content": "<!DOCTYPE HTML PUBLIC \"-//W3O//DTD W3 HTML 2.0//EN\">\n\n<HTML>\n<!-- base href=\"file://localhost/u3/ea/eapu231/ics.1c/hw4final1.html\" -->\n<HEAD>\n<TITLE>Intel's Pentium Chip Flaw</TITLE>\n</HEAD>\n\n<BODY>\n\n<H1>Intel's Pentium Chip Flaw</H1>\n\n<hr><P>\n<H2>Author:  Claire Wu</H2>\nE-mail:  eapu231@ea.oac.uci.edu\n\n<H2>Introduction:</H2><BR>\n   Last year, in November 1994, Professor Thomas Nicely, a mathematics   \nprofessor at Lynchburg College in Lynchburg, Virginia, discovered\n<A HREF=\"http://wombat.doc.ic.ac.uk/?floating-point\">floating-\npoint</A> errors when calculating the\nreciprocals of prime numbers(i.e. numbers that are only divisible\nby 1 and itself--e.g. the number \"29\").  After\nthe discovery of the<A HREF=\"http://wombat.doc.ic.ac.uk/?floating-point\"> \nfloating- point</A> error--<A HREF=\"http://www.intel.com\">Intel</A>\nannounced that they had already\ndiscovered the problem in June of 1994--but has since corrected it at the \ndesign stage.  At first, when the news leaked out that there was a flaw in\nthe floating point unit of the chip--\n<A HREF=\"http://www.intel.com\">Intel</A> said the chip need not be\nrecalled.  Intel claims that the error only occurs one in nine billions\nof a time.  At that time, Intel also said that it would continue sending\nto computer makers such as <A HREF=\"http://www.ibm.com\">IBM</A>,\n<A HREF=\"http://www.compaq.com\">Compaq</A> and\n<A HREF=\"http://www.dell.com\">Dell</A>,\n<A HREF=\"http://web.jf.intel.com:80/procs/pentium/index.html\">Pentium</A>\nchips built before the problem was detected.  Engineers, scientists, and\nresearchers were outraged at this since their computations involve\nprecise calculations.  <A HREF=\"http://www.intel.com\">Intel</A> said that\nthe error occurred because\nof an omission in the translation of a formula into the computer\nhardware.  The problem was rectified by adding several dozens of  transistors\nto the chip.  In December of 1994, <A HREF=\"http://www.ibm.com\">IBM</A>\nannounced that it would stop shipment of computers that had the \n<A HREF=\"http://web.jf.intel.com/procs/pentium/index.html\">Pentium</A> \nmicroprocessor due to customer concern--as a result Intel, in January of \n1995, began offering replacement chips.  This incident has caused \ncontroversy on <A HREF=\"http://www.intel.com\">Intel's</A> integrity as\nthe world's leading and most trusting chip manufacturer.  It also \nreflects on how well or badly Intel handles this situation.\n\n<H2>Debut of the Pentium</H2><BR>\nIntel's\n<A HREF=\"http://wombat.doc.ic.ac.uk/?Pentium\">Pentium</A> chip debuted in\nMay 1993<A HREF=\"#FN1\">[1]</A>, and is <A \nHREF=\"http://www.intel.com\">Intel's</A> top of the line \n<A HREF=\"http://wombat.doc.ic.ac.uk/?microprocessor\">microprocessor</A>.  \nThis chip is three times as complex as the \n<A HREF=\"http://wombat.doc.ic.ac.uk/?Intel+80486\">486</A> chip.\n<A HREF=\"http://www.intel.com\">Intel</A> could not call this generation of\nchips \"586\" since a U.S. court hearing ruled that one cannot \ntrademark a number<A HREF=\"#FN2\">[2]</A>.  Hence, Intel called the fifth in \nthe 80x86 line\n<A HREF=\"http://wombat.doc.ic.ac.uk/?Pentium\">\"Pentium\".</A>  There are\napproximately 4 million Pentiums in use according to \n<A HREF=\"http://www.pathfinder.com/pathfinder/Greet.html\">TIME</A>\nmagazine.\n<P>\n<H2>Overview of Intel's Pentium</H2><BR>\nThe <A HREF=\"http://wombat.doc.ic.ac.uk/?Pentium\">Pentium</A> is \n<A HREF=\"http://www.intel.com\">Intel's</A> top of the line\n<A HREF=\"http://wombat.doc.ic.ac.uk/?microprocessor\">microprocessor</A>.\nA <A HREF=\"http://wombat.doc.ic.ac.uk/?microprocessor\">microprocessor</A>\nis also known as the  \n<A HREF=\"http://wombat.doc.ic.ac.uk/?central+processing+unit\">central\nprocessing unit (CPU)</A>, or the \"brain of the computer.\"  The\n<A HREF=\"http://wombat.doc.ic.ac.uk/?central+processing+unit\">CPU</A>\nfetches instruction from its memory and decodes these instructions.  The\n<A HREF=\"http://wombat.doc.ic.ac.uk/?microprocessor\">microprocessor</A>\nis a <A HREF=\"http://wombat.doc.ic.ac.uk/?central+processing+unit\">CPU</A>\non an <A HREF=\"http://wombat.doc.ic.ac.uk/?integrated+circuit\">integrated\ncircuit</A>, which is a chip  made from a silicon wafer.\nA chip has many interconnected digital transistors which can consists of\none to millions of <A HREF=\"http://wombat.doc.ic.ac.uk/?logic+gate\">logic\ngates</A>.<BR>\n<H3>What every microprocessor has</H3><BR>\n<ol>\n<LI>Memory-- <A HREF=\"http://wombat.doc.ic.ac.uk/?RAM\">Random Access \nMemory (RAM)</A>.\n<LI><A HREF=\"http://wombat.doc.ic.ac.uk/?memory+management\">Memory\nmanagement</A>--is a \"collection of techniques for providing sufficient\nmemory to one or more processes in a computer system, especially when the\ncomputer system does not have enough memory to satisfy all processes'\nrequirement simultaneously.\"  These techniques includes \n<A HREF=\"http://wombat.doc.ic.ac.uk/?swap\">swapping</A>, and\n<A HREF=\"http://wombat.doc.ic.ac.uk/?virtual+memory\">virtual memory</A>.\n<LI><A HREF=\"http://wombat.doc.ic.ac.uk/?floating-point+accelerator\">\nFloating Point Unit (FPU)</A>--Part of the chip that performs addition,\nsubtraction, multiplication, division, logarithms, exponentials, \ntrigonometric functions, round-off and error detection.\n\n<LI><A HREF=\"http://wombat.doc.ic.ac.uk/?cache\">Cache</A>--A place where\nyou keep a copy of something--usually recently-accessed data.\n</LI>\n \n<H3>What is on Intel's Pentium Chip?</H3><BR>\nThe 510\\60 <A HREF=\"http://wombat.doc.ic.ac.uk/?MegaHertz\">MHz</A> and\n567\\66 <A HREF=\"http://wombat.doc.ic.ac.uk/?MegaHertz\">MHz</A> chip is\n5 Volts, 0.8 micron(one millionth of a meter) in size with 3.1 million\ntransistors.  The 610\\75, 735\\90, and 815\\100 \n<A HREF=\"http://wombat.doc.ic.ac.uk/?MegaHertz\">MHz</A> chip is 3.3 \nVolts, 0.6 micron in size with 3.3. million transistors.\n\n<H4>New Features and Improvements of the Pentium Chip vs. Intel's Other\nChips</H4>\n<UL>\n<LI>Can execute more than one instruction per clock cycle\n<LI>Has two <A HREF=\"http://wombat.doc.ic.ac.uk/?pipeline\">pipelines</A>.\nA pipeline is a sequence of functional units which performs a task in \nseveral steps.  These functional units--also known as execution units are \nwhere the chip processes the data and instructions that are fed to it by the\nrest of the system.  The Pentium's two pipelines can execute two\ninstructions simultaneously, and it executes integer instructions in \nfive stages:<BR>\n<OL>\n<LI><A HREF=\"http://wombat.doc.ic.ac.uk/?instruction+prefetch\">prefetch</A>--\na technique for instructions to be fetched from memory.  Instructions\nfollowing the one currently being executed are loaded into a prefetch\nqueue when the processor's external bus is otherwise idle.\n<LI>decode 1\n<LI>decode 2\n<LI>decode 3\n<LI>execute\n<LI>writeback\n</OL>\n<LI><A HREF=\"http://wombat.doc.ic.ac.uk/?hard-wired\">Hardwired \ninstructions</A>--This is an aspect of of an electronic circuit which is\ndetermined by the wiring of the hardware as opposed to being \nprogrammable in software or controlled by a switch.  This improves\nperformance.\n<LI>Separate Code and Data <A HREF=\"http://wombat.doc.ic.ac.uk/?cache\">Caches\n</A><A HREF=\"#FN3\">[3]</A>--The <A \nHREF=\"http://web.jf.intel.com/procs/pentium/index.html\">Pentium</A>\nhas separate on code chip and data \ncaches where each of them contains 8 Kbytes of information.  Separate \nCode and Data caches is an innovative implementation since it increases \nperformance of the system by having the caches act as temporary storage \nplaces for commonly-used instructions and data--thereby replacing\n the need to go off-chip to the system's main memory to fetch \ninformation.  This increases performance because bus conflicts are\n reduced and the caches are available more often when they are needed.  \n<LI>Branch Prediction<A HREF=\"#FN4\">[4]</A>--This is an advanced computing \ntechnique that increases performance by keeping the execution\n<A HREF=\"http://wombat.doc.ic.ac.uk/?pipeline\">pipelines</A>\nfull via predetermining the most likely set of instructions to be \nexecuted.  The <A \nHREF=\"http://web.jf.intel.com:80/procs/pentium/index.html\">Pentium</A>\n is the first PC compatible microprocessor to use \nbranch prediction, which before was mainly used by mainframe computers.\n<LI>High Performance <A \nHREF=\"http://wombat.doc.ic.ac.uk/?floating-point+accelerator\">Floating\nPoint Unit (FPU)</A>--The <A HREF=\"http://www.intel.com\">Intel</A>\n 486DX processor was the first <A HREF=\"http://www.intel.com\">Intel</A> \nmicroprocessor to integrate math coprocessing  functions on the chip.  \nPrevious generations of Intel processors used off-chip math coprocessors when\n<A HREF=\"http://wombat.doc.ic.ac.uk/?floating-point\">floating-point</A>\ncalculations were required.  The Pentium uses an enhanced on-chip \n<A HREF=\"http://wombat.doc.ic.ac.uk/?floating-point\">floating-point unit</A>\nthat uses eight stage <A \nHREF=\"http://wombat.doc.ic.ac.uk/?pipeline\">pipelining</A> and \n<A HREF=\"http://wombat.doc.ic.ac.uk/?hard-wired\">hardwired</A> functions.\n<LI>Enhanced Data Bus<A HREF=\"#FN5\">[5]</A>--The\n<A HREF=\"http://web.jf.intel.com:80/procs/pentium/index.html\">Pentium</A> \nhas an enhanced external 64-bit data \nbus.  The data bus is the information highway between the processor and\n the memory subsystem.  The Pentium can transfer data to and from memory at\nup to 528 Mega bytes per second--this is more than 5 times the <B>peak</B>\ntransfer of the Intel's 66MHz 486DX2 microprocessor which is 105 Mega bytes\nper second.\n<LI>Data Integrity Features<A HREF=\"#FN6\">[6]</A>--This includes internal \nerror detection which is a feature that helps detect errors in a way\n that remains transparent to both the user and the system.  The other\n features are SL Enhanced Power Management, multiprocessor support, and \nperformance monitoring.\n</UL>\n<P>\n<H2>Professor Thomas Nicely's Discovery of the Floating-Point Error and\nthe Uproar that Ensued</H2>\nOn October 30, 1994, Dr. Thomas Nicely, a mathematics professor at \nLynchburg College, in Lynchburg, Virginia, sent out a memo to his colleagues\nannouncing his conjectured discovery that there might be a bug in the\nfloating point unit of all Pentium processors.  In his  \n<A HREF=\"http://www.mathworks.com/Nicely_1.txt\">memo</A> he claimed that\nwhen he computed (824633702441.0)*(1/824633702441.0), on the \nPentiums that he tested, the value 0.999999996274709702 was obtained.\nClearly, the answer should be 1.  Dr. Nicely came to the conclusion that\nthere was a flaw in the floating point unit of the chip since June 1994,\nbut thought that the error was due to his code or the software he was \nusing or the compiler, etc...--but made the conclusion when he tried \nthis on other Pentiums.  Afterwards, Intel made the announcement that they\nhad discovered the problem in June 1994 at the design stage.  The flaw\noccurs in the floating point unit.  Intel said that the error occurred \nbecause of an omission in the translation of a formula into the \ncomputer hardware--but was later rectified by adding several dozens of\ntransistors to the chip<A HREF=\"#FN7\">[7]</A>.  At first,\n<A HREF=\"http://www.intel.com\">Intel</A> said that the chips need not to\nbe recalled--if one thinks that there is a problem they must\n call <A HREF=\"http://www.intel.com\">Intel</A>\nand Intel's representatives would make the judgement if the chip need to\nbe replaced or not.  This violated business rule number 1:  <B>THE\nCUSTOMER IS ALWAYS RIGHT</B>.  By having the consumer talk to Intel, and\nhaving Intel make the judgement about the replacement of the flawed chip\n<B>INFURIATED</B> people.  This showed Intel's arrogance and gave the media\nthe portrayal that Intel is not concerned with good customer relations.\nThe <A HREF=\"http://wombat.doc.ic.ac.uk/?Internet\">Internet</A> was flooded\n with this uproar and Intel received several   \nthousand of phone calls from concerned customers.  Despite this, Intel \nstill insisted that the flaw only affects those users who perform highly\ncomplex mathematical calculations and according to Andy Grove, president\nof Intel states \"...An error is only likely to occur at a frequency of the\norder of once in nine billion random floating-point divides.\"  On \nDecember 12, 1994, <A HREF=\"http://www.ibm.com\">IBM</A> announced that\n it would stop shipments\nof personal computers with the Pentium chip based on \nIBM's own analysis<A HREF=\"#FN8\">[8]</A>.  IBM's action is\n justified since \"We believe no one\n should have to wonder to about the integrity of data calculated on IBM \nPC's,\" said G. Richard Thorman, IBM senior vice president and group \nexecutive.  IBM's study concluded that with common spreadsheet programs \nrecalculating for 15 minutes a day--the Pentium errors could be produced \nas often as once every 24 days.  Two days later on December 14, 1994, \nIntel released a\ndocument <A HREF=\"http://www.intel.com/product/pentium/white11/index.html\">\nStatistical Analysis of Floating Point Flaw in the Pentium Processor \n(1994)</A> which discusses how Intel obtained the number that the error\nonly occurs in one out of nine billion divides.  On December 20, 1994, \nIntel announced an <B>UPON-REQUEST REPLACEMENT POLICY ON PENTIUM\nPROCESSORS WITH FLOATING-POINT FLAW</B>.  Intel will use its fourth-quarter\nearnings to cover\n the costs associated with the replacement program\n<A HREF=\"#FN9\">[9]</A>. \nIntel relented to its previous adamant policy of chip return after\nbeing criticized in the past previous weeks for replacing processors on \nthe basis of need rather than on request.\n\n<H2>Inaccuracy of the Pentium's Floating Point Unit</H2><BR>\nComputers uses the binary system to translate text and numbers.  \nFor division problems where the result is not a <B>whole</B> number,\nthe floating point unit consults a \"look-up\" table for the closest\nbinary equivalent.  Most microprocessors' \"look-up\" tables are accurate\nto 16 digits--but some parts of the Pentium's \"look-up\" tables are only\naccurate to 5 digits<A HREF=\"#FN10\">[10]</A>. \n<H2>What to do if you want to replace your Pentium Chip</H2><BR>\nIf you want bought a Pentium and want your chip to be replaced go to\n<A HREF=\"http://web.jf.intel.com/procs/support/pentium/fdiv/replqa3.html\">\nhttp://web.jf.intel.com/procs/support/pentium/fdiv/replqa3.html</A>.  For \nany user who requests it--Intel will replace the Pentium processor with\nan updated chip, anytime during the lifetime of the user's computer.  Intel\nwill have service locations to replace the chip--but one must call\n1-800-628-8686 to ask for a replacement chip.  If one wants to have Intel\nmail the chip directly--Intel will ask for a major credit card number--they\nneed the credit card number as security until the original chip is\nreturned within 30 days of the new shipment of the replacement chip.  If you\ndo not send back the flawed chip then Intel will charge for the\nreplacement chip accordingly.\n  \n<H2>What will Intel do with the Returned Flawed Chips?</H2>\nIntel <B>WILL NOT</B> re-use the flawed chips--instead they will grind\nthe chips to recover the gold, tungsten, and aluminum used in the chips'\nmanufacture.  This will provide a cost-effective way to recycle some\nof the raw materials used in their manufacture.\n\n<P>\n<H2>Footnotes</H2>\n\n<A NAME=\"FN1\">[1]</A><A HREF=\"http://www.mathworks.com/Andy_Grove.txt\">\nhttp://www.mathworks.com/Andy_Grove.txt</A>.  This is Andy Grove's \n(President of Intel) Internet posting of the Pentium chip flaw.<BR>\n<A NAME=\"FN2\">[2]</A>\n<A HREF=\"http://www.dur.ac.uk/~d22t8r/chip.list/80586.html\">http://www.\ndur.ac.uk/~d22t8r/chiplist/80586.html</A>.  This describes how\nPentium got its name.<BR>\n<A NAME=\"FN3\">[3]</A>\n<A HREF=\"http://web.jf.intel.com/procs/pentium/pptech/cache.html\">http://web.\njf.intel.com/procs/pentium/pptech/cache.html</A>.  This describes the \nSeparate Code and Data Caches in more detail.<BR>\n<A NAME=\"FN4\">[4]</A>\n<A HREF=\"http://www.intel.com/procs/pentium/pptech/branch.html\">\nhttp://www.intel.com/procs/pentium/pptech/branch.html</A>--This\ndocument describes in greater detail this super computing technique called\nbranch prediction.<BR>\n<A NAME=\"FN5\">[5]</A>\n<A HREF=\"http://www.intel.com/procs/pentium/pptech/64bus.html\">\nhttp://www.intel.com/procs/pentium/pptech/64bus.html</A>.  This document\ndescribes in greater detail about the Enhanced Local Bus feature.<BR>\n<A NAME=\"FN6\">[6]</A>\n<A HREF=\"http://www.intel.com/procs/pentium/pptech/otherf.html\">\nhttp://www.intel.com/procs/pentium/pptech/otherf.html</A>.  This document\ndescribes in greater detail the Data Integrity Features of the Pentium\nChip.<BR>\n<A NAME=\"FN7\">[7]</A>\n<A \nHREF=\"http://www.mathworks.com/NYT_2.txt\">http://www.mathworks.com/NYT_2.txt\n</A>This is the December 19, 1994 New York Times article by Laurie Flynn.  \nThis article describes how businesses and institutions are reacting\nto the Pentium Chip Flaw controversy.<BR>\n<A NAME=\"FN8\">[8]</A>\n<A HREF=\"http://www.ibmlink.ibm.com/oi/press/pressrel/94121201.html\">\nhttp://www.ibmlink.ibm.com/oi/press/pressrel/94121201.html</A>\nThis article, released by IBM, gives its justification to stop its\nshipments of Pentium PC's.<BR>   \n<A NAME=\"FN9\">[9]</A>   \n<A HREF=\"http://www.mathworks.com/Intel_replace.txt\">\nhttp://www.mathworks.com/Intel_replace.txt</A>.  This is Intel's\nannouncement that it will have a \"upon request replacement policy\" on the\nPentium chip.<BR>\n<A NAME=\"FN10\">[10]\n<A HREF=\"http://www.mathworks.com/NYT_Dec14.gif\">\nhttp://www.mathworks.com/NYT_Dec14.gif</A>.  This document is from the\nDecember 14, 1994 New York Times article describing the Pentium flaw and how\nsome makers of software, such as Mathworks--creator of MATLAB are\nreleasing software to counteract for the error deficiency.\n<P>\n<H2>References:</H2> <OL>\n<LI><A HREF=\"http://einstein.et.tudelft.nl/~offerman/chiplist.html#CPU\n\">http://einstein.et.tudelft.nl/~offerman/chiplist.html#CPU\n</A><BR>\nThis site describes all the chips made by companies such as AMD, Intel\nfrom the early 1970's to the present.  Also included \nis some sparse information on the Pentium chip.\n\n\n<LI><A HREF=\"http://infopad.eecs.berkeley.edu/CIC/\">\nhttp://infopad.eecs.berkeley.edu/CIC/</A><BR>\nThis site gives information of the history of CPU's.  It\nalso talks about Intel's 90 and 100\nMHz microprocessors.  The 100 MHz Pentium processor is almost\n175 percent faster than the 66MHz IntelDX2 processor.\n<LI><A HREF=\"ftp://ftp.intel.com/pub/IAL/pentium/bckgrn.txt\">\nftp://ftp.intel.com/pub/IAL/pentium/bckgrn.txt</A><BR>\nThis site describes about the design of the Pentium \nprocessor  and the floating point unit of the processor\nwhere the flaw arises.  This site gives the architecture\nof the Pentium chip. The chip is built around\ntwo pipelines. \n<LI><A HREF=\"http://www.intel.com/procs/pentium/index.html\">\nhttp://www.intel.com/procs/pentium/index.html</A><BR>\nThis is Intel's site.  This site contains information\nand a product overview of the Pentium microprocessor. It\nalso has a link for the Floating Point Divide Flaw.  One\ncan check if their microprocessor does contain the flaw\nby executing a CPU ID File.  Intel\nclaims that the overwhelming majority of users will\nnever encounter the flaw since it only occurs one out of \nnine billion times.\n<LI><A HREF=\"http://www.mathworks.com/README.html\">http://www.mathworks.com/README.html</A><BR>\nThis site contains the Pentium Papers which a collection of documents\nconcerning the Pentium Chip Flaw.  The links includes Professor\nThomas Nicely's memo on his discovery of the Pentium Division flaw\nwhen he was doing calculations on the reciprocals of prime numbers.\nThere are also articles from the New York Times and Time Magazine\nexposing the Pentium flaw.  Another interesting link at this site\nis a graphical representation of the flaw on the Pentium chip.\n<LI><A HREF=\"http://wombat.doc.ic.ac.uk/\">http://wombat.doc.ic.ac.uk/</A>\nThis is the Computing Dictionary site where one can find many definitions\nof computer terms.\n<LI><A \nHREF=\"http://gnn.com/gnn/meta/imedia/features/intel/index.html\">http://\ngnn.com/gnn/meta/imedia/features/intel/index.html</A> is a \ndocument entitled \"The Pentium Bug War Ends PR as We Know It\"--a\ncommentary on the assessment of how Intel dealt with the Pentium\nChip Flaw controversy.\n\n</OL>\n\n\n\n\n<hr><P>\n\n</BODY>\n</HTML>\n\n\n", "encoding": "ascii"}